/*! For license information please see main.335acb18.js.LICENSE.txt */
(()=>{var e={4(e,t,n){"use strict";var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var k=Symbol.for("react.client.reference");function x(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===k?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case C:return"Suspense";case S:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case E:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:x(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return x(e(t))}catch(n){}}return null}var D=Array.isArray,P=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},B=[],F=-1;function j(e){return{current:e}}function U(e){0>F||(e.current=B[F],B[F]=null,F--)}function V(e,t){F++,B[F]=e.current,e.current=t}var z,H,W=j(null),G=j(null),q=j(null),X=j(null);function K(e,t){switch(V(q,t),V(G,e),V(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vh(t=yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),V(W,e)}function Y(){U(W),U(G),U(q)}function Q(e){null!==e.memoizedState&&V(X,e);var t=W.current,n=vh(t,e.type);t!==n&&(V(G,e),V(W,n))}function Z(e){G.current===e&&(U(W),U(G)),X.current===e&&(U(X),ud._currentValue=L)}function J(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+z+e+H}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var c=a.split("\n"),l=s.split("\n");for(o=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;o<l.length&&!l[o].includes("DetermineComponentFrameRoot");)o++;if(r===c.length||o===l.length)for(r=c.length-1,o=l.length-1;1<=r&&0<=o&&c[r]!==l[o];)o--;for(;1<=r&&0<=o;r--,o--)if(c[r]!==l[o]){if(1!==r||1!==o)do{if(r--,0>--o||c[r]!==l[o]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,ce=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function we(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ee(e)/_e|0)|0},Ee=Math.log,_e=Math.LN2;var Ce=256,Se=262144,Ae=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?o=Ie(r):0!==(a&=s)?o=Ie(a):n||0!==(n=s&~e)&&(o=Ie(n)):0!==(s=r&~i)?o=Ie(s):0!==a?o=Ie(a):n||0!==(n=r&~e)&&(o=Ie(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Oe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=Ae;return 0===(62914560&(Ae<<=1))&&(Ae=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Be(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Id(e.type)}function je(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Ue=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Ue,ze="__reactProps$"+Ue,He="__reactContainer$"+Ue,We="__reactEvents$"+Ue,Ge="__reactListeners$"+Ue,qe="__reactHandles$"+Ue,Xe="__reactResources$"+Ue,Ke="__reactMarker$"+Ue;function Ye(e){delete e[Ve],delete e[ze],delete e[We],delete e[Ge],delete e[qe]}function Qe(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Lh(e);null!==e;){if(n=e[Ve])return n;e=Lh(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Ve]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function $e(e){var t=e[Xe];return t||(t=e[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},st={};function ct(e,t,n){if(o=t,re.call(st,o)||!re.call(at,o)&&(it.test(o)?st[o]=!0:(at[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?bt(e,a,ht(t)):null!=n?bt(e,a,ht(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ht(s):e.removeAttribute("name")}function wt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ft(e)}function bt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Et(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||At.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&It(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&It(e,i,t[i])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ot=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xt(){}var Dt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Lt=null;function Bt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[ze]||null;if(!o)throw Error(a(90));vt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Et(e,!!n.multiple,t,!1)}}}var Ft=!1;function jt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Mt||null!==Lt)&&($l(),Mt&&(t=Mt,e=Lt,Lt=Mt=null,Bt(t),e)))for(t=0;t<e.length;t++)Bt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Vt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Zd){zt=!1}var Wt=null,Gt=null,qt=null;function Xt(){if(qt)return qt;var e,t,n=Gt,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return qt=o.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Yt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=f({},tn,{view:0,detail:0}),on=Zt(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),sn=Zt(an),cn=Zt(f({},an,{dataTransfer:0})),ln=Zt(f({},rn,{relatedTarget:0})),un=Zt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Zt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Zt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var vn=Zt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Zt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Zt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),En=Zt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Zt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Zt(f({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],An=Vt&&"CompositionEvent"in window,In=null;Vt&&"documentMode"in document&&(In=document.documentMode);var Tn=Vt&&"TextEvent"in window&&!In,Nn=Vt&&(!An||In&&8<In&&11>=In),On=String.fromCharCode(32),Rn=!1;function kn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Ln(e,t,n,r){Mt?Lt?Lt.push(r):Lt=[r]:Mt=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,Fn=null;function jn(e){Yu(e,0)}function Un(e){if(pt(Je(e)))return e}function Vn(e,t){if("change"===e)return t}var zn=!1;if(Vt){var Hn;if(Vt){var Wn="oninput"in document;if(!Wn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Wn="function"===typeof Gn.oninput}Hn=Wn}else Hn=!1;zn=Hn&&(!document.documentMode||9<document.documentMode)}function qn(){Bn&&(Bn.detachEvent("onpropertychange",Xn),Fn=Bn=null)}function Xn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];Ln(t,Fn,e,Pt(e)),jt(jn,t)}}function Kn(e,t,n){"focusin"===e?(qn(),Fn=n,(Bn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&qn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function Qn(e,t){if("click"===e)return Un(t)}function Zn(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Vt&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,cr=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==gt(r)||("selectionStart"in(r=ar)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&$n(cr,r)||(cr=r,0<(r=rh(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),vr=gr("animationstart"),wr=gr("transitionrun"),br=gr("transitionstart"),Er=gr("transitioncancel"),_r=gr("transitionend"),Cr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Cr.set(e,t),rt(t,[e])}Sr.push("scrollEnd");var Ir="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Nr=0,Or=0;function Rr(){for(var e=Nr,t=Or=Nr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var i=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Pr(n,o,i)}}function kr(e,t,n,r){Tr[Nr++]=e,Tr[Nr++]=t,Tr[Nr++]=n,Tr[Nr++]=r,Or|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return kr(e,t,n,r),Mr(e)}function Dr(e,t){return kr(e,null,null,t),Mr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-be(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Mr(e){if(50<Wl)throw Wl=0,Gl=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Br(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Br(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)jr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Fr(31,n,t,o)).elementType=T,e.lanes=i,e;case y:return Hr(n.children,o,i,t);case v:s=8,o|=24;break;case w:return(e=Fr(12,n,t,2|o)).elementType=w,e.lanes=i,e;case C:return(e=Fr(13,n,t,o)).elementType=C,e.lanes=i,e;case S:return(e=Fr(19,n,t,o)).elementType=S,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case b:s=9;break e;case _:s=11;break e;case A:s=14;break e;case I:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Gr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=new WeakMap;function Kr(e,t){if("object"===typeof e&&null!==e){var n=Xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Xr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Qr=0,Zr=null,Jr=0,$r=[],eo=0,to=null,no=1,ro="";function oo(e,t){Yr[Qr++]=Jr,Yr[Qr++]=Zr,Zr=e,Jr=t}function io(e,t,n){$r[eo++]=no,$r[eo++]=ro,$r[eo++]=to,to=e;var r=no;e=ro;var o=32-be(r)-1;r&=~(1<<o),n+=1;var i=32-be(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,no=1<<32-be(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function ao(e){null!==e.return&&(oo(e,1),io(e,1,0))}function so(e){for(;e===Zr;)Zr=Yr[--Qr],Yr[Qr]=null,Jr=Yr[--Qr],Yr[Qr]=null;for(;e===to;)to=$r[--eo],$r[eo]=null,ro=$r[--eo],$r[eo]=null,no=$r[--eo],$r[eo]=null}function co(e,t){$r[eo++]=no,$r[eo++]=ro,$r[eo++]=to,no=t.id,ro=t.overflow,to=e}var lo=null,uo=null,ho=!1,fo=null,po=!1,go=Error(a(519));function mo(e){throw _o(Kr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),go}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[ze]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Xu.length;n++)Qu(Xu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),Ct(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||lh(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=xt),t=!0):t=!1,t||mo(e,!0)}function vo(e){for(lo=e.return;lo;)switch(lo.tag){case 5:case 31:case 13:return void(po=!1);case 27:case 3:return void(po=!0);default:lo=lo.return}}function wo(e){if(e!==lo)return!1;if(!ho)return vo(e),ho=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&uo&&mo(e),vo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));uo=Mh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));uo=Mh(e)}else 27===n?(n=uo,Ih(e.type)?(e=Ph,Ph=null,uo=e):uo=n):uo=lo?Dh(e.stateNode.nextSibling):null;return!0}function bo(){uo=lo=null,ho=!1}function Eo(){var e=fo;return null!==e&&(null===Rl?Rl=e:Rl.push.apply(Rl,e),fo=null),e}function _o(e){null===fo?fo=[e]:fo.push(e)}var Co=j(null),So=null,Ao=null;function Io(e,t,n){V(Co,t._currentValue),t._currentValue=n}function To(e){e._currentValue=Co.current,U(Co)}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var c=i;i=o;for(var l=0;l<t.length;l++)if(c.context===t[l]){i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),No(i.return,n,e),r||(s=null);break e}i=c.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),No(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Ro(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var c=o.type;Jn(o.pendingProps.value,s.value)||(null!==e?e.push(c):e=[c])}}else if(o===X.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(ud):e=[ud])}o=o.return}null!==e&&Oo(t,e,n,r),t.flags|=262144}function ko(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xo(e){So=e,Ao=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Do(e){return Mo(So,e)}function Po(e,t){return null===So&&xo(e),Mo(e,t)}function Mo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ao){if(null===e)throw Error(a(308));Ao=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ao=Ao.next=t;return n}var Lo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Bo=r.unstable_scheduleCallback,Fo=r.unstable_NormalPriority,jo={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new Lo,data:new Map,refCount:0}}function Vo(e){e.refCount--,0===e.refCount&&Bo(Fo,function(){e.controller.abort()})}var zo=null,Ho=0,Wo=0,Go=null;function qo(){if(0===--Ho&&null!==zo){null!==Go&&(Go.status="fulfilled");var e=zo;zo=null,Wo=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xo=P.S;P.S=function(e,t){Dl=ce(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zo){var n=zo=[];Ho=0,Wo=zu(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ho++,t.then(qo,qo)}(0,t),null!==Xo&&Xo(e,t)};var Ko=j(null);function Yo(){var e=Ko.current;return null!==e?e:pl.pooledCache}function Qo(e,t){V(Ko,null===t?Ko.current:t.pool)}function Zo(){var e=Yo();return null===e?null:{parent:jo._currentValue,pool:e}}var Jo=Error(a(460)),$o=Error(a(474)),ei=Error(a(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(xt,xt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw si(e=t.reason),e;default:if("string"===typeof t.status)t.then(xt,xt);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw si(e=t.reason),e}throw ii=t,Jo}}function oi(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ii=t,Jo;throw t}}var ii=null;function ai(){if(null===ii)throw Error(a(459));var e=ii;return ii=null,e}function si(e){if(e===Jo||e===ei)throw Error(a(483))}var ci=null,li=0;function ui(e){var t=li;return li+=1,null===ci&&(ci=[]),ri(ci,e,t)}function hi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function di(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&oi(i)===t.type)?(hi(t=o(t,n.props),n),t.return=e,t):(hi(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return hi(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case I:return d(e,t=oi(t),n)}if(D(t)||R(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,ui(t),n);if(t.$$typeof===E)return d(e,Po(e,t),n);di(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===o?l(e,t,n,r):null;case m:return n.key===o?u(e,t,n,r):null;case I:return f(e,t,n=oi(n),r)}if(D(n)||R(n))return null!==o?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ui(n),r);if(n.$$typeof===E)return f(e,t,Po(e,n),r);di(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return p(e,t,n,r=oi(r),o)}if(D(r)||R(r))return h(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return p(e,t,n,ui(r),o);if(r.$$typeof===E)return p(e,t,n,Po(t,r),o);di(t,r)}return null}function v(c,l,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var w=u.key;null!==l;){if(l.key===w){if((w=u.type)===y){if(7===l.tag){n(c,l.sibling),(h=o(l,u.props.children)).return=c,c=h;break e}}else if(l.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===I&&oi(w)===l.type){n(c,l.sibling),hi(h=o(l,u.props),u),h.return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===y?((h=Hr(u.props.children,c.mode,h,u.key)).return=c,c=h):(hi(h=zr(u.type,u.key,u.props,null,c.mode,h),u),h.return=c,c=h)}return s(c);case m:e:{for(w=u.key;null!==l;){if(l.key===w){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(h=o(l,u.children||[])).return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}(h=qr(u,c.mode,h)).return=c,c=h}return s(c);case I:return v(c,l,u=oi(u),h)}if(D(u))return function(o,a,s,c){for(var l=null,u=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(o,h,s[g],c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(o,h),a=i(y,a,g),null===u?l=y:u.sibling=y,u=y,h=m}if(g===s.length)return n(o,h),ho&&oo(o,g),l;if(null===h){for(;g<s.length;g++)null!==(h=d(o,s[g],c))&&(a=i(h,a,g),null===u?l=h:u.sibling=h,u=h);return ho&&oo(o,g),l}for(h=r(h);g<s.length;g++)null!==(m=p(h,o,g,s[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=i(m,a,g),null===u?l=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(o,e)}),ho&&oo(o,g),l}(c,l,u,h);if(R(u)){if("function"!==typeof(w=R(u)))throw Error(a(150));return function(o,s,c,l){if(null==c)throw Error(a(151));for(var u=null,h=null,g=s,m=s=0,y=null,v=c.next();null!==g&&!v.done;m++,v=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=f(o,g,v.value,l);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(o,g),s=i(w,s,m),null===h?u=w:h.sibling=w,h=w,g=y}if(v.done)return n(o,g),ho&&oo(o,m),u;if(null===g){for(;!v.done;m++,v=c.next())null!==(v=d(o,v.value,l))&&(s=i(v,s,m),null===h?u=v:h.sibling=v,h=v);return ho&&oo(o,m),u}for(g=r(g);!v.done;m++,v=c.next())null!==(v=p(g,o,m,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=i(v,s,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach(function(e){return t(o,e)}),ho&&oo(o,m),u}(c,l,u=w.call(u),h)}if("function"===typeof u.then)return v(c,l,ui(u),h);if(u.$$typeof===E)return v(c,l,Po(c,u),h);di(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(h=o(l,u)).return=c,c=h):(n(c,l),(h=Wr(u,c.mode,h)).return=c,c=h),s(c)):n(c,l)}return function(e,t,n,r){try{li=0;var o=v(e,t,n,r);return ci=null,o}catch(a){if(a===Jo||a===ei)throw a;var i=Fr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var pi=fi(!0),gi=fi(!1),mi=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Mr(e),Pr(e,null,n),t}return kr(e,r,t,n),Mr(e)}function Ei(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function _i(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ci=!1;function Si(){if(Ci){if(null!==Go)throw Go}}function Ai(e,t,n,r){Ci=!1;var o=e.updateQueue;mi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?i=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==i){var h=o.baseState;for(a=0,u=l=c=null,s=i;;){var d=-536870913&s.lane,p=d!==s.lane;if(p?(ml&d)===d:(r&d)===d){0!==d&&d===Wo&&(Ci=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;d=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,d);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=m.payload)?g.call(y,h,d):g)||void 0===d)break e;h=f({},h,d);break e;case 2:mi=!0}}null!==(d=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[d]:p.push(d))}else p={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=h):u=u.next=p,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),Sl|=a,e.lanes=a,e.memoizedState=h}}function Ii(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ti(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ii(n[e],t)}var Ni=j(null),Oi=j(0);function Ri(e,t){V(Oi,e=_l),V(Ni,t),_l=e|t.baseLanes}function ki(){V(Oi,_l),V(Ni,Ni.current)}function xi(){_l=Oi.current,U(Ni),U(Oi)}var Di=j(null),Pi=null;function Mi(e){var t=e.alternate;V(Ui,1&Ui.current),V(Di,e),null===Pi&&(null===t||null!==Ni.current||null!==t.memoizedState)&&(Pi=e)}function Li(e){V(Ui,Ui.current),V(Di,e),null===Pi&&(Pi=e)}function Bi(e){22===e.tag?(V(Ui,Ui.current),V(Di,e),null===Pi&&(Pi=e)):Fi()}function Fi(){V(Ui,Ui.current),V(Di,Di.current)}function ji(e){U(Di),Pi===e&&(Pi=null),U(Ui)}var Ui=j(0);function Vi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||kh(n)||xh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=0,Hi=null,Wi=null,Gi=null,qi=!1,Xi=!1,Ki=!1,Yi=0,Qi=0,Zi=null,Ji=0;function $i(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,o,i){return zi=i,Hi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?ms:ys,Ki=!1,i=n(r,o),Ki=!1,Xi&&(i=ra(t,n,r,o)),na(e),i}function na(e){P.H=gs;var t=null!==Wi&&null!==Wi.next;if(zi=0,Gi=Wi=Hi=null,qi=!1,Qi=0,Zi=null,t)throw Error(a(300));null===e||Ds||null!==(e=e.dependencies)&&ko(e)&&(Ds=!0)}function ra(e,t,n,r){Hi=e;var o=0;do{if(Xi&&(Zi=null),Qi=0,Xi=!1,25<=o)throw Error(a(301));if(o+=1,Gi=Wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}P.H=vs,i=t(n,r)}while(Xi);return i}function oa(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?ua(t):t,e=e.useState()[0],(null!==Wi?Wi.memoizedState:null)!==e&&(Hi.flags|=1024),t}function ia(){var e=0!==Yi;return Yi=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function sa(e){if(qi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qi=!1}zi=0,Gi=Wi=Hi=null,Xi=!1,Qi=Yi=0,Zi=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gi?Hi.memoizedState=Gi=e:Gi=Gi.next=e,Gi}function la(){if(null===Wi){var e=Hi.alternate;e=null!==e?e.memoizedState:null}else e=Wi.next;var t=null===Gi?Hi.memoizedState:Gi.next;if(null!==t)Gi=t,Wi=e;else{if(null===e){if(null===Hi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Wi=e).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===Gi?Hi.memoizedState=Gi=e:Gi=Gi.next=e}return Gi}function ua(e){var t=Qi;return Qi+=1,null===Zi&&(Zi=[]),e=ri(Zi,e,t),t=Hi,null===(null===Gi?t.memoizedState:Gi.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?ms:ys),e}function ha(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ua(e);if(e.$$typeof===E)return Do(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=Hi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function fa(e,t){return"function"===typeof t?t(e):t}function pa(e){return ga(la(),Wi,e)}function ga(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var c=s=null,l=null,u=t=o.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ml&d)===d:(zi&d)===d){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Wo&&(h=!0);else{if((zi&f)===f){u=u.next,f===Wo&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,s=i):l=l.next=d,Hi.lanes|=f,Sl|=f}d=u.action,Ki&&n(i,d),i=u.hasEagerState?u.eagerState:n(i,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,s=i):l=l.next=f,Hi.lanes|=d,Sl|=d;u=u.next}while(null!==u&&u!==t);if(null===l?s=i:l.next=c,!Jn(i,e.memoizedState)&&(Ds=!0,h&&null!==(n=Go)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=l,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ma(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Jn(i,t.memoizedState)||(Ds=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ya(e,t,n){var r=Hi,o=la(),i=ho;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Jn((Wi||o).memoizedState,n);if(s&&(o.memoizedState=n,Ds=!0),o=o.queue,za(ba.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Gi&&1&Gi.memoizedState.tag){if(r.flags|=2048,Ba(9,{destroy:void 0},wa.bind(null,r,o,n,t),null),null===pl)throw Error(a(349));i||0!==(127&zi)||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wa(e,t,n,r){t.value=n,t.getSnapshot=r,Ea(t)&&_a(e)}function ba(e,t,n){return n(function(){Ea(t)&&_a(e)})}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function _a(e){var t=Dr(e,2);null!==t&&Kl(t,e,2)}function Ca(e){var t=ca();if("function"===typeof e){var n=e;if(e=n(),Ki){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Sa(e,t,n,r){return e.baseState=n,ga(e,Wi,"function"===typeof r?r:fa)}function Aa(e,t,n,r,o){if(ds(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==P.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Ia(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ia(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=P.T,a={};P.T=a;try{var s=n(o,r),c=P.S;null!==c&&c(a,s),Ta(e,t,s)}catch(l){Oa(e,t,l)}finally{null!==i&&null!==a.types&&(i.types=a.types),P.T=i}}else try{Ta(e,t,i=n(o,r))}catch(u){Oa(e,t,u)}}function Ta(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Na(e,t,n)},function(n){return Oa(e,t,n)}):Na(e,t,n)}function Na(e,t,n){t.status="fulfilled",t.value=n,Ra(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ia(e,n)))}function Oa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ra(t),t=t.next}while(t!==r)}e.action=null}function Ra(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ka(e,t){return t}function xa(e,t){if(ho){var n=pl.formState;if(null!==n){e:{var r=Hi;if(ho){if(uo){t:{for(var o=uo,i=po;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Dh(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){uo=Dh(o.nextSibling),r="F!"===o.data;break e}}mo(r)}r=!1}r&&(t=n[0])}}return(n=ca()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},n.queue=r,n=ls.bind(null,Hi,r),r.dispatch=n,r=Ca(!1),i=hs.bind(null,Hi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=ca()).queue=o,n=Aa.bind(null,Hi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Da(e){return Pa(la(),Wi,e)}function Pa(e,t,n){if(t=ga(e,t,ka)[0],e=pa(fa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ua(t)}catch(a){if(a===Jo)throw ei;throw a}else r=t;var o=(t=la()).queue,i=o.dispatch;return n!==t.memoizedState&&(Hi.flags|=2048,Ba(9,{destroy:void 0},Ma.bind(null,o,n),null)),[r,i,e]}function Ma(e,t){e.action=t}function La(e){var t=la(),n=Wi;if(null!==n)return Pa(t,n,e);la(),t=t.memoizedState;var r=(n=la()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ba(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return la().memoizedState}function ja(e,t,n,r){var o=ca();Hi.flags|=e,o.memoizedState=Ba(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ua(e,t,n,r){var o=la();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Wi&&null!==r&&ea(r,Wi.memoizedState.deps)?o.memoizedState=Ba(t,i,n,r):(Hi.flags|=e,o.memoizedState=Ba(1|t,i,n,r))}function Va(e,t){ja(8390656,8,e,t)}function za(e,t){Ua(2048,8,e,t)}function Ha(e){var t=la().memoizedState;return function(e){Hi.flags|=4;var t=Hi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fl))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Wa(e,t){return Ua(4,2,e,t)}function Ga(e,t){return Ua(4,4,e,t)}function qa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Xa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,qa.bind(null,t,e),n)}function Ka(){}function Ya(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Ki){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function Za(e,t,n){return void 0===n||0!==(1073741824&zi)&&0===(261930&ml)?e.memoizedState=t:(e.memoizedState=n,e=Xl(),Hi.lanes|=e,Sl|=e,n)}function Ja(e,t,n,r){return Jn(n,t)?n:null!==Ni.current?(e=Za(e,n,r),Jn(e,t)||(Ds=!0),e):0===(42&zi)||0!==(1073741824&zi)&&0===(261930&ml)?(Ds=!0,e.memoizedState=n):(e=Xl(),Hi.lanes|=e,Sl|=e,t)}function $a(e,t,n,r,o){var i=M.p;M.p=0!==i&&8>i?i:8;var a=P.T,s={};P.T=s,hs(e,!1,t,n);try{var c=o(),l=P.S;if(null!==l&&l(s,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(c,r),ql());else us(e,t,r,ql())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},ql())}finally{M.p=i,null!==a&&null!==s.types&&(a.types=s.types),P.T=a}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=ns(e).queue;$a(e,o,t,L,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},ql())}function os(){return Do(ud)}function is(){return la().memoizedState}function as(){return la().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=ql(),r=bi(t,e=wi(n),n);return null!==r&&(Kl(r,t,n),Ei(r,t,n)),t={cache:Uo()},void(e.payload=t)}t=t.return}}function cs(e,t,n){var r=ql();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ds(e)?fs(t,n):null!==(n=xr(e,t,n,r))&&(Kl(n,e,r),ps(n,t,r))}function ls(e,t,n){us(e,t,n,ql())}function us(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ds(e))fs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,a))return kr(e,t,o,0),null===pl&&Rr(),!1}catch(c){}if(null!==(n=xr(e,t,o,r)))return Kl(n,e,r),ps(n,t,r),!0}return!1}function hs(e,t,n,r){if(r={lane:2,revertLane:zu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(a(479))}else null!==(t=xr(e,n,r,2))&&Kl(t,e,2)}function ds(e){var t=e.alternate;return e===Hi||null!==t&&t===Hi}function fs(e,t){Xi=qi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var gs={readContext:Do,use:ha,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useLayoutEffect:$i,useInsertionEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useSyncExternalStore:$i,useId:$i,useHostTransitionStatus:$i,useFormState:$i,useActionState:$i,useOptimistic:$i,useMemoCache:$i,useCacheRefresh:$i};gs.useEffectEvent=$i;var ms={readContext:Do,use:ha,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:Do,useEffect:Va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){ja(4,2,e,t)},useMemo:function(e,t){var n=ca();t=void 0===t?null:t;var r=e();if(Ki){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ca();if(void 0!==n){var o=n(t);if(Ki){we(!0);try{n(t)}finally{we(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=cs.bind(null,Hi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:function(e){var t=(e=Ca(e)).queue,n=ls.bind(null,Hi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ka,useDeferredValue:function(e,t){return Za(ca(),e,t)},useTransition:function(){var e=Ca(!1);return e=$a.bind(null,Hi,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hi,o=ca();if(ho){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pl)throw Error(a(349));0!==(127&ml)||va(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Va(ba.bind(null,r,i,e),[e]),r.flags|=2048,Ba(9,{destroy:void 0},wa.bind(null,r,i,n,t),null),n},useId:function(){var e=ca(),t=pl.identifierPrefix;if(ho){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-be(no)-1)).toString(32)+n),0<(n=Yi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ji++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:os,useFormState:xa,useActionState:xa,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hs.bind(null,Hi,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return ca().memoizedState=ss.bind(null,Hi)},useEffectEvent:function(e){var t=ca(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fl))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Do,use:ha,useCallback:Ya,useContext:Do,useEffect:za,useImperativeHandle:Xa,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Qa,useReducer:pa,useRef:Fa,useState:function(){return pa(fa)},useDebugValue:Ka,useDeferredValue:function(e,t){return Ja(la(),Wi.memoizedState,e,t)},useTransition:function(){var e=pa(fa)[0],t=la().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:is,useHostTransitionStatus:os,useFormState:Da,useActionState:Da,useOptimistic:function(e,t){return Sa(la(),0,e,t)},useMemoCache:da,useCacheRefresh:as};ys.useEffectEvent=Ha;var vs={readContext:Do,use:ha,useCallback:Ya,useContext:Do,useEffect:za,useImperativeHandle:Xa,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Qa,useReducer:ma,useRef:Fa,useState:function(){return ma(fa)},useDebugValue:Ka,useDeferredValue:function(e,t){var n=la();return null===Wi?Za(n,e,t):Ja(n,Wi.memoizedState,e,t)},useTransition:function(){var e=ma(fa)[0],t=la().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:is,useHostTransitionStatus:os,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=la();return null!==Wi?Sa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:as};function ws(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Ha;var bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ql(),o=wi(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=bi(e,o,r))&&(Kl(t,e,r),Ei(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ql(),o=wi(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=bi(e,o,r))&&(Kl(t,e,r),Ei(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ql(),r=wi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bi(e,r,n))&&(Kl(t,e,n),Ei(t,e,n))}};function Es(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(o,i))}function _s(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Cs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Ss(e){Ir(e)}function As(e){console.error(e)}function Is(e){Ir(e)}function Ts(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ns(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Os(e,t,n){return(n=wi(n)).tag=3,n.payload={element:null},n.callback=function(){Ts(e,t)},n}function Rs(e){return(e=wi(e)).tag=3,e}function ks(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Ns(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ns(t,n,r),"function"!==typeof o&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xs=Error(a(461)),Ds=!1;function Ps(e,t,n,r){t.child=null===e?gi(t,null,n,r):pi(t,e.child,n,r)}function Ms(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return xo(t),r=ta(e,t,n,a,i,o),s=ia(),null===e||Ds?(ho&&s&&ao(t),t.flags|=1,Ps(e,t,r,o),t.child):(aa(e,t,o),oc(e,t,o))}function Ls(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||jr(i)||void 0!==i.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Bs(e,t,i,r,o))}if(i=e.child,!ic(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,r)&&e.ref===t.ref)return oc(e,t,o)}return t.flags|=1,(e=Ur(i,r)).ref=t.ref,e.return=t,t.child=e}function Bs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if($n(i,r)&&e.ref===t.ref){if(Ds=!1,t.pendingProps=r=i,!ic(e,o))return t.lanes=e.lanes,oc(e,t,o);0!==(131072&e.flags)&&(Ds=!0)}}return Ws(e,t,n,r,o)}function Fs(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Us(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Us(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qo(0,null!==i?i.cachePool:null),null!==i?Ri(t,i):ki(),Bi(t)}else null!==i?(Qo(0,i.cachePool),Ri(t,i),Fi(),t.memoizedState=null):(null!==e&&Qo(0,null),ki(),Fi());return Ps(e,t,o,n),t.child}function js(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Us(e,t,n,r,o){var i=Yo();return i=null===i?null:{parent:jo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Qo(0,null),ki(),Bi(t),null!==e&&Ro(e,t,r,!0),t.childLanes=o,null}function Vs(e,t){return(t=$s({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function zs(e,t,n){return pi(t,e.child,null,n),(e=Vs(t,t.pendingProps)).flags|=2,ji(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ws(e,t,n,r,o){return xo(t),n=ta(e,t,n,r,void 0,o),r=ia(),null===e||Ds?(ho&&r&&ao(t),t.flags|=1,Ps(e,t,n,o),t.child):(aa(e,t,o),oc(e,t,o))}function Gs(e,t,n,r,o,i){return xo(t),t.updateQueue=null,n=ra(t,r,n,o),na(e),r=ia(),null===e||Ds?(ho&&r&&ao(t),t.flags|=1,Ps(e,t,n,i),t.child):(aa(e,t,i),oc(e,t,i))}function qs(e,t,n,r,o){if(xo(t),null===t.stateNode){var i=Lr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Do(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=bs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},yi(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Do(a):Lr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ws(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&bs.enqueueReplaceState(i,i.state,null),Ai(t,r,i,o),Si(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,c=Cs(n,s);i.props=c;var l=i.context,u=n.contextType;a=Lr,"object"===typeof u&&null!==u&&(a=Do(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||l!==a)&&_s(t,i,r,a),mi=!1;var d=t.memoizedState;i.state=d,Ai(t,r,i,o),Si(),l=t.memoizedState,s||d!==l||mi?("function"===typeof h&&(ws(t,n,h,r),l=t.memoizedState),(c=mi||Es(t,n,c,r,d,l,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=a,r=c):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vi(e,t),u=Cs(n,a=t.memoizedProps),i.props=u,h=t.pendingProps,d=i.context,l=n.contextType,c=Lr,"object"===typeof l&&null!==l&&(c=Do(l)),(l="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==h||d!==c)&&_s(t,i,r,c),mi=!1,d=t.memoizedState,i.state=d,Ai(t,r,i,o),Si();var f=t.memoizedState;a!==h||d!==f||mi||null!==e&&null!==e.dependencies&&ko(e.dependencies)?("function"===typeof s&&(ws(t,n,s,r),f=t.memoizedState),(u=mi||Es(t,n,u,r,d,f,c)||null!==e&&null!==e.dependencies&&ko(e.dependencies))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=c,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Hs(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=pi(t,e.child,null,o),t.child=pi(t,null,n,o)):Ps(e,t,n,o),t.memoizedState=i.state,e=t.child):e=oc(e,t,o),e}function Xs(e,t,n,r){return bo(),t.flags|=256,Ps(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Zo()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tl),e}function Zs(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ui.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ho){if(i?Mi(t):Fi(),(e=uo)?null!==(e=null!==(e=Rh(e,po))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,lo=t,uo=null):e=null,null===e)throw mo(t);return xh(e)?t.lanes=32:t.lanes=536870912,null}var c=o.children;return o=o.fallback,i?(Fi(),c=$s({mode:"hidden",children:c},i=t.mode),o=Hr(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(o=t.child).memoizedState=Ys(n),o.childLanes=Qs(e,r,n),t.memoizedState=Ks,js(null,o)):(Mi(t),Js(t,c))}var l=e.memoizedState;if(null!==l&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Mi(t),t.flags&=-257,t=ec(e,t,n)):null!==t.memoizedState?(Fi(),t.child=e.child,t.flags|=128,t=null):(Fi(),c=o.fallback,i=t.mode,o=$s({mode:"visible",children:o.children},i),(c=Hr(c,i,n,null)).flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,pi(t,e.child,null,n),(o=t.child).memoizedState=Ys(n),o.childLanes=Qs(e,r,n),t.memoizedState=Ks,t=js(null,o));else if(Mi(t),xh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,_o({value:o,source:null,stack:null}),t=ec(e,t,n)}else if(Ds||Ro(e,t,n,!1),r=0!==(n&e.childLanes),Ds||r){if(null!==(r=pl)&&(0!==(o=Me(r,n))&&o!==l.retryLane))throw l.retryLane=o,Dr(e,o),Kl(r,e,o),xs;kh(c)||au(),t=ec(e,t,n)}else kh(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,uo=Dh(c.nextSibling),lo=t,ho=!0,fo=null,po=!1,null!==e&&co(t,e),(t=Js(t,o.children)).flags|=4096);return t}return i?(Fi(),c=o.fallback,i=t.mode,u=(l=e.child).sibling,(o=Ur(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?c=Ur(u,c):(c=Hr(c,i,n,null)).flags|=2,c.return=t,o.return=t,o.sibling=c,t.child=o,js(null,o),o=t.child,null===(c=e.child.memoizedState)?c=Ys(n):(null!==(i=c.cachePool)?(l=jo._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=Zo(),c={baseLanes:c.baseLanes|n,cachePool:i}),o.memoizedState=c,o.childLanes=Qs(e,r,n),t.memoizedState=Ks,js(e.child,o)):(Mi(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Js(e,t){return(t=$s({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $s(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function ec(e,t,n){return pi(t,e.child,null,n),(e=Js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function nc(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.treeForkCount=i)}function rc(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var a=Ui.current,s=0!==(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,V(Ui,a),Ps(e,t,r,n),r=ho?Jr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tc(e,n,t);else if(19===e.tag)tc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Vi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),nc(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Vi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}nc(t,!0,n,null,i,r);break;case"together":nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function oc(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ro(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ic(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ko(e))}function ac(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ds=!0;else{if(!ic(e,n)&&0===(128&t.flags))return Ds=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Io(0,jo,e.memoizedState.cache),bo();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Io(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Li(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zs(e,t,n):(Mi(t),null!==(e=oc(e,t,n))?e.sibling:null);Mi(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ro(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rc(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Ui,Ui.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Io(0,jo,e.memoizedState.cache)}return oc(e,t,n)}(e,t,n);Ds=0!==(131072&e.flags)}else Ds=!1,ho&&0!==(1048576&t.flags)&&io(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===_){t.tag=11,t=Ms(null,t,e,r,n);break e}if(o===A){t.tag=14,t=Ls(null,t,e,r,n);break e}}throw t=x(e)||e,Error(a(306,t,""))}jr(e)?(r=Cs(e,r),t.tag=1,t=qs(null,t,e,r,n)):(t.tag=0,t=Ws(null,t,e,r,n))}return t;case 0:return Ws(e,t,t.type,t.pendingProps,n);case 1:return qs(e,t,r=t.type,o=Cs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,vi(e,t),Ai(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Io(0,jo,r),r!==i.cache&&Oo(t,[jo],n,!0),Si(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Xs(e,t,r,n);break e}if(r!==o){_o(o=Kr(Error(a(424)),t)),t=Xs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(uo=Dh(e.firstChild),lo=t,ho=!0,fo=null,po=!0,n=gi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bo(),r===o){t=oc(e,t,n);break e}Ps(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=Gh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ho||(n=t.type,e=t.pendingProps,(r=mh(q.current).createElement(n))[Ve]=t,r[ze]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ho&&(r=t.stateNode=Bh(t.type,t.pendingProps,q.current),lo=t,po=!0,o=uo,Ih(t.type)?(Ph=o,uo=Dh(r.firstChild)):uo=o),Ps(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ho&&((o=r=uo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Dh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,po))?(t.stateNode=r,lo=t,uo=Dh(r.firstChild),po=!1,o=!0):o=!1),o||mo(t)),Q(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,wh(o,i)?r=null:null!==s&&wh(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=ta(e,t,oa,null,null,n),ud._currentValue=o),Hs(e,t),Ps(e,t,r,n),t.child;case 6:return null===e&&ho&&((e=n=uo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dh(e.nextSibling)))return null}return e}(n,t.pendingProps,po))?(t.stateNode=n,lo=t,uo=null,e=!0):e=!1),e||mo(t)),null;case 13:return Zs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pi(t,null,r,n):Ps(e,t,r,n),t.child;case 11:return Ms(e,t,t.type,t.pendingProps,n);case 7:return Ps(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ps(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Io(0,t.type,r.value),Ps(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,xo(t),r=r(o=Do(o)),t.flags|=1,Ps(e,t,r,n),t.child;case 14:return Ls(e,t,t.type,t.pendingProps,n);case 15:return Bs(e,t,t.type,t.pendingProps,n);case 19:return rc(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ho){if("hidden"===r.mode)return e=Vs(t,r),t.lanes=536870912,js(null,e);if(Li(t),(e=uo)?null!==(e=null!==(e=Rh(e,po))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,lo=t,uo=null):e=null,null===e)throw mo(t);return t.lanes=536870912,null}return Vs(t,r)}var i=e.memoizedState;if(null!==i){var s=i.dehydrated;if(Li(t),o)if(256&t.flags)t.flags&=-257,t=zs(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Ds||Ro(e,t,n,!1),o=0!==(n&e.childLanes),Ds||o){if(null!==(r=pl)&&0!==(s=Me(r,n))&&s!==i.retryLane)throw i.retryLane=s,Dr(e,s),Kl(r,e,s),xs;au(),t=zs(e,t,n)}else e=i.treeContext,uo=Dh(s.nextSibling),lo=t,ho=!0,fo=null,po=!1,null!==e&&co(t,e),(t=Vs(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return xo(t),r=Do(jo),null===e?(null===(o=Yo())&&(o=pl,i=Uo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},yi(t),Io(0,jo,o)):(0!==(e.lanes&n)&&(vi(e,t),Ai(t,null,null,n),Si()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Io(0,jo,r)):(r=i.cache,Io(0,jo,r),r!==o.cache&&Oo(t,[jo],n,!0))),Ps(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function sc(e){e.flags|=4}function cc(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw ii=ti,$o;e.flags|=8192}}else e.flags&=-16777217}function lc(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!od(t)){if(!ru())throw ii=ti,$o;e.flags|=8192}}function uc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,Nl|=t)}function hc(e,t){if(!ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fc(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),To(jo),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wo(t)?sc(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,Eo())),dc(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(sc(t),null!==i?(dc(t),lc(t,i)):(dc(t),cc(t,o,0,0,n))):i?i!==e.memoizedState?(sc(t),dc(t),lc(t,i)):(dc(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sc(t),dc(t),cc(t,o,0,0,n)),null;case 27:if(Z(t),n=q.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sc(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return dc(t),null}e=W.current,wo(t)?yo(t):(e=Bh(o,r,n),t.stateNode=e,sc(t))}return dc(t),null;case 5:if(Z(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sc(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return dc(t),null}if(i=W.current,wo(t))yo(t);else{var s=mh(q.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=s.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?s.createElement(o,{is:r.is}):s.createElement(o)}}i[Ve]=t,i[ze]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)i.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(dh(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sc(t)}}return dc(t),cc(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sc(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,wo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=lo))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||lh(e.nodeValue,n)))||mo(t,!0)}else(e=mh(e).createTextNode(r))[Ve]=t,t.stateNode=e}return dc(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=wo(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ve]=t}else bo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dc(t),e=!1}else n=Eo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(ji(t),t):(ji(t),null);if(0!==(128&t.flags))throw Error(a(558))}return dc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=wo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Ve]=t}else bo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dc(t),o=!1}else o=Eo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ji(t),t):(ji(t),null)}return ji(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),uc(t,t.updateQueue),dc(t),null);case 4:return Y(),null===e&&$u(t.stateNode.containerInfo),dc(t),null;case 10:return To(t.type),dc(t),null;case 19:if(U(Ui),null===(r=t.memoizedState))return dc(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)hc(r,!1);else{if(0!==Cl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Vi(e))){for(t.flags|=128,hc(r,!1),e=i.updateQueue,t.updateQueue=e,uc(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(Ui,1&Ui.current|2),ho&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ce()>Pl&&(t.flags|=128,o=!0,hc(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Vi(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,uc(t,e),hc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ho)return dc(t),null}else 2*ce()-r.renderingStartTime>Pl&&536870912!==n&&(t.flags|=128,o=!0,hc(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,n=Ui.current,V(Ui,o?1&n|2:1&n),ho&&oo(t,r.treeForkCount),e):(dc(t),null);case 22:case 23:return ji(t),xi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dc(t),6&t.subtreeFlags&&(t.flags|=8192)):dc(t),null!==(n=t.updateQueue)&&uc(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Ko),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),To(jo),dc(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pc(e,t){switch(so(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return To(jo),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(ji(t),null===t.alternate)throw Error(a(340));bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(ji(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Ui),null;case 4:return Y(),null;case 10:return To(t.type),null;case 22:case 23:return ji(t),xi(),null!==e&&U(Ko),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return To(jo),null;default:return null}}function gc(e,t){switch(so(t),t.tag){case 3:To(jo),Y();break;case 26:case 27:case 5:Z(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&ji(t);break;case 13:ji(t);break;case 19:U(Ui);break;case 10:To(t.type);break;case 22:case 23:ji(t),xi(),null!==e&&U(Ko);break;case 24:To(jo)}}function mc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){Cu(t,t.return,s)}}function yc(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var c=n,l=s;try{l()}catch(u){Cu(o,c,u)}}}r=r.next}while(r!==i)}}catch(u){Cu(t,t.return,u)}}function vc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ti(t,n)}catch(r){Cu(e,e.return,r)}}}function wc(e,t,n){n.props=Cs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Cu(e,t,r)}}function bc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Cu(e,t,o)}}function Ec(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){Cu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){Cu(e,t,i)}else n.current=null}function _c(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Cu(e,e.return,o)}}function Cc(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,c=null,l=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||uh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&uh(e,t,f,p,r,d)}}return void vt(e,s,c,l,u,h,i,o);case"select":for(i in p=s=c=f=null,n)if(l=n[i],n.hasOwnProperty(i)&&null!=l)switch(i){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(i)||uh(e,t,i,null,r,l)}for(o in r)if(i=r[o],l=n[o],r.hasOwnProperty(o)&&(null!=i||null!=l))switch(o){case"value":f=i;break;case"defaultValue":c=i;break;case"multiple":s=i;default:i!==l&&uh(e,t,o,i,r,l)}return t=c,n=s,r=p,void(null!=f?Et(e,!!n,f,!1):!!r!==!!n&&(null!=t?Et(e,!!n,t,!0):Et(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(o=n[c],n.hasOwnProperty(c)&&null!=o&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:uh(e,t,c,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&uh(e,t,s,o,r,i)}return void _t(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else uh(e,t,g,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else uh(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&uh(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:uh(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&uh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||uh(e,t,d,f,r,p)}(r,e.type,n,t),r[ze]=t}catch(o){Cu(e,e.return,o)}}function Sc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ih(e.type)||4===e.tag}function Ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ih(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ic(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=xt));else if(4!==r&&(27===r&&Ih(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ic(e,t,n),e=e.sibling;null!==e;)Ic(e,t,n),e=e.sibling}function Tc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ih(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tc(e,t,n),e=e.sibling;null!==e;)Tc(e,t,n),e=e.sibling}function Nc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);dh(t,r,n),t[Ve]=e,t[ze]=n}catch(i){Cu(e,e.return,i)}}var Oc=!1,Rc=!1,kc=!1,xc="function"===typeof WeakSet?WeakSet:Set,Dc=null;function Pc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kc(e,n),4&r&&mc(5,n);break;case 1:if(Kc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Cu(n,n.return,a)}else{var o=Cs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Cu(n,n.return,s)}}64&r&&vc(n),512&r&&bc(n,n.return);break;case 3:if(Kc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ti(e,t)}catch(a){Cu(n,n.return,a)}}break;case 27:null===t&&4&r&&Nc(n);case 26:case 5:Kc(e,n),null===t&&4&r&&_c(n),512&r&&bc(n,n.return);break;case 12:Kc(e,n);break;case 31:Kc(e,n),4&r&&Uc(e,n);break;case 13:Kc(e,n),4&r&&Vc(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Oc)){t=null!==t&&null!==t.memoizedState||Rc,o=Oc;var i=Rc;Oc=r,(Rc=t)&&!i?Qc(e,n,0!==(8772&n.subtreeFlags)):Kc(e,n),Oc=o,Rc=i}break;case 30:break;default:Kc(e,n)}}function Mc(e){var t=e.alternate;null!==t&&(e.alternate=null,Mc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lc=null,Bc=!1;function Fc(e,t,n){for(n=n.child;null!==n;)jc(e,t,n),n=n.sibling}function jc(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(i){}switch(n.tag){case 26:Rc||Ec(n,t),Fc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Rc||Ec(n,t);var r=Lc,o=Bc;Ih(n.type)&&(Lc=n.stateNode,Bc=!1),Fc(e,t,n),Fh(n.stateNode),Lc=r,Bc=o;break;case 5:Rc||Ec(n,t);case 6:if(r=Lc,o=Bc,Lc=null,Fc(e,t,n),Bc=o,null!==(Lc=r))if(Bc)try{(9===Lc.nodeType?Lc.body:"HTML"===Lc.nodeName?Lc.ownerDocument.body:Lc).removeChild(n.stateNode)}catch(a){Cu(n,t,a)}else try{Lc.removeChild(n.stateNode)}catch(a){Cu(n,t,a)}break;case 18:null!==Lc&&(Bc?(Th(9===(e=Lc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wd(e)):Th(Lc,n.stateNode));break;case 4:r=Lc,o=Bc,Lc=n.stateNode.containerInfo,Bc=!0,Fc(e,t,n),Lc=r,Bc=o;break;case 0:case 11:case 14:case 15:yc(2,n,t),Rc||yc(4,n,t),Fc(e,t,n);break;case 1:Rc||(Ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wc(n,t,r)),Fc(e,t,n);break;case 21:Fc(e,t,n);break;case 22:Rc=(r=Rc)||null!==n.memoizedState,Fc(e,t,n),Rc=r;break;default:Fc(e,t,n)}}function Uc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wd(e)}catch(n){Cu(t,t.return,n)}}}function Vc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wd(e)}catch(n){Cu(t,t.return,n)}}function zc(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xc),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function Hc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 27:if(Ih(c.type)){Lc=c.stateNode,Bc=!1;break e}break;case 5:Lc=c.stateNode,Bc=!1;break e;case 3:case 4:Lc=c.stateNode.containerInfo,Bc=!0;break e}c=c.return}if(null===Lc)throw Error(a(160));jc(i,s,o),Lc=null,Bc=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gc(t,e),t=t.sibling}var Wc=null;function Gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hc(t,e),qc(e),4&r&&(yc(3,e,e.return),mc(3,e),yc(5,e,e.return));break;case 1:Hc(t,e),qc(e),512&r&&(Rc||null===n||Ec(n,n.return)),64&r&&Oc&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Wc;if(Hc(t,e),qc(e),512&r&&(Rc||null===n||Ec(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Ke]||i[Ve]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),dh(i,r,n),i[Ve]=e,et(i),r=i;break e;case"link":var s=nd("link","href",o).get(r+(n.href||""));if(s)for(var c=0;c<s.length;c++)if((i=s[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(c,1);break t}dh(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=nd("meta","content",o).get(r+(n.content||"")))for(c=0;c<s.length;c++)if((i=s[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(c,1);break t}dh(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Ve]=e,et(i),r=i}e.stateNode=r}else rd(o,e.type,e.stateNode);else e.stateNode=Zh(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?rd(o,e.type,e.stateNode):Zh(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Cc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hc(t,e),qc(e),512&r&&(Rc||null===n||Ec(n,n.return)),null!==n&&4&r&&Cc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hc(t,e),qc(e),512&r&&(Rc||null===n||Ec(n,n.return)),32&e.flags){o=e.stateNode;try{St(o,"")}catch(g){Cu(e,e.return,g)}}4&r&&null!=e.stateNode&&Cc(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(kc=!0);break;case 6:if(Hc(t,e),qc(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Cu(e,e.return,g)}}break;case 3:if(td=null,o=Wc,Wc=Vh(t.containerInfo),Hc(t,e),Wc=o,qc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wd(t.containerInfo)}catch(g){Cu(e,e.return,g)}kc&&(kc=!1,Xc(e));break;case 4:r=Wc,Wc=Vh(e.stateNode.containerInfo),Hc(t,e),qc(e),Wc=r;break;case 12:default:Hc(t,e),qc(e);break;case 31:case 19:Hc(t,e),qc(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,zc(e,r)));break;case 13:Hc(t,e),qc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xl=ce()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,zc(e,r)));break;case 22:o=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=Oc,h=Rc;if(Oc=u||o,Rc=h||l,Hc(t,e),Rc=h,Oc=u,qc(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||l||Oc||Rc||Yc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(i=l.stateNode,o)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{c=l.stateNode;var d=l.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;c.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){Cu(l,l.return,g)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=o?"":l.memoizedProps}catch(g){Cu(l,l.return,g)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;o?Nh(p,!0):Nh(l.stateNode,!1)}catch(g){Cu(l,l.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,zc(e,n))));case 30:case 21:}}function qc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Sc(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;Tc(e,Ac(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(St(i,""),n.flags&=-33),Tc(e,Ac(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;Ic(e,Ac(e),s);break;default:throw Error(a(161))}}catch(c){Cu(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Pc(e,t.alternate,t),t=t.sibling}function Yc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yc(4,t,t.return),Yc(t);break;case 1:Ec(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wc(t,t.return,n),Yc(t);break;case 27:Fh(t.stateNode);case 26:case 5:Ec(t,t.return),Yc(t);break;case 22:null===t.memoizedState&&Yc(t);break;default:Yc(t)}e=e.sibling}}function Qc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Qc(o,i,n),mc(4,i);break;case 1:if(Qc(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(l){Cu(r,r.return,l)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var c=o.shared.hiddenCallbacks;if(null!==c)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Ii(c[o],s)}catch(l){Cu(r,r.return,l)}}n&&64&a&&vc(i),bc(i,i.return);break;case 27:Nc(i);case 26:case 5:Qc(o,i,n),n&&null===r&&4&a&&_c(i),bc(i,i.return);break;case 12:Qc(o,i,n);break;case 31:Qc(o,i,n),n&&4&a&&Uc(o,i);break;case 13:Qc(o,i,n),n&&4&a&&Vc(o,i);break;case 22:null===i.memoizedState&&Qc(o,i,n),bc(i,i.return);break;case 30:break;default:Qc(o,i,n)}t=t.sibling}}function Zc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vo(n))}function Jc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vo(e))}function $c(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:$c(e,t,n,r),2048&o&&mc(9,t);break;case 1:case 31:case 13:default:$c(e,t,n,r);break;case 3:$c(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vo(e)));break;case 12:if(2048&o){$c(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Cu(t,t.return,c)}}else $c(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?$c(e,t,n,r):nl(e,t):2&i._visibility?$c(e,t,n,r):(i._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Zc(a,t);break;case 24:$c(e,t,n,r),2048&o&&Jc(t.alternate,t)}}function tl(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,a=t,s=n,c=r,l=a.flags;switch(a.tag){case 0:case 11:case 15:tl(i,a,s,c,o),mc(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?tl(i,a,s,c,o):nl(i,a):(u._visibility|=2,tl(i,a,s,c,o)),o&&2048&l&&Zc(a.alternate,a);break;case 24:tl(i,a,s,c,o),o&&2048&l&&Jc(a.alternate,a);break;default:tl(i,a,s,c,o)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nl(n,r),2048&o&&Zc(r.alternate,r);break;case 24:nl(n,r),2048&o&&Jc(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function ol(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)il(e,t,n),e=e.sibling}function il(e,t,n){switch(e.tag){case 26:ol(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=qh(r.href),i=t.querySelector(Xh(o));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ad.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Kh(r),(o=jh.get(o))&&$h(r,o),et(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ad.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wc,e.memoizedState,e.memoizedProps);break;case 5:default:ol(e,t,n);break;case 3:case 4:var r=Wc;Wc=Vh(e.stateNode.containerInfo),ol(e,t,n),Wc=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,ol(e,t,n),rl=r):ol(e,t,n))}}function al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dc=r,ul(r,e)}al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cl(e),e=e.sibling}function cl(e){switch(e.tag){case 0:case 11:case 15:sl(e),2048&e.flags&&yc(9,e,e.return);break;case 3:case 12:default:sl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):sl(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dc=r,ul(r,e)}al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yc(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function ul(e,t){for(;null!==Dc;){var n=Dc;switch(n.tag){case 0:case 11:case 15:yc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dc=r;else e:for(n=e;null!==Dc;){var o=(r=Dc).sibling,i=r.return;if(Mc(r),r===n){Dc=null;break e}if(null!==o){o.return=i,Dc=o;break e}Dc=i}}}var hl={getCacheForType:function(e){var t=Do(jo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Do(jo).controller.signal}},dl="function"===typeof WeakMap?WeakMap:Map,fl=0,pl=null,gl=null,ml=0,yl=0,vl=null,wl=!1,bl=!1,El=!1,_l=0,Cl=0,Sl=0,Al=0,Il=0,Tl=0,Nl=0,Ol=null,Rl=null,kl=!1,xl=0,Dl=0,Pl=1/0,Ml=null,Ll=null,Bl=0,Fl=null,jl=null,Ul=0,Vl=0,zl=null,Hl=null,Wl=0,Gl=null;function ql(){return 0!==(2&fl)&&0!==ml?ml&-ml:null!==P.T?zu():Fe()}function Xl(){if(0===Tl)if(0===(536870912&ml)||ho){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Tl=e}else Tl=536870912;return null!==(e=Di.current)&&(e.flags|=32),Tl}function Kl(e,t,n){(e!==pl||2!==yl&&9!==yl)&&null===e.cancelPendingCommit||(tu(e,0),Jl(e,ml,Tl,!1)),xe(e,n),0!==(2&fl)&&e===pl||(e===pl&&(0===(2&fl)&&(Al|=n),4===Cl&&Jl(e,ml,Tl,!1)),Mu(e))}function Yl(e,t,n){if(0!==(6&fl))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ne(e,t),o=r?function(e,t){var n=fl;fl|=2;var r=ou(),o=iu();pl!==e||ml!==t?(Ml=null,Pl=ce()+500,tu(e,t)):bl=Ne(e,t);e:for(;;)try{if(0!==yl&&null!==gl){t=gl;var i=vl;t:switch(yl){case 1:yl=0,vl=null,du(e,t,i,1);break;case 2:case 9:if(ni(i)){yl=0,vl=null,hu(t);break}t=function(){2!==yl&&9!==yl||pl!==e||(yl=7),Mu(e)},i.then(t,t);break e;case 3:yl=7;break e;case 4:yl=5;break e;case 7:ni(i)?(yl=0,vl=null,hu(t)):(yl=0,vl=null,du(e,t,i,7));break;case 5:var s=null;switch(gl.tag){case 26:s=gl.memoizedState;case 5:case 27:var c=gl;if(s?od(s):c.stateNode.complete){yl=0,vl=null;var l=c.sibling;if(null!==l)gl=l;else{var u=c.return;null!==u?(gl=u,fu(u)):gl=null}break t}}yl=0,vl=null,du(e,t,i,5);break;case 6:yl=0,vl=null,du(e,t,i,6);break;case 8:eu(),Cl=6;break e;default:throw Error(a(462))}}lu();break}catch(h){nu(e,h)}return Ao=So=null,P.H=r,P.A=o,fl=n,null!==gl?0:(pl=null,ml=0,Rr(),Cl)}(e,t):su(e,t,!0),i=r;;){if(0===o){bl&&!r&&Jl(e,t,0,!1);break}if(n=e.current.alternate,!i||Zl(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var c=e;o=Ol;var l=c.current.memoizedState.isDehydrated;if(l&&(tu(c,s).flags|=256),2!==(s=su(c,s,!1))){if(El&&!l){c.errorRecoveryDisabledLanes|=i,Al|=i,o=4;break e}i=Rl,Rl=o,null!==i&&(null===Rl?Rl=i:Rl.push.apply(Rl,i))}o=s}if(i=!1,2!==o)continue}}if(1===o){tu(e,0),Jl(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Jl(r,t,Tl,!wl);break e;case 2:Rl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=xl+300-ce())){if(Jl(r,t,Tl,!wl),0!==Te(r,0,!0))break e;Ul=t,r.timeoutHandle=Eh(Ql.bind(null,r,n,Rl,Ml,kl,t,Tl,Al,Nl,wl,i,"Throttled",-0,0),o)}else Ql(r,n,Rl,Ml,kl,t,Tl,Al,Nl,wl,i,null,-0,0)}break}o=su(e,t,!1),i=!1}Mu(e)}function Ql(e,t,n,r,o,i,a,s,c,l,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){il(t,i,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xt});var p=(62914560&i)===i?xl-ce():(4194048&i)===i?Dl-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&cd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===id&&(id=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,a=o.initiatorType,s=o.duration;if(i&&s&&fh(a)){for(a=0,s=o.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,h=c.initiatorType;u&&fh(h)&&(a+=u*((c=c.responseEnd)<s?1:(s-l)/(c-l)))}if(--r,t+=8*(i+a)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>id?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(h,p)))return Ul=i,e.cancelPendingCommit=p(gu.bind(null,e,t,i,n,r,o,a,s,c,u,h,null,d,f)),void Jl(e,i,a,!l)}gu(e,t,i,n,r,o,a,s,c)}function Zl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Jn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jl(e,t,n,r){t&=~Il,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-be(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&De(e,n,t)}function $l(){return 0!==(6&fl)||(Lu(0,!1),!1)}function eu(){if(null!==gl){if(0===yl)var e=gl.return;else Ao=So=null,sa(e=gl),ci=null,li=0,e=gl;for(;null!==e;)gc(e.alternate,e),e=e.return;gl=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_h(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Ul=0,eu(),pl=e,gl=n=Ur(e.current,null),ml=t,yl=0,vl=null,wl=!1,bl=Ne(e,t),El=!1,Nl=Tl=Il=Al=Sl=Cl=0,Rl=Ol=null,kl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-be(r),i=1<<o;t|=e[o],r&=~i}return _l=t,Rr(),n}function nu(e,t){Hi=null,P.H=gs,t===Jo||t===ei?(t=ai(),yl=3):t===$o?(t=ai(),yl=4):yl=t===xs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vl=t,null===gl&&(Cl=1,Ts(e,Kr(t,e.current)))}function ru(){var e=Di.current;return null===e||((4194048&ml)===ml?null===Pi:((62914560&ml)===ml||0!==(536870912&ml))&&e===Pi)}function ou(){var e=P.H;return P.H=gs,null===e?gs:e}function iu(){var e=P.A;return P.A=hl,e}function au(){Cl=4,wl||(4194048&ml)!==ml&&null!==Di.current||(bl=!0),0===(134217727&Sl)&&0===(134217727&Al)||null===pl||Jl(pl,ml,Tl,!1)}function su(e,t,n){var r=fl;fl|=2;var o=ou(),i=iu();pl===e&&ml===t||(Ml=null,tu(e,t)),t=!1;var a=Cl;e:for(;;)try{if(0!==yl&&null!==gl){var s=gl,c=vl;switch(yl){case 8:eu(),a=6;break e;case 3:case 2:case 9:case 6:null===Di.current&&(t=!0);var l=yl;if(yl=0,vl=null,du(e,s,c,l),n&&bl){a=0;break e}break;default:l=yl,yl=0,vl=null,du(e,s,c,l)}}cu(),a=Cl;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Ao=So=null,fl=r,P.H=o,P.A=i,null===gl&&(pl=null,ml=0,Rr()),a}function cu(){for(;null!==gl;)uu(gl)}function lu(){for(;null!==gl&&!ae();)uu(gl)}function uu(e){var t=ac(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gs(n,t,t.pendingProps,t.type,void 0,ml);break;case 11:t=Gs(n,t,t.pendingProps,t.type.render,t.ref,ml);break;case 5:sa(t);default:gc(n,t),t=ac(n,t=gl=Vr(t,_l),_l)}e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function du(e,t,n,r){Ao=So=null,sa(t),ci=null,li=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ro(t,n,o,!0),null!==(n=Di.current)){switch(n.tag){case 31:case 13:return null===Pi?au():null===n.alternate&&0===Cl&&(Cl=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Su(e,r,o)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Su(e,r,o)),!1}throw Error(a(435,n.tag))}return Su(e,r,o),au(),!1}if(ho)return null!==(t=Di.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==go&&_o(Kr(e=Error(a(422),{cause:r}),n))):(r!==go&&_o(Kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Kr(r,n),_i(e,o=Os(e.stateNode,r,o)),4!==Cl&&(Cl=2)),!1;var i=Error(a(520),{cause:r});if(i=Kr(i,n),null===Ol?Ol=[i]:Ol.push(i),4!==Cl&&(Cl=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,_i(n,e=Os(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Ll||!Ll.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,ks(o=Rs(o),e,n,r),_i(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ml))return Cl=1,Ts(e,Kr(n,e.current)),void(gl=null)}catch(i){if(null!==o)throw gl=o,i;return Cl=1,Ts(e,Kr(n,e.current)),void(gl=null)}32768&t.flags?(ho||1===r?e=!0:bl||0!==(536870912&ml)?e=!1:(wl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Di.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,wl);e=t.return;var n=fc(t.alternate,t,_l);if(null!==n)return void(gl=n);if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===Cl&&(Cl=5)}function pu(e,t){do{var n=pc(e.alternate,e);if(null!==n)return n.flags&=32767,void(gl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gl=e);gl=e=n}while(null!==e);Cl=6,gl=null}function gu(e,t,n,r,o,i,s,c,l){e.cancelPendingCommit=null;do{bu()}while(0!==Bl);if(0!==(6&fl))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-be(n),h=1<<u;s[u]=0,c[u]=-1;var d=l[u];if(null!==d)for(l[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&De(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Or,s,c,l),e===pl&&(gl=pl=null,ml=0),jl=t,Fl=e,Ul=n,Vl=i,zl=o,Hl=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(de,function(){return Eu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null,o=M.p,M.p=2,s=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,ph=wd,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var s=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(c=s+o),d!==i||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===o&&(c=s),f===i&&++h===r&&(l=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wd=!1,Dc=t;null!==Dc;)if(e=(t=Dc).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dc=e;else for(;null!==Dc;){switch(i=(t=Dc).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=Cs(n.type,o);e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Cu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Oh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Oh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Dc=e;break}Dc=t.return}}(e,t)}finally{fl=s,M.p=o,P.T=r}}Bl=1,mu(),yu(),vu()}}function mu(){if(1===Bl){Bl=0;var e=Fl,t=jl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var r=M.p;M.p=2;var o=fl;fl|=4;try{Gc(t,e);var i=gh,a=rr(e.containerInfo),s=i.focusedElem,c=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==c&&or(s)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,g=Math.min(c.start,p),m=void 0===c.end?g:Math.min(c.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var y=tr(s,g),v=tr(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var w=h.createRange();w.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(w),f.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),f.addRange(w))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var b=h[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}wd=!!ph,gh=ph=null}finally{fl=o,M.p=r,P.T=n}}e.current=t,Bl=2}}function yu(){if(2===Bl){Bl=0;var e=Fl,t=jl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var r=M.p;M.p=2;var o=fl;fl|=4;try{Pc(e,t.alternate,t)}finally{fl=o,M.p=r,P.T=n}}Bl=3}}function vu(){if(4===Bl||3===Bl){Bl=0,se();var e=Fl,t=jl,n=Ul,r=Hl;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Bl=5:(Bl=0,jl=Fl=null,wu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Ll=null),Be(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==r){t=P.T,o=M.p,M.p=2,P.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];i(s.value,{componentStack:s.stack})}}finally{P.T=t,M.p=o}}0!==(3&Ul)&&bu(),Mu(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===Gl?Wl++:(Wl=0,Gl=e):Wl=0,Lu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vo(t)))}function bu(){return mu(),yu(),vu(),Eu()}function Eu(){if(5!==Bl)return!1;var e=Fl,t=Vl;Vl=0;var n=Be(Ul),r=P.T,o=M.p;try{M.p=32>n?32:n,P.T=null,n=zl,zl=null;var i=Fl,s=Ul;if(Bl=0,jl=Fl=null,Ul=0,0!==(6&fl))throw Error(a(331));var c=fl;if(fl|=4,cl(i.current),el(i,i.current,s,n),fl=c,Lu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,i)}catch(l){}return!0}finally{M.p=o,P.T=r,wu(e,t)}}function _u(e,t,n){t=Kr(n,t),null!==(e=bi(e,t=Os(e.stateNode,t,2),2))&&(xe(e,2),Mu(e))}function Cu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ll||!Ll.has(r))){e=Kr(n,e),null!==(r=bi(t,n=Rs(2),2))&&(ks(n,r,t,e),xe(r,2),Mu(r));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(El=!0,o.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(ml&n)===n&&(4===Cl||3===Cl&&(62914560&ml)===ml&&300>ce()-xl?0===(2&fl)&&tu(e,0):Il|=n,Nl===ml&&(Nl=0)),Mu(e)}function Iu(e,t){0===t&&(t=Re()),null!==(e=Dr(e,t))&&(xe(e,t),Mu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Iu(e,n)}var Ou=null,Ru=null,ku=!1,xu=!1,Du=!1,Pu=0;function Mu(e){e!==Ru&&null===e.next&&(null===Ru?Ou=Ru=e:Ru=Ru.next=e),xu=!0,ku||(ku=!0,Sh(function(){0!==(6&fl)?oe(ue,Bu):Fu()}))}function Lu(e,t){if(!Du&&xu){Du=!0;do{for(var n=!1,r=Ou;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-be(42|e)+1)-1,i=201326741&(i&=o&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Vu(r,i))}else i=ml,0===(3&(i=Te(r,r===pl?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,i)||(n=!0,Vu(r,i));r=r.next}}while(n);Du=!1}}function Bu(){Fu()}function Fu(){xu=ku=!1;var e=0;0!==Pu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bh&&(bh=e,!0);return bh=null,!1}()&&(e=Pu);for(var t=ce(),n=null,r=Ou;null!==r;){var o=r.next,i=ju(r,t);0===i?(r.next=null,null===n?Ou=o:n.next=o,null===o&&(Ru=n)):(n=r,(0!==e||0!==(3&i))&&(xu=!0)),r=o}0!==Bl&&5!==Bl||Lu(e,!1),0!==Pu&&(Pu=0)}function ju(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-be(i),s=1<<a,c=o[a];-1===c?0!==(s&n)&&0===(s&r)||(o[a]=Oe(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(n=ml,n=Te(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yl||9===yl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Be(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Bl&&5!==Bl)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=ml;return 0===(r=Te(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yl(e,r,t),ju(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Vu(e,t){if(bu())return null;Yl(e,t,!0)}function zu(){if(0===Pu){var e=Wo;0===e&&(e=Ce,0===(261888&(Ce<<=1))&&(Ce=256)),Pu=e}return Pu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:kt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Sr.length;Gu++){var qu=Sr[Gu];Ar(qu.toLowerCase(),"on"+(qu[0].toUpperCase()+qu.slice(1)))}Ar(mr,"onAnimationEnd"),Ar(yr,"onAnimationIteration"),Ar(vr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(wr,"onTransitionRun"),Ar(br,"onTransitionStart"),Ar(Er,"onTransitionCancel"),Ar(_r,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=l;try{i(o)}catch(u){Ir(u)}o.currentTarget=null,i=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=l;try{i(o)}catch(u){Ir(u)}o.currentTarget=null,i=c}}}}function Qu(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Ju]){e[Ju]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,Zu("selectionchange",!1,t))}}function eh(e,t,n,r){switch(Id(t)){case 2:var o=bd;break;case 8:o=Ed;break;default:o=_d}n=o.bind(null,t,n,e),o=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function th(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=Qe(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}jt(function(){var r=i,o=Pt(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var l=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":l=vn;break;case"focusin":u="focus",l=ln;break;case"focusout":u="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=bn;break;case mr:case yr:case vr:l=un;break;case _r:l=En;break;case"scroll":case"scrollend":l=on;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=wn;break;case"toggle":case"beforetoggle":l=Cn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==s?s+"Capture":null:s;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Ut(g,f))&&h.push(nh(g,m,p)),d)break;g=g.return}0<h.length&&(s=new l(s,u,null,n,o),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[He])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(d=c(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(l=null,u=r),l!==u)){if(h=sn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=wn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==l?s:Je(l),p=null==u?s:Je(u),(s=new h(m,g+"leave",l,n,o)).target=d,s.relatedTarget=p,m=null,Qe(o)===r&&((h=new h(f,g+"enter",u,n,o)).target=p,h.relatedTarget=d,m=h),d=m,l&&u)e:{for(h=oh,g=u,p=0,m=f=l;m;m=h(m))p++;m=0;for(var y=g;y;y=h(y))m++;for(;0<p-m;)f=h(f),p--;for(;0<m-p;)g=h(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){h=f;break e}f=h(f),g=h(g)}h=null}else h=null;null!==l&&ih(a,s,l,h,!1),null!==u&&null!==d&&ih(a,d,u,h,!0)}if("select"===(l=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Vn;else if(Mn(s))if(zn)v=Zn;else{v=Yn;var w=Kn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Nt(r.elementType)&&(v=Vn):v=Qn;switch(v&&(v=v(e,r))?Ln(a,v,n,o):(w&&w(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&bt(s,"number",s.value)),w=r?Je(r):window,e){case"focusin":(Mn(w)||"true"===w.contentEditable)&&(ar=w,sr=r,cr=null);break;case"focusout":cr=sr=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(a,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(a,n,o)}var b;if(An)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Dn?kn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(Nn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==E?"onCompositionEnd"===E&&Dn&&(b=Xt()):(Gt="value"in(Wt=o)?Wt.value:Wt.textContent,Dn=!0)),0<(w=rh(r,E)).length&&(E=new dn(E,e,null,n,o),a.push({event:E,listeners:w}),b?E.data=b:null!==(b=xn(n))&&(E.data=b))),(b=Tn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Rn=!0,On);case"textInput":return(e=t.data)===On&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!An&&kn(e,t)?(e=Xt(),qt=Gt=Wt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(E=rh(r,"onBeforeInput")).length&&(w=new dn("onBeforeInput","beforeinput",null,n,o),a.push({event:w,listeners:E}),w.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Hu((o[ze]||null).action),a=r.submitter;a&&null!==(t=(t=a[ze]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new nn("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Pu){var e=a?Wu(o,a):new FormData(o);ts(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Wu(o,a):new FormData(o),ts(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Yu(a,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ut(e,n))&&r.unshift(nh(e,o,i)),null!=(o=Ut(e,t))&&r.push(nh(e,o,i))),3===e.tag)return r;e=e.return}return[]}function oh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ih(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,null!==c&&c===r)break;5!==s&&26!==s&&27!==s||null===l||(c=l,o?null!=(l=Ut(n,i))&&a.unshift(nh(n,l,c)):o||null!=(l=Ut(n,i))&&a.push(nh(n,l,c))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ah=/\r\n?/g,sh=/\u0000|\uFFFD/g;function ch(e){return("string"===typeof e?e:""+e).replace(ah,"\n").replace(sh,"")}function lh(e,t){return t=ch(t),ch(e)===t}function uh(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":Tt(e,r,i);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&uh(e,t,"name",o.name,o,null),uh(e,t,"formEncType",o.formEncType,o,null),uh(e,t,"formMethod",o.formMethod,o,null),uh(e,t,"formTarget",o.formTarget,o,null)):(uh(e,t,"encType",o.encType,o,null),uh(e,t,"method",o.method,o,null),uh(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=xt);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=kt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),ct(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ct(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Ot.get(n)||n,r)}}function hh(e,t,n,r,o,i){switch(n){case"style":Tt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[ze]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ct(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:uh(e,t,r,s,n,null)}}return i&&uh(e,t,"srcSet",n.srcSet,n,null),void(o&&uh(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var c=r=s=i=null,l=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(null!=h)switch(o){case"name":i=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:uh(e,t,o,h,n,null)}}return void wt(e,r,c,l,u,s,i,!1);case"select":for(i in Qu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(c=n[i]))switch(i){case"value":r=c;break;case"defaultValue":s=c;break;case"multiple":o=c;default:uh(e,t,i,c,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?Et(e,!!o,t,!1):null!=n&&Et(e,!!o,n,!0));case"textarea":for(s in Qu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":o=c;break;case"defaultValue":i=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(a(91));break;default:uh(e,t,s,c,n,null)}return void Ct(e,o,i,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))if("selected"===l)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else uh(e,t,l,o,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(o=0;o<Xu.length;o++)Qu(Xu[o],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:uh(e,t,u,o,n,null)}return;default:if(Nt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(o=n[h])&&hh(e,t,h,o,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(o=n[c])&&uh(e,t,c,o,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,gh=null;function mh(e){return 9===e.nodeType?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bh=null;var Eh="function"===typeof setTimeout?setTimeout:void 0,_h="function"===typeof clearTimeout?clearTimeout:void 0,Ch="function"===typeof Promise?Promise:void 0,Sh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ch?function(e){return Ch.resolve(null).then(e).catch(Ah)}:Eh;function Ah(e){setTimeout(function(){throw e})}function Ih(e){return"head"===e}function Th(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Wd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fh(e.ownerDocument.documentElement);else if("head"===n){Fh(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var a=i.nextSibling,s=i.nodeName;i[Ke]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}else"body"===n&&Fh(e.ownerDocument.body);n=o}while(n);Wd(t)}function Nh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Oh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Oh(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dh(e.nextSibling)))return null}return e}function kh(e){return"$?"===e.data||"$~"===e.data}function xh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ph=null;function Mh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Bh(e,t,n){switch(t=mh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Fh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var jh=new Map,Uh=new Set;function Vh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var zh=M.d;M.d={f:function(){var e=zh.f(),t=$l();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):zh.r(e)},D:function(e){zh.D(e),Wh("dns-prefetch",e,null)},C:function(e,t){zh.C(e,t),Wh("preconnect",e,t)},L:function(e,t,n){zh.L(e,t,n);var r=Hh;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var i=o;switch(t){case"style":i=qh(e);break;case"script":i=Yh(e)}jh.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jh.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Xh(i))||"script"===t&&r.querySelector(Qh(i))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){zh.m(e,t);var n=Hh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Yh(e)}if(!jh.has(i)&&(e=f({rel:"modulepreload",href:e},t),jh.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qh(i)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){zh.X(e,t);var n=Hh;if(n&&e){var r=$e(n).hoistableScripts,o=Yh(e),i=r.get(o);i||((i=n.querySelector(Qh(o)))||(e=f({src:e,async:!0},t),(t=jh.get(o))&&ed(e,t),et(i=n.createElement("script")),dh(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){zh.S(e,t,n);var r=Hh;if(r&&e){var o=$e(r).hoistableStyles,i=qh(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Xh(i)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jh.get(i))&&$h(e,n);var c=a=r.createElement("link");et(c),dh(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Jh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){zh.M(e,t);var n=Hh;if(n&&e){var r=$e(n).hoistableScripts,o=Yh(e),i=r.get(o);i||((i=n.querySelector(Qh(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=jh.get(o))&&ed(e,t),et(i=n.createElement("script")),dh(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Hh="undefined"===typeof document?null:document;function Wh(e,t,n){var r=Hh;if(r&&"string"===typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Uh.has(o)||(Uh.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gh(e,t,n,r){var o,i,s,c,l=(l=q.current)?Vh(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=qh(n.href),(r=(n=$e(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=qh(n.href);var u=$e(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(Xh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),jh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jh.set(e,n),u||(o=l,i=e,s=n,c=h.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=o.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),dh(i,"link",s),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yh(n),(r=(n=$e(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qh(e){return'href="'+yt(e)+'"'}function Xh(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yh(e){return'[src="'+yt(e)+'"]'}function Qh(e){return"script[async]"+e}function Zh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",o),Jh(r,n.precedence,e),t.instance=r;case"stylesheet":o=qh(n.href);var i=e.querySelector(Xh(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Kh(n),(o=jh.get(o))&&$h(r,o),et(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),dh(i,"link",r),t.state.loading|=4,Jh(i,n.precedence,e),t.instance=i;case"script":return i=Yh(n.src),(o=e.querySelector(Qh(i)))?(t.instance=o,et(o),o):(r=n,(o=jh.get(i))&&ed(r=f({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),dh(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jh(r,n.precedence,e));return t.instance}function Jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $h(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,o=td=new Map;o.set(n,r)}else(r=(o=td).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ke]||i[Ve]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function od(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var id=0;function ad(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sd=null;function cd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sd=new Map,t.forEach(ld,e),sd=null,ad.call(e))}function ld(e,t){if(!(4&t.state.loading)){var n=sd.get(e);if(n)var r=n.get(null);else{n=new Map,sd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=ad.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var ud={$$typeof:E,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hd(e,t,n,r,o,i,a,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function dd(e,t,n,r,o,i,a,s,c,l,u,h){return e=new hd(e,t,n,a,c,l,u,h,s),t=1,!0===i&&(t|=24),i=Fr(3,null,null,t),e.current=i,i.stateNode=e,(t=Uo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},yi(i),e}function fd(e){return e?e=Lr:Lr}function pd(e,t,n,r,o,i){o=fd(o),null===r.context?r.context=o:r.pendingContext=o,(r=wi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=bi(e,r,t))&&(Kl(n,0,t),Ei(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function md(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function yd(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Kl(t,0,67108864),md(e,67108864)}}function vd(e){if(13===e.tag||31===e.tag){var t=ql(),n=Dr(e,t=Le(t));null!==n&&Kl(n,0,t),md(e,t)}}var wd=!0;function bd(e,t,n,r){var o=P.T;P.T=null;var i=M.p;try{M.p=2,_d(e,t,n,r)}finally{M.p=i,P.T=o}}function Ed(e,t,n,r){var o=P.T;P.T=null;var i=M.p;try{M.p=8,_d(e,t,n,r)}finally{M.p=i,P.T=o}}function _d(e,t,n,r){if(wd){var o=Cd(r);if(null===o)th(e,t,r,Sd,n),Md(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Nd=Ld(Nd,e,t,n,r,o),!0;case"dragenter":return Od=Ld(Od,e,t,n,r,o),!0;case"mouseover":return Rd=Ld(Rd,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return kd.set(i,Ld(kd.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xd.set(i,Ld(xd.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Md(e,r),4&t&&-1<Pd.indexOf(e)){for(;null!==o;){var i=Ze(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ie(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var c=1<<31-be(a);s.entanglements[1]|=c,a&=~c}Mu(i),0===(6&fl)&&(Pl=ce()+500,Lu(0,!1))}}break;case 31:case 13:null!==(s=Dr(i,2))&&Kl(s,0,2),$l(),md(i,2)}if(null===(i=Cd(r))&&th(e,t,r,Sd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else th(e,t,r,null,n)}}function Cd(e){return Ad(e=Pt(e))}var Sd=null;function Ad(e){if(Sd=null,null!==(e=Qe(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sd=e,null}function Id(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Td=!1,Nd=null,Od=null,Rd=null,kd=new Map,xd=new Map,Dd=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":Nd=null;break;case"dragenter":case"dragleave":Od=null;break;case"mouseover":case"mouseout":Rd=null;break;case"pointerover":case"pointerout":kd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(t.pointerId)}}function Ld(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ze(t))&&yd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Bd(e){var t=Qe(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void je(e.priority,function(){vd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void je(e.priority,function(){vd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cd(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&yd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function jd(e,t,n){Fd(e)&&n.delete(t)}function Ud(){Td=!1,null!==Nd&&Fd(Nd)&&(Nd=null),null!==Od&&Fd(Od)&&(Od=null),null!==Rd&&Fd(Rd)&&(Rd=null),kd.forEach(jd),xd.forEach(jd)}function Vd(e,t){e.blockedOn===t&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ud)))}var zd=null;function Hd(e){zd!==e&&(zd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zd===e&&(zd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Ad(r||n))continue;break}var i=Ze(n);null!==i&&(e.splice(t,3),t-=3,ts(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Wd(e){function t(t){return Vd(t,e)}null!==Nd&&Vd(Nd,e),null!==Od&&Vd(Od,e),null!==Rd&&Vd(Rd,e),kd.forEach(t),xd.forEach(t);for(var n=0;n<Dd.length;n++){var r=Dd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dd.length&&null===(n=Dd[0]).blockedOn;)Bd(n),null===n.blockedOn&&Dd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[ze]||null;if("function"===typeof i)a||Hd(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[ze]||null)s=a.formAction;else if(null!==Ad(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Hd(n)}}}function Gd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function qd(e){this._internalRoot=e}function Xd(e){this._internalRoot=e}Xd.prototype.render=qd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));pd(t.current,ql(),e,t,null,null)},Xd.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),$l(),t[He]=null}},Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dd.length&&0!==t&&t<Dd[n].priority;n++);Dd.splice(n,0,e),0===n&&Bd(e)}};var Kd=o.version;if("19.2.3"!==Kd)throw Error(a(527,Kd,"19.2.3"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return h(o),e;if(i===r)return h(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Yd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{ye=Qd.inject(Yd),ve=Qd}catch(Jd){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=Ss,i=As,c=Is;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,o,i,c,Gd),e[He]=t.current,$u(e),new qd(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=Ss,c=As,l=Is,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=dd(e,1,!0,t,0,r,o,u,i,c,l,Gd)).context=fd(null),n=t.current,(o=wi(r=Le(r=ql()))).callback=null,bi(n,o,r),n=r,t.current.lanes=n,xe(t,n),Mu(t),e[He]=t.current,$u(e),new Xd(t)},t.version="19.2.3"},29(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),o=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(n,r){t.call(navigator,e,n,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),o=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||o||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,o=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/o;o=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&o<n.minScreenshotHeight&&(r=(o=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||o,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(s.width=(null===e||void 0===e?void 0:e.width)||s.width,s.height=(null===e||void 0===e?void 0:e.height)||s.height,n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,o){var i={video:"undefined"===typeof o||o};n.audio&&(i.audio="undefined"===typeof r||r),e.requestUserMediaId++;var a=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then(function(n){e.unmounted||a!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var o=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var t=null,a=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(a=e.id)});var s=i(n.audioConstraints);s&&(t=s);var c=i(n.videoConstraints);c&&(a=c),r(o(t),o(a))})}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,o=n.audio,s=(n.forceScreenshotSourceSize,n.disablePictureInPicture),c=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),l=n.style,u=void 0===l?{}:l,h=n.children,d=a(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=c?i(i({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,p={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",i({autoPlay:!0,disablePictureInPicture:s,src:t.src,muted:!o,playsInline:!0,ref:function(t){e.video=t},style:f},d)),h&&h(p))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=c},react:function(t,n){t.exports=e}}).default},e.exports=r(n(43))},43(e,t,n){"use strict";e.exports=n(288)},139(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},173(e,t,n){e.exports=n(497)()},218(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var E=b.prototype=new w;E.constructor=b,m(E,v.prototype),E.isPureReactComponent=!0;var _=Array.isArray;function C(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return R((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+O(e,0):i,_(a)?(o="",null!=u&&(o=u.replace(N,"$&/")+"/"),R(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(c=a,l=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+u,a=I(c.type,l,c.props)),t.push(a)),1;u=0;var h,f=""===i?".":i+":";if(_(e))for(var g=0;g<e.length;g++)u+=R(i=e[g],t,o,s=f+O(i,g),a);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(i=e.next()).done;)u+=R(i=i.value,t,o,s=f+O(i,g++),a);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function k(e,t,n){if(null==e)return e;var r=[],o=0;return R(e,r,"","",function(e){return t.call(n,e,o++)}),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:k,forEach:function(e,t,n){k(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=P,t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!A.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return I(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)A.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return I(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),o=S.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(C,D)}catch(i){D(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.3"},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},440(e){"use strict";var t=function(){};e.exports=t},497(e,t,n){"use strict";var r=n(218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},579(e,t,n){"use strict";e.exports=n(799)},672(e,t,n){"use strict";var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=a.p;try{if(c.T=null,a.p=2,e)return e()}finally{c.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.2.3"},740(e){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853(e,t,n){"use strict";e.exports=n(896)},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(m=!1,E(e),!g)if(null!==r(l))g=!0,S||(S=!0,C());else{var t=r(u);null!==t&&x(_,t.startTime-e)}}var C,S=!1,A=-1,I=5,T=-1;function N(){return!!y||!(t.unstable_now()-T<I)}function O(){if(y=!1,S){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,w(A),A=-1),p=!0;var i=f;try{t:{for(E(e),d=r(l);null!==d&&!(d.expirationTime>e&&N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,E(e),n=!0;break t}d===r(l)&&o(l),E(e)}else o(l);d=r(l)}if(null!==d)n=!0;else{var c=r(u);null!==c&&x(_,c.startTime-e),n=!1}}break e}finally{d=null,f=i,p=!1}n=void 0}}finally{n?C():S=!1}}}if("function"===typeof b)C=function(){b(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,k=R.port2;R.port1.onmessage=O,C=function(){k.postMessage(null)}}else C=function(){v(O,0)};function x(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(m?(w(A),A=-1):m=!0,x(_,i-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,S||(S=!0,C()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".0aa1ba92.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="kitchenmanager:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+i){s=h;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,[a,s,c]=r,l=0;if(a.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)c(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkkitchenmanager=self.webpackChunkkitchenmanager||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);function o(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function i(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function v(){return A(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return _("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:C(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function C(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",c=null,l=h();function h(){return(a.state||{idx:null}).idx}function d(){s="POP";let e=h(),t=null==e?null:e-l;l=e,c&&c({action:s,location:p.location,delta:t})}function f(e){return I(e)}null==l&&(l=0,a.replaceState(u(u({},a.state),{},{idx:l}),""));let p={get action(){return s},get location(){return e(o,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(y,d),c=e,()=>{o.removeEventListener(y,d),c=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=_(p.location,e,t);n&&n(r,e),l=h()+1;let u=E(r,l),d=p.createHref(r);try{a.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(d)}i&&c&&c({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=_(p.location,e,t);n&&n(r,e),l=h();let o=E(r,l),u=p.createHref(r);a.replaceState(o,"",u),i&&c&&c({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:C(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let o=H(("string"===typeof t?S(t):t).pathname||"/",n);if(null==o)return null;let i=O(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=z(o);a=j(i[s],e,r)}return a}function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3?arguments[3]:void 0,c={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&a)return;w(c.relativePath.startsWith(r),'Absolute route path "'.concat(c.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),c.relativePath=c.relativePath.slice(r.length)}let l=Z([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(l,'".')),O(e.children,t,u,l,a)),(null!=e.path||e.index)&&t.push({path:l,score:F(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of R(e.path))i(e,t,!0,r);else i(e,t)}),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=R(r.join("/")),s=[];return s.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var k=/^:[\w-]+$/,x=3,D=2,P=1,M=10,L=-2,B=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(B)&&(r+=L),t&&(r+=D),n.filter(e=>!B(e)).reduce((e,t)=>e+(k.test(t)?x:""===t?P:M),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],c=s===r.length-1,l="/"===i?t:t.slice(i.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),h=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:Z([i,u.pathname]),pathnameBase:J(Z([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=Z([i,u.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=o&&!c?void 0:(c||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var W=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=e=>W.test(e);function q(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function X(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=K(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=u({},e),w(!r.pathname||!r.pathname.includes("?"),X("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),X("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),X("#","search","hash",r)));let i,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:o="",hash:i=""}="string"===typeof e?S(e):e;if(r)if(G(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),b(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?q(r.substring(1),"/"):q(r,n)}else t=n;return{pathname:t,search:$(o),hash:ee(i)}}(r,i),l=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!h||(c.pathname+="/"),c}var Z=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ee=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var te=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function re(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ie(e,t){let n=e;if("string"!==typeof n||!W.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(oe)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=H(r.pathname,t);r.origin===e.origin&&null!=i?n=i+r.search+r.hash:o=!0}catch(i){b(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:o,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ae=["POST","PUT","PATCH","DELETE"],se=(new Set(ae),["GET",...ae]);new Set(se),Symbol("ResetLoaderData");var ce=e.createContext(null);ce.displayName="DataRouter";var le=e.createContext(null);le.displayName="DataRouterState";var ue=e.createContext(!1);function he(){return e.useContext(ue)}var de=e.createContext({isTransitioning:!1});de.displayName="ViewTransition";var fe=e.createContext(new Map);fe.displayName="Fetchers";var pe=e.createContext(null);pe.displayName="Await";var ge=e.createContext(null);ge.displayName="Navigation";var me=e.createContext(null);me.displayName="Location";var ye=e.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var ve=e.createContext(null);ve.displayName="RouteError";var we="REACT_ROUTER_ERROR";function be(){return null!=e.useContext(me)}function Ee(){return w(be(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(me).location}var _e="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ce(t){e.useContext(ge).static||e.useLayoutEffect(t)}function Se(){let{isDataRoute:t}=e.useContext(ye);return t?function(){let{router:t}=Le("useNavigate"),n=Fe("useNavigate"),r=e.useRef(!1);Ce(()=>{r.current=!0});let o=e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,_e),r.current&&("number"===typeof e?await t.navigate(e):await t.navigate(e,u({fromRouteId:n},o)))},[t,n]);return o}():function(){w(be(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(ce),{basename:n,navigator:r}=e.useContext(ge),{matches:o}=e.useContext(ye),{pathname:i}=Ee(),a=JSON.stringify(Y(o)),s=e.useRef(!1);Ce(()=>{s.current=!0});let c=e.useCallback(function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(s.current,_e),!s.current)return;if("number"===typeof e)return void r.go(e);let c=Q(e,JSON.parse(a),i,"path"===o.relative);null==t&&"/"!==n&&(c.pathname="/"===c.pathname?n:Z([n,c.pathname])),(o.replace?r.replace:r.push)(c,o.state,o)},[n,r,a,i,t]);return c}()}e.createContext(null);function Ae(){let{matches:t}=e.useContext(ye),n=t[t.length-1];return n?n.params:{}}function Ie(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(ye),{pathname:o}=Ee(),i=JSON.stringify(Y(r));return e.useMemo(()=>Q(t,JSON.parse(i),o,"path"===n),[t,i,o,n])}function Te(t,n,r,o,i){w(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(ge),{matches:s}=e.useContext(ye),c=s[s.length-1],l=c?c.params:{},h=c?c.pathname:"/",d=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Ve(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,g=Ee();if(n){var m;let e="string"===typeof n?S(n):n;w("/"===d||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=g;let y=p.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=T(t,{pathname:v});b(f||null!=E,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==E||void 0!==E[E.length-1].route.element||void 0!==E[E.length-1].route.Component||void 0!==E[E.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=Pe(E&&E.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Z([d,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Z([d,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,r,o,i);return n&&_?e.createElement(me.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},_):_}function Ne(){let t=je(),n=ne(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,s)}var Oe=e.createElement(Ne,null),Re=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let t=this.state.error;if(this.context&&"object"===typeof t&&t&&"digest"in t&&"string"===typeof t.digest){const e=function(e){if(e.startsWith("".concat(we,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new te(t.status,t.statusText,t.data)}catch(t){}}(t.digest);e&&(t=e)}let n=void 0!==t?e.createElement(ye.Provider,{value:this.props.routeContext},e.createElement(ve.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?e.createElement(xe,{error:t},n):n}};Re.contextType=ue;var ke=new WeakMap;function xe(t){let{children:n,error:r}=t,{basename:o}=e.useContext(ge);if("object"===typeof r&&r&&"digest"in r&&"string"===typeof r.digest){let t=function(e){if(e.startsWith("".concat(we,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(r.digest);if(t){let n=ke.get(r);if(n)throw n;let i=ie(t.location,o);if(oe&&!ke.get(r)){if(!i.isExternal&&!t.reloadDocument){const e=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:t.replace}));throw ke.set(r,e),e}window.location.href=i.absoluteURL||i.to}return e.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(i.absoluteURL||i.to)})}}return n}function De(t){let{routeContext:n,match:r,children:o}=t,i=e.useContext(ce);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ye.Provider,{value:n},o)}function Pe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=null===r||void 0===r?void 0:r.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,c=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){s=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}let l=r&&o?(e,t)=>{var n,i;o(e,{location:r.location,params:null!==(n=null===(i=r.matches)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.params)&&void 0!==n?n:{},unstable_pattern:re(r.matches),errorInfo:t})}:void 0;return i.reduceRight((t,o,u)=>{let h,d=!1,f=null,p=null;r&&(h=a&&o.route.id?a[o.route.id]:void 0,f=o.route.errorElement||Oe,s&&(c<0&&0===u?(Ve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===u&&(d=!0,p=o.route.hydrateFallbackElement||null)));let g=n.concat(i.slice(0,u+1)),m=()=>{let n;return n=h?f:d?p:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(De,{match:o,routeContext:{outlet:t,matches:g,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?e.createElement(Re,{location:r.location,revalidation:r.revalidation,component:f,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:l}):m()},null)}function Me(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Le(t){let n=e.useContext(ce);return w(n,Me(t)),n}function Be(t){let n=e.useContext(le);return w(n,Me(t)),n}function Fe(t){let n=function(t){let n=e.useContext(ye);return w(n,Me(t)),n}(t),r=n.matches[n.matches.length-1];return w(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function je(){var t;let n=e.useContext(ve),r=Be("useRouteError"),o=Fe("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[o]}var Ue={};function Ve(e,t,n){t||Ue[e]||(Ue[e]=!0,b(!1,n))}var ze={};function He(e,t){e||ze[t]||(ze[t]=!0,console.warn(t))}t.useOptimistic;e.memo(function(e){let{routes:t,future:n,state:r,onError:o}=e;return Te(t,void 0,r,o,n)});function We(t){let{to:n,replace:r,state:o,relative:i}=t;w(be(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=e.useContext(ge);b(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=e.useContext(ye),{pathname:c}=Ee(),l=Se(),u=Q(n,Y(s),c,"path"===i),h=JSON.stringify(u);return e.useEffect(()=>{l(JSON.parse(h),{replace:r,state:o,relative:i})},[l,h,i,r,o]),null}function Ge(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qe(t){let{basename:n="/",children:r=null,location:o,navigationType:i="POP",navigator:a,static:s=!1,unstable_useTransitions:c}=t;w(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=e.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:c,future:{}}),[l,a,s,c]);"string"===typeof o&&(o=S(o));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=o,m=e.useMemo(()=>{let e=H(h,l);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:g},navigationType:i}},[l,h,d,f,p,g,i]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(h).concat(d).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:e.createElement(ge.Provider,{value:u},e.createElement(me.Provider,{children:r,value:m}))}function Xe(e){let{children:t,location:n}=e;return Te(Ke(t),n)}e.Component;function Ke(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,o)=>{if(!e.isValidElement(t))return;let i=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,Ke(t.props.children,i));w(t.type===Ge,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Ke(t.props.children,i)),r.push(a)}),r}var Ye="get",Qe="application/x-www-form-urlencoded";function Ze(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Je=null;var $e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function et(e){return null==e||$e.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Qe,'"')),null)}function tt(e,t){let n,r,o,i,a;if(Ze(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?H(a,t):null,n=e.getAttribute("method")||Ye,o=et(e.getAttribute("enctype"))||Qe,i=new FormData(e)}else if(function(e){return Ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?H(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ye,o=et(e.getAttribute("formenctype"))||et(a.getAttribute("enctype"))||Qe,i=new FormData(a,e),!function(){if(null===Je)try{new FormData(document.createElement("form"),0),Je=!1}catch(e){Je=!0}return Je}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ye,r=null,o=Qe,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function nt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function rt(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function ot(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function it(e){return null!=e&&"string"===typeof e.page}function at(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function st(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function ct(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function lt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!it(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function ut(e,t){return"lazy"===e.mode&&!0===t}function ht(){let t=e.useContext(ce);return nt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dt(){let t=e.useContext(le);return nt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ft=e.createContext(void 0);function pt(){let t=e.useContext(ft);return nt(t,"You must render this element inside a <HydratedRouter> element"),t}function gt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mt(e,t,n){if(n&&!bt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ft.displayName="FrameworkContext";function yt(t){let{page:n}=t,r=i(t,d),{router:o}=ht(),a=e.useMemo(()=>T(o.routes,n,o.basename),[o.routes,n,o.basename]);return a?e.createElement(wt,u({page:n,matches:a},r)):null}function vt(t){let{manifest:n,routeModules:r}=pt(),[o,i]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return lt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await ot(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(at).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(t,n,r).then(t=>{e||i(t)}),()=>{e=!0}},[t,n,r]),o}function wt(t){let{page:n,matches:r}=t,o=i(t,f),a=Ee(),{manifest:s,routeModules:c}=pt(),{basename:l}=ht(),{loaderData:h,matches:d}=dt(),p=e.useMemo(()=>st(n,r,d,s,a,"data"),[n,r,d,s,a]),g=e.useMemo(()=>st(n,r,d,s,a,"assets"),[n,r,d,s,a]),m=e.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let o=s.routes[n.route.id];o&&o.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in h&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||o.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let o=rt(n,l,"data");return t&&e.size>0&&o.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[l,h,a,s,p,r,n,c]),y=e.useMemo(()=>ct(g,s),[g,s]),v=vt(g);return e.createElement(e.Fragment,null,m.map(t=>e.createElement("link",u({key:t,rel:"prefetch",as:"fetch",href:t},o))),y.map(t=>e.createElement("link",u({key:t,rel:"modulepreload",href:t},o))),v.map(t=>{let{key:n,link:r}=t;return e.createElement("link",u({key:n,nonce:o.nonce},r))}))}var bt=!1;function Et(t){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:a,routeDiscovery:s,ssr:c}=pt(),{router:l,static:d,staticContext:f}=ht(),{matches:p}=dt(),g=he(),m=ut(s,c);a&&(a.didRenderScripts=!0);let y=mt(p,null,o);e.useEffect(()=>{0},[]);let v=e.useMemo(()=>{var o;if(g)return null;let a=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=d?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),o=n.routes[e.route.id];nt(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:c,module:l}=o,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...c?[{module:c,varName:"".concat(r,"_HydrateFallback")}]:[],{module:l,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(l),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,h),o=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let c=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:c,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",u(u({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),e.createElement("script",u(u({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),w=bt||g?[]:(n.entry.imports.concat(ct(y,n,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let E="object"===typeof n.sri?n.sri:{};return He(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),bt||g?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:E})}}):null,m?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:E[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:E[n.entry.module],suppressHydrationWarning:!0}),w.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:E[n],suppressHydrationWarning:!0})),v)}function _t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function Ct(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let o,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ne(n))return e.createElement(St,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(St,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function St(t){var n;let{title:r,renderScripts:o,isOutsideRemixApp:i,children:a}=t,{routeModules:s}=pt();return null!==s.root&&void 0!==n&&n.Layout&&!i?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,o?e.createElement(Et,null):null)))}var At="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{At&&(window.__reactRouterVersion="7.11.0")}catch(PP){}function It(t){let{basename:n,children:r,unstable_useTransitions:o,window:i}=t,a=e.useRef();null==a.current&&(a.current=v({window:i,v5Compat:!0}));let s=a.current,[c,l]=e.useState({action:s.action,location:s.location}),u=e.useCallback(t=>{!1===o?l(t):e.startTransition(()=>l(t))},[o]);return e.useLayoutEffect(()=>s.listen(u),[s,u]),e.createElement(qe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:o})}var Tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=e.forwardRef(function(t,n){let{onClick:r,discover:o="render",prefetch:a="none",relative:s,reloadDocument:c,replace:l,state:h,target:d,to:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:y}=t,v=i(t,p),{basename:b,unstable_useTransitions:E}=e.useContext(ge),_="string"===typeof f&&Tt.test(f),S=ie(f,b);f=S.to;let A=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(ge),{hash:i,pathname:a,search:s}=Ie(t,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:Z([r,a])),o.createHref({pathname:c,search:s,hash:i})}(f,{relative:s}),[I,T,N]=function(t,n){let r=e.useContext(ft),[o,i]=e.useState(!1),[a,s]=e.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:gt(c,p),onBlur:gt(l,g),onMouseEnter:gt(u,p),onMouseLeave:gt(h,g),onTouchStart:gt(d,p)}]:[!1,f,{}]}(a,v),O=function(t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:c,unstable_useTransitions:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Se(),h=Ee(),d=Ie(t,{relative:a});return e.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,n)){f.preventDefault();let n=void 0!==r?r:C(h)===C(d),p=()=>u(t,{replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:c});l?e.startTransition(()=>p()):p()}},[h,u,d,r,o,n,t,i,a,s,c,l])}(f,{replace:l,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});let R=e.createElement("a",u(u(u({},v),N),{},{href:S.absoluteURL||A,onClick:S.isExternal||c?r:function(e){r&&r(e),e.defaultPrevented||O(e)},ref:_t(n,T),target:d,"data-discover":_||"render"!==o?void 0:"true"}));return I&&!_?e.createElement(e.Fragment,null,R,e.createElement(yt,{page:A})):R});Nt.displayName="Link";var Ot=e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:s=!1,style:c,to:l,viewTransition:h,children:d}=t,f=i(t,g),p=Ie(l,{relative:f.relative}),m=Ee(),y=e.useContext(le),{navigator:v,basename:b}=e.useContext(ge),E=null!=y&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(de);w(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=xt("useViewTransitionState"),i=Ie(t,{relative:n});if(!r.isTransitioning)return!1;let a=H(r.currentLocation.pathname,o)||r.currentLocation.pathname,s=H(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=U(i.pathname,s)||null!=U(i.pathname,a)}(p)&&!0===h,_=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,C=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(C=C.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&b&&(S=H(S,b)||S);const A="/"!==_&&_.endsWith("/")?_.length-1:_.length;let I,T=C===_||!s&&C.startsWith(_)&&"/"===C.charAt(A),N=null!=S&&(S===_||!s&&S.startsWith(_)&&"/"===S.charAt(_.length)),O={isActive:T,isPending:N,isTransitioning:E},R=T?r:void 0;I="function"===typeof a?a(O):[a,T?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let k="function"===typeof c?c(O):c;return e.createElement(Nt,u(u({},f),{},{"aria-current":R,className:I,ref:n,style:k,to:l,viewTransition:h}),"function"===typeof d?d(O):d)});Ot.displayName="NavLink";var Rt=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:o,navigate:a,reloadDocument:s,replace:c,state:l,method:h=Ye,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v}=t,b=i(t,m),{unstable_useTransitions:E}=e.useContext(ge),_=Mt(),S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(ge),o=e.useContext(ye);w(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a=u({},Ie(t||".",{relative:n})),s=Ee();if(null==t){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}t&&"."!==t||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:Z([r,a.pathname]));return C(a)}(d,{relative:p}),A="get"===h.toLowerCase()?"get":"post",I="string"===typeof d&&Tt.test(d);return e.createElement("form",u(u({ref:n,method:A,action:S,onSubmit:s?f:t=>{if(f&&f(t),t.defaultPrevented)return;t.preventDefault();let n=t.nativeEvent.submitter,r=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||h,i=()=>_(n||t.currentTarget,{fetcherKey:o,method:r,navigate:a,replace:c,state:l,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v});E&&!1!==a?e.startTransition(()=>i()):i()}},b),{},{"data-discover":I||"render"!==r?void 0:"true"}))});function kt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(t){let n=e.useContext(ce);return w(n,kt(t)),n}Rt.displayName="Form";var Dt=0,Pt=()=>"__".concat(String(++Dt),"__");function Mt(){let{router:t}=xt("useSubmit"),{basename:n}=e.useContext(ge),r=Fe("useRouteId"),o=t.fetch,i=t.navigate;return e.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:c,formData:l,body:u}=tt(e,n);if(!1===t.navigate){let e=t.fetcherKey||Pt();await o(e,r,t.action||a,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:l,body:u,formMethod:t.method||s,formEncType:t.encType||c,flushSync:t.flushSync})}else await i(t.action||a,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:l,body:u,formMethod:t.method||s,formEncType:t.encType||c,replace:t.replace,state:t.state,fromRouteId:r,flushSync:t.flushSync,viewTransition:t.viewTransition})},[o,i,n,r])}var Lt=n(579);const Bt=function(){return(0,Lt.jsx)("footer",{className:"bg-dark text-white text-center py-3 mt-auto",children:(0,Lt.jsx)("p",{className:"mb-0",children:"\xa9 2025 KitchenManager - Todos os direitos reservados."})})},Ft=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,a=i?e[o+1]:0,s=o+2<e.length,c=s?e[o+2]:0,l=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;s||(d=64,i||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ft(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const a=o<e.length?n[e.charAt(o)]:64;++o;const s=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==a||null==s)throw new Ut;const c=t<<2|i>>4;if(r.push(c),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vt=function(e){return function(e){const t=Ft(e);return jt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},zt=function(e){try{return jt.decodeString(e,!0)}catch(PP){console.error("base64Decode failed: ",PP)}return null};function Ht(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Wt=()=>{try{return Ht().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(PP){return}const t=e&&zt(e[1]);return t&&JSON.parse(t)})()}catch(PP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(PP))}},Gt=e=>{var t;return null===(t=Wt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},qt=e=>{const t=Gt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Xt=()=>{var e;return null===(e=Wt())||void 0===e?void 0:e.config},Kt=e=>{var t;return null===(t=Wt())||void 0===t?void 0:t["_".concat(e)]};class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Qt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Zt(e){return(await fetch(e,{credentials:"include"})).ok}function Jt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vt(JSON.stringify({alg:"none",type:"JWT"})),Vt(JSON.stringify(i)),""].join(".")}const $t={};let en=!1;function tn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Qt(window.location.host)||$t[e]===t||$t[e]||en)return;function n(e){return"__firebase__banner__".concat(e)}$t[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys($t))$t[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{en=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),c=document.getElementById(s)||document.createElement("a"),l=n("preprendIcon"),u=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(c,s);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,l),t.append(u,a,c,n),document.body.appendChild(t)}o?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function nn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rn(){var e;const t=null===(e=Wt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(PP){return!1}}function on(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function an(){return!rn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sn(){try{return"object"===typeof indexedDB}catch(PP){return!1}}function cn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class ln extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(hn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new ln(n,i,t)}}const hn=/\{\$([^}]+)}/g;function dn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(fn(n)&&fn(i)){if(!dn(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function fn(e){return null!==e&&"object"===typeof e}function pn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function mn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class yn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vn),void 0===r.error&&(r.error=vn),void 0===r.complete&&(r.complete=vn);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(PP){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(PP){"undefined"!==typeof console&&console.error&&console.error(PP)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}function wn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function bn(e){return e&&e._delegate?e._delegate:e}class En{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _n="[DEFAULT]";class Cn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Yt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(PP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(PP){if(r)return null;throw PP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_n})}catch(PP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(PP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===_n?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.component?this.component.multipleInstances?e:_n:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const An=[];var In;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(In||(In={}));const Tn={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},Nn=In.INFO,On={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},Rn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class kn{constructor(e){this.name=e,this._logLevel=Nn,this._logHandler=Rn,this._userLogHandler=null,An.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...t),this._logHandler(this,In.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...t),this._logHandler(this,In.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.INFO,...t),this._logHandler(this,In.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.WARN,...t),this._logHandler(this,In.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.ERROR,...t),this._logHandler(this,In.ERROR,...t)}}let xn,Dn;const Pn=new WeakMap,Mn=new WeakMap,Ln=new WeakMap,Bn=new WeakMap,Fn=new WeakMap;let jn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Un(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dn||(Dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Hn(this),n),zn(Pn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zn(e.apply(Hn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Hn(this),t,...r);return Ln.set(i,t.sort?t.sort():[t]),zn(i)}}function Vn(e){return"function"===typeof e?Un(e):(e instanceof IDBTransaction&&function(e){if(Mn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Mn.set(e,t)}(e),t=e,(xn||(xn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,jn):e);var t}function zn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(zn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Pn.set(t,e)}).catch(()=>{}),Fn.set(t,e),t}(e);if(Bn.has(e))return Bn.get(e);const t=Vn(e);return t!==e&&(Bn.set(e,t),Fn.set(t,e)),t}const Hn=e=>Fn.get(e);function Wn(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=zn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(zn(a.result),e.oldVersion,e.newVersion,zn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const Gn=["get","getKey","getAll","getAllKeys","count"],qn=["put","add","delete","clear"],Xn=new Map;function Kn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Xn.get(t))return Xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=qn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Gn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),o&&t.done]))[0]};return Xn.set(t,i),i}jn=(e=>u(u({},e),{},{get:(t,n,r)=>Kn(t,n)||e.get(t,n,r),has:(t,n)=>!!Kn(t,n)||e.has(t,n)}))(jn);class Yn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Qn="@firebase/app",Zn="0.14.6",Jn=new kn("@firebase/app"),$n="@firebase/app-compat",er="@firebase/analytics-compat",tr="@firebase/analytics",nr="@firebase/app-check-compat",rr="@firebase/app-check",or="@firebase/auth",ir="@firebase/auth-compat",ar="@firebase/database",sr="@firebase/data-connect",cr="@firebase/database-compat",lr="@firebase/functions",ur="@firebase/functions-compat",hr="@firebase/installations",dr="@firebase/installations-compat",fr="@firebase/messaging",pr="@firebase/messaging-compat",gr="@firebase/performance",mr="@firebase/performance-compat",yr="@firebase/remote-config",vr="@firebase/remote-config-compat",wr="@firebase/storage",br="@firebase/storage-compat",Er="@firebase/firestore",_r="@firebase/ai",Cr="@firebase/firestore-compat",Sr="firebase",Ar="[DEFAULT]",Ir={[Qn]:"fire-core",[$n]:"fire-core-compat",[tr]:"fire-analytics",[er]:"fire-analytics-compat",[rr]:"fire-app-check",[nr]:"fire-app-check-compat",[or]:"fire-auth",[ir]:"fire-auth-compat",[ar]:"fire-rtdb",[sr]:"fire-data-connect",[cr]:"fire-rtdb-compat",[lr]:"fire-fn",[ur]:"fire-fn-compat",[hr]:"fire-iid",[dr]:"fire-iid-compat",[fr]:"fire-fcm",[pr]:"fire-fcm-compat",[gr]:"fire-perf",[mr]:"fire-perf-compat",[yr]:"fire-rc",[vr]:"fire-rc-compat",[wr]:"fire-gcs",[br]:"fire-gcs-compat",[Er]:"fire-fst",[Cr]:"fire-fst-compat",[_r]:"fire-vertex","fire-js":"fire-js",[Sr]:"fire-js-all"},Tr=new Map,Nr=new Map,Or=new Map;function Rr(e,t){try{e.container.addComponent(t)}catch(PP){Jn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),PP)}}function kr(e){const t=e.name;if(Or.has(t))return Jn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Or.set(t,e);for(const n of Tr.values())Rr(n,e);for(const n of Nr.values())Rr(n,e);return!0}function xr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Dr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Pr=new un("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Mr{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const Lr="12.6.0";function Br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:Ar,automaticDataCollectionEnabled:!0},t),o=r.name;if("string"!==typeof o||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=Xt()),!n)throw Pr.create("no-options");const i=Tr.get(o);if(i){if(dn(n,i.options)&&dn(r,i.config))return i;throw Pr.create("duplicate-app",{appName:o})}const a=new Sn(o);for(const c of Or.values())a.addComponent(c);const s=new Mr(n,r,a);return Tr.set(o,s),s}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;const t=Tr.get(e);if(!t&&e===Ar&&Xt())return Br();if(!t)throw Pr.create("no-app",{appName:e});return t}function jr(e,t,n){var r;let o=null!==(r=Ir[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jn.warn(e.join(" "))}kr(new En("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const Ur="firebase-heartbeat-store";let Vr=null;function zr(){return Vr||(Vr=Wn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ur)}catch(PP){console.warn(PP)}}}).catch(e=>{throw Pr.create("idb-open",{originalErrorMessage:e.message})})),Vr}async function Hr(e,t){try{const n=(await zr()).transaction(Ur,"readwrite"),r=n.objectStore(Ur);await r.put(t,Wr(e)),await n.done}catch(PP){if(PP instanceof ln)Jn.warn(PP.message);else{const t=Pr.create("idb-set",{originalErrorMessage:null===PP||void 0===PP?void 0:PP.message});Jn.warn(t.message)}}}function Wr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Gr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(PP){Jn.warn(PP)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=qr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Kr(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Vt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(PP){return Jn.warn(PP),""}}}function qr(){return(new Date).toISOString().substring(0,10)}class Xr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!sn()&&cn().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zr()).transaction(Ur),n=await t.objectStore(Ur).get(Wr(e));return await t.done,n}catch(PP){if(PP instanceof ln)Jn.warn(PP.message);else{const t=Pr.create("idb-get",{originalErrorMessage:null===PP||void 0===PP?void 0:PP.message});Jn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Hr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Hr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Kr(e){return Vt(JSON.stringify({version:2,heartbeats:e})).length}var Yr;Yr="",kr(new En("platform-logger",e=>new Yn(e),"PRIVATE")),kr(new En("heartbeat",e=>new Gr(e),"PRIVATE")),jr(Qn,Zn,Yr),jr(Qn,Zn,"esm2020"),jr("fire-js","");var Qr,Zr,Jr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},$r={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var o=0;o<16;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;o<16;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];let i,a=e.g[3];i=t+(a^n&(o^a))+r[0]+3614090360&4294967295,i=a+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[1]+3905402710&4294967295,a=t+(i<<12&4294967295|i>>>20),i=o+(n^a&(t^n))+r[2]+606105819&4294967295,i=n+(t^(o=a+(i<<17&4294967295|i>>>15))&(a^t))+r[3]+3250441966&4294967295,i=t+(a^(n=o+(i<<22&4294967295|i>>>10))&(o^a))+r[4]+4118548399&4294967295,i=a+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[5]+1200080426&4294967295,a=t+(i<<12&4294967295|i>>>20),i=o+(n^a&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(o=a+(i<<17&4294967295|i>>>15))&(a^t))+r[7]+4249261313&4294967295,i=t+(a^(n=o+(i<<22&4294967295|i>>>10))&(o^a))+r[8]+1770035416&4294967295,i=a+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[9]+2336552879&4294967295,a=t+(i<<12&4294967295|i>>>20),i=o+(n^a&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(o=a+(i<<17&4294967295|i>>>15))&(a^t))+r[11]+2304563134&4294967295,i=t+(a^(n=o+(i<<22&4294967295|i>>>10))&(o^a))+r[12]+1804603682&4294967295,i=a+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[13]+4254626195&4294967295,a=t+(i<<12&4294967295|i>>>20),i=o+(n^a&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(o=a+(i<<17&4294967295|i>>>15))&(a^t))+r[15]+1236535329&4294967295,i=t+(o^a&((n=o+(i<<22&4294967295|i>>>10))^o))+r[1]+4129170786&4294967295,i=a+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,a=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(a^t))+r[11]+643717713&4294967295,i=n+(a^t&((o=a+(i<<14&4294967295|i>>>18))^a))+r[0]+3921069994&4294967295,i=t+(o^a&((n=o+(i<<20&4294967295|i>>>12))^o))+r[5]+3593408605&4294967295,i=a+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,a=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(a^t))+r[15]+3634488961&4294967295,i=n+(a^t&((o=a+(i<<14&4294967295|i>>>18))^a))+r[4]+3889429448&4294967295,i=t+(o^a&((n=o+(i<<20&4294967295|i>>>12))^o))+r[9]+568446438&4294967295,i=a+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,a=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(a^t))+r[3]+4107603335&4294967295,i=n+(a^t&((o=a+(i<<14&4294967295|i>>>18))^a))+r[8]+1163531501&4294967295,i=t+(o^a&((n=o+(i<<20&4294967295|i>>>12))^o))+r[13]+2850285829&4294967295,i=a+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,a=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(a^t))+r[7]+1735328473&4294967295,i=n+(a^t&((o=a+(i<<14&4294967295|i>>>18))^a))+r[12]+2368359562&4294967295,i=t+((n=o+(i<<20&4294967295|i>>>12))^o^a)+r[5]+4294588738&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[8]+2272392833&4294967295,a=t+(i<<11&4294967295|i>>>21),i=o+(a^t^n)+r[11]+1839030562&4294967295,i=n+((o=a+(i<<16&4294967295|i>>>16))^a^t)+r[14]+4259657740&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^a)+r[1]+2763975236&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[4]+1272893353&4294967295,a=t+(i<<11&4294967295|i>>>21),i=o+(a^t^n)+r[7]+4139469664&4294967295,i=n+((o=a+(i<<16&4294967295|i>>>16))^a^t)+r[10]+3200236656&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^a)+r[13]+681279174&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[0]+3936430074&4294967295,a=t+(i<<11&4294967295|i>>>21),i=o+(a^t^n)+r[3]+3572445317&4294967295,i=n+((o=a+(i<<16&4294967295|i>>>16))^a^t)+r[6]+76029189&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^a)+r[9]+3654602809&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[12]+3873151461&4294967295,a=t+(i<<11&4294967295|i>>>21),i=o+(a^t^n)+r[15]+530742520&4294967295,i=n+((o=a+(i<<16&4294967295|i>>>16))^a^t)+r[2]+3299628645&4294967295,i=t+(o^((n=o+(i<<23&4294967295|i>>>9))|~a))+r[0]+4096336452&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[7]+1126891415&4294967295,a=t+(i<<10&4294967295|i>>>22),i=o+(t^(a|~n))+r[14]+2878612391&4294967295,i=n+(a^((o=a+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~a))+r[12]+1700485571&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[3]+2399980690&4294967295,a=t+(i<<10&4294967295|i>>>22),i=o+(t^(a|~n))+r[10]+4293915773&4294967295,i=n+(a^((o=a+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~a))+r[8]+1873313359&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[15]+4264355552&4294967295,a=t+(i<<10&4294967295|i>>>22),i=o+(t^(a|~n))+r[6]+2734768916&4294967295,i=n+(a^((o=a+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~a))+r[4]+4149444226&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[11]+3174756917&4294967295,a=t+(i<<10&4294967295|i>>>22),i=o+(t^(a|~n))+r[2]+718787259&4294967295,i=n+(a^((o=a+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let o=e.length-1;o>=0;o--){const i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,o=this.C;let i=this.h,a=0;for(;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(o[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,o),i=0;break}}else for(;a<t;)if(o[i++]=e[a++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var o={};function i(e){return-128<=e&&e<128?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return d(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=i(0),c=i(1),l=i(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(c)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;r.l(e)<=0;)n=y(n),r=y(r);var o=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var l=i.add(r);l.l(e)<=0&&(o=o.add(n),i=l),r=v(r,1),n=v(n,1)}return t=f(e,o.j(t)),new g(o,t)}for(o=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),l=(i=a(n)).j(t);h(l)||l.l(e)>0;)l=(i=a(n-=r)).j(t);u(i)&&(i=c),o=o.add(i),e=f(e,l)}return new g(o,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const o=e.g.length-n,i=[];for(let r=0;r<o;r++)i[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const o=m(n,t).g;let i=(((n=f(n,o.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let o=0;for(let r=0;r<=t;r++){let t=o+(65535&this.i(r))+(65535&e.i(r)),i=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);o=i>>>16,t&=65535,i&=65535,n[r]=i<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(l)<0&&e.l(l)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(let t=0;t<e.g.length;t++){const r=this.i(o)>>>16,i=65535&this.i(o),a=e.i(t)>>>16,s=65535&e.i(t);n[2*o+2*t]+=i*s,p(n,2*o+2*t),n[2*o+2*t+1]+=r*s,p(n,2*o+2*t+1),n[2*o+2*t+1]+=i*a,p(n,2*o+2*t+1),n[2*o+2*t+2]+=r*a,p(n,2*o+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return m(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Zr=$r.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let o=s;for(let s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+i),n);i<8?(i=a(Math.pow(n,i)),o=o.j(i).add(a(e))):(o=o.j(r),o=o.add(a(e)))}return o},Qr=$r.Integer=r}).apply("undefined"!==typeof Jr?Jr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var eo,to,no,ro,oo,io,ao,so,co="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},lo={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof co&&co];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in o))break e;o=o[a]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var o=o||{},i=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){return(c=s).apply(null,arguments)}function l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function p(e){i.setTimeout(()=>{throw e},0)}function g(){var e=b;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var m=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,w=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){const n=m.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},E=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(_)}};function _(){for(var e;e=g();){try{e.h.call(e.g)}catch(n){p(n)}var t=m;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}w=!1}function C(){this.u=this.u,this.C=this.C}function S(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},S.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function I(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){S.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,S),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),O=0;function R(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++O,this.da=this.fa=!1}function k(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function x(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function D(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function B(e,t){const n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=i>=0)&&Array.prototype.splice.call(o,i,1),r&&(k(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let o=0;o<e.length;++o){const i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}L.prototype.add=function(e,t,n,r,o){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const a=F(e,t,r,o);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new R(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var j="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,o){if(r&&r.once)return H(e,t,n,r,o);if(Array.isArray(t)){for(let i=0;i<t.length;i++)V(e,t[i],n,r,o);return null}return n=Q(n),e&&e[N]?e.J(t,n,a(r)?!!r.capture:!!r,o):z(e,t,n,!1,r,o)}function z(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");const s=a(o)?!!o.capture:!!o;let c=K(e);if(c||(e[j]=c=new L(e)),(n=c.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,o){if(Array.isArray(t)){for(let i=0;i<t.length;i++)H(e,t[i],n,r,o);return null}return n=Q(n),e&&e[N]?e.K(t,n,a(r)?!!r.capture:!!r,o):z(e,t,n,!0,r,o)}function W(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)W(e,t[i],n,r,o);else r=a(r)?!!r.capture:!!r,n=Q(n),e&&e[N]?(e=e.i,(i=String(t).toString())in e.g&&((n=F(t=e.g[i],n,r,o))>-1&&(k(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=K(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,o)),(n=e>-1?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[N])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=K(t))?(B(n,e),0==n.h&&(n.src=null,t[j]=null)):k(e)}}}function q(e){return e in U?U[e]:U[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function K(e){return(e=e[j])instanceof L?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function Z(){C.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new S(t,e);else if(t instanceof S)t.target=t.target||e;else{var o=t;M(t=new S(r,e),o)}let i,a;if(o=!0,n)for(a=n.length-1;a>=0;a--)i=t.g=n[a],o=$(i,r,!0,t)&&o;if(i=t.g=e,o=$(i,r,!0,t)&&o,o=$(i,r,!1,t)&&o,n)for(a=0;a<n.length;a++)i=t.g=n[a],o=$(i,r,!1,t)&&o}function $(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let o=!0;for(let i=0;i<t.length;++i){const a=t[i];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&B(e.i,a),o=!1!==t.call(n,r)&&o}}return o&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(Z,C),Z.prototype[N]=!0,Z.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)k(n[e]);delete e.g[t],e.h--}}this.G=null},Z.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Z.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends C{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){C.call(this),this.h=e,this.g={}}u(ne,C);var re=[];function oe(e){x(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),oe(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=i.JSON.stringify,ae=i.JSON.parse,se=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function ce(){}function le(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){S.call(this,"d")}function de(){S.call(this,"c")}u(he,S),u(de,S);var fe={},pe=null;function ge(){return pe=pe||new Z}function me(e){S.call(this,fe.Ia,e)}function ye(e){const t=ge();J(t,new me(t))}function ve(e,t){S.call(this,fe.STAT_EVENT,e),this.stat=t}function we(e){const t=ge();J(t,new ve(t,e))}function be(e,t){S.call(this,fe.Ja,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ce(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(let e=1;e<r.length;e++)r[e]=""}}}return ie(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(me,S),fe.STAT_EVENT="statevent",u(ve,S),fe.Ja="timingevent",u(be,S),_e.prototype.ua=function(){this.g=!1},_e.prototype.info=function(){};var Se,Ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ie={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ne(e){return encodeURIComponent(String(e))}function Oe(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}u(Te,ce),Te.prototype.g=function(){return new XMLHttpRequest},Se=new Te;var xe={},De={};function Pe(e,t,n){e.M=1,e.A=it(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),wt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new ke,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(c(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var o="readystatechange";Array.isArray(o)||(o&&(re[0]=o.toString()),o=re);for(let i=0;i<o.length;i++){const e=V(n,o[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?D(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i){var a="",s=i.split("&");for(let e=0;e<s.length;e++){var c=s[e].split("=");if(c.length>1){const e=c[0];c=c[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+c+"&":a+(e+"=redacted&")}}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?xe:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,je(e,e.H)}function je(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Ee(c(e.aa,e),t)}function Ue(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function ze(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,oe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ke(n.h,e)))if(!e.L&&Ke(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;$t(n),Ht(n)}Qt(n),we(18)}}else n.xa=o[1],0<n.xa-n.K&&o[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Ee(c(n.Va,n),6e3));Xe(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&$t(n),!I(t))for(o=n.Ba.g.parse(t),t=0;t<o.length;t++){let c=o[t];const u=c[0];if(!(u<=n.K))if(n.K=u,c=c[1],2==n.I)if("c"==c[0]){n.M=c[1],n.ba=c[2];const t=c[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const o=c[4];null!=o&&(n.za=o,n.j.info("SVER="+n.za));const u=c[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Ye(i,i.h),i.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,ot(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),a.L){Qe(r.h,a);var s=a,l=r.O;l&&(s.H=l),s.D&&(Ue(s),Fe(s)),r.g=a}else Yt(r);n.i.length>0&&Gt(n)}else"stop"!=c[0]&&"close"!=c[0]||nn(n,7);else 3==n.I&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?nn(n,7):zt(n):"noop"!=c[0]&&n.l&&n.l.qa(c),n.A=0)}ye()}catch(u){}}Re.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const c=Ft(this.g),l=this.g.ya();this.g.ca();if(!(c<3)&&(3!=c||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||4!=c||7==l||ye(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=jt(e.g);if(""===t)return"";let n="";const r=t.length,o=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return ze(e),Ve(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(o&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,o,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.v,this.B,this.l,this.S,c,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,o=this.g;if((r=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,we(12),ze(this),Ve(this);break e}Ce(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Be(this,n),t==De){4==c&&(this.m=4,we(14),e=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(t==xe){this.m=4,we(15),Ce(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ce(this.i,this.l,t,null),He(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=c||0!=n.length||this.h.h||(this.m=1,we(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zt(s),s.P=!0,we(11))}}else Ce(this.i,this.l,n,"[Invalid Chunked Response]"),ze(this),Ve(this)}else Ce(this.i,this.l,n,null),He(this,n);4==c&&ze(this),this.o&&!this.K&&(4==c?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(I(e[r]))continue;var n=Oe(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),ze(this),Ve(this)}}}catch(Wo){}},Re.prototype.cancel=function(){this.K=!0,ze(this)},Re.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),we(17)),ze(this),this.m=2,Ve(this)):je(this,this.T-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ke(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Qe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ze(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}Ge.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $e(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof $e?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new $e(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(gt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(mt(this,t),wt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,dt)),e.i=new pt(t,e.l))}function ot(e,t,n){e.i.set(t,n)}function it(e){return ot(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ct),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ct(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$e.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,lt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,lt,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,ft)),e.join("")},$e.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var o=t.h.lastIndexOf("/");-1!=o&&(r=t.h.slice(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");const e=[];for(let t=0;t<o.length;){const n=o[t++];"."==n?r&&t==o.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==o.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=o}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var lt=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let o,i=null;r>=0?(o=e[n].substring(0,r),i=e[n].substring(r+1)):o=e[n],t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mt(e,t){gt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return gt(e),t=Et(e,t),e.g.has(t)}function vt(e,t){gt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(Et(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function wt(e,t,n){mt(e,t),n.length>0&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function bt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Ct(){this.g=new se}function St(e){this.i=e.Sb||null,this.h=e.ab||!1}function At(e,t){Z.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function It(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return x(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&Ne(n):ot(e,t,n))}function kt(e){Z.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){gt(this),this.i=null,e=Et(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){gt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return gt(this),this.i=null,yt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const o=Ne(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=o;""!==n[t]&&(r+="="+Ne(n[t])),e.push(r)}}return this.i=e.join("&")},u(St,ce),St.prototype.g=function(){return new At(this.i,this.h)},u(At,Z),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;It(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Nt(this),3==this.readyState&&It(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(kt,Z);var xt=/^https?$/i,Dt=["POST","PUT"];function Pt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Bt(e)}function Mt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof o)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const o=e.ca();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){let t=String(e.D).match(Je)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!xt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var a=Ft(e)>2?e.g.statusText:""}catch(s){a=""}e.l=a+" ["+e.ca()+"]",Mt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new _e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Ba=new Ct,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function zt(e){if(Wt(e),3==e.I){var t=e.V++,n=et(e.J);if(ot(n,"SID",e.M),ot(n,"RID",t),ot(n,"TYPE","terminate"),Xt(e,n),(t=new Re(e,e.j,t)).M=2,t.A=it(et(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function Ht(e){e.g&&(Zt(e),e.g.cancel(),e.g=null)}function Wt(e){Ht(e),e.v&&(i.clearTimeout(e.v),e.v=null),$t(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function Gt(e){if(!qe(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||E(),w||(v(),w=!0),b.add(t,e),e.D=0}}function qt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);ot(r,"SID",e.M),ot(r,"RID",n),ot(r,"AID",e.K),Xt(e,r),e.u&&e.o&&Rt(r,e.u,e.o),n=new Re(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Kt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Pe(n,r,t)}function Xt(e,t){e.H&&x(e.H,function(e,n){ot(t,n,e)}),e.l&&x({},function(e,n){ot(t,n,e)})}function Kt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?c(e.l.Ka,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let c=!0;for(let l=0;l<n;l++){var i=o[l].g;const n=o[l].map;if((i-=t)<0)t=Math.max(0,o[l].g-100),c=!1;else try{i="req"+i+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;a(n)&&(r=ie(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(ho){throw e.push(i+"type="+encodeURIComponent("_badmap")),ho}}catch(ho){r&&r(n)}}if(c){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||E(),w||(v(),w=!0),b.add(t,e),e.A=0}}function Qt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Ee(c(e.Da,e),tn(e,e.A)),e.A++,!0)}function Zt(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);ot(t,"RID","rpc"),ot(t,"SID",e.M),ot(t,"AID",e.K),ot(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&ot(t,"TO",e.ia),ot(t,"TYPE","xmlhttp"),Xt(e,t),e.u&&e.o&&Rt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=it(et(t)),n.u=null,n.R=!0,Me(n,e)}function $t(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){$t(e),Zt(e),e.g=null;var r=2}else{if(!Ke(e.h,t))return;n=t.G,Qe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;J(r=ge(),new be(r,n)),Gt(e)}else Yt(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Ee(c(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Qt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),o){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.bb,e),r=e.Ua;const t=!r;r=new $e(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||tt(r,"https"),it(r),t?function(e,t){const n=new _e;if(i.Image){const r=new Image;r.onload=l(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=l(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=l(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=l(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else we(2);e.I=0,e.l&&e.l.pa(t),rn(e),Wt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Ze(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof $e?et(n):new $e(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;const e=new $e(null);r&&tt(e,r),t&&(e.g=t),o&&nt(e,o),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&ot(r,n,t),ot(r,"VER",e.ka),Xt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new kt(new St({ab:n})):new kt(e.ma)).Fa(e.L),t}function sn(){}function cn(){}function ln(e,t){Z.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!I(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=kt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Se.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Pt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Dt,t,void 0)>=0)||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),kt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){we(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Gt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const o=new Re(this,this.j,e);let i=this.o;if(this.U&&(i?(i=D(i),M(i,this.U)):i=this.U),null!==this.u||this.R||(o.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kt(this,o,t),ot(n=et(this.J),"RID",e),ot(n,"CVER",22),this.G&&ot(n,"X-HTTP-Session-Id",this.G),Xt(this,n),i&&(this.R?t="headers="+Ne(Ot(i))+"&"+t:this.u&&Rt(n,this.u,i)),Ye(this.h,o),this.Ra&&ot(n,"TYPE","init"),this.S?(ot(n,"$req",t),ot(n,"SID","null"),o.U=!0,Pe(o,n,null)):Pe(o,n,t),this.I=2}}else 3==this.I&&(e?qt(this,e):0==this.i.length||qe(this.h)||qt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Ee(c(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Ht(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Qt(this),we(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},cn.prototype.g=function(e,t){return new ln(e,t)},u(ln,Z),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){zt(this.g)},ln.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ie(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.I&&Gt(t)},ln.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,ln.Z.N.call(this)},u(un,he),u(hn,de),u(dn,sn),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},cn.prototype.createWebChannel=cn.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,so=lo.createWebChannelTransport=function(){return new cn},ao=lo.getStatEventTarget=function(){return ge()},io=lo.Event=fe,oo=lo.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,ro=lo.ErrorCode=Ae,Ie.COMPLETE="complete",no=lo.EventType=Ie,le.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",Z.prototype.listen=Z.prototype.J,to=lo.WebChannel=le,lo.FetchXmlHttpFactory=St,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,eo=lo.XhrIo=kt}).apply("undefined"!==typeof co?co:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const uo="@firebase/firestore",ho="4.9.3";class fo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fo.UNAUTHENTICATED=new fo(null),fo.GOOGLE_CREDENTIALS=new fo("google-credentials-uid"),fo.FIRST_PARTY=new fo("first-party-uid"),fo.MOCK_USER=new fo("mock-user");let po="12.7.0";const go=new kn("@firebase/firestore");function mo(){return go.logLevel}function yo(e){if(go.logLevel<=In.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(bo);go.debug("Firestore (".concat(po,"): ").concat(e),...o)}}function vo(e){if(go.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(bo);go.error("Firestore (".concat(po,"): ").concat(e),...o)}}function wo(e){if(go.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(bo);go.warn("Firestore (".concat(po,"): ").concat(e),...o)}}function bo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Eo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,_o(e,r,n)}function _o(e,t,n){let r="FIRESTORE (".concat(po,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw vo(r),new Error(r)}function Co(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||_o(t,o,r)}function So(e,t){return e}const Ao={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Io extends ln{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class To{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class No{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Oo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fo.UNAUTHENTICATED))}shutdown(){}}class Ro{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ko{constructor(e){this.t=e,this.currentUser=fo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Co(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new To;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new To,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{yo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(yo("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new To)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Co("string"==typeof t.accessToken,31837,{l:t}),new No(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Co(null===e||"string"==typeof e,2055,{h:e}),new fo(e)}}class xo{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Do{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new xo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Po{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mo{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Co(void 0===this.o,3512);const n=e=>{null!=e.error&&yo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,yo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{yo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):yo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Po(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Co("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Po(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Bo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Lo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Fo(e,t){return e<t?-1:e>t?1:0}function jo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return zo(n)===zo(o)?Fo(n,o):zo(n)?1:-1}return Fo(e.length,t.length)}const Uo=55296,Vo=57343;function zo(e){const t=e.charCodeAt(0);return t>=Uo&&t<=Vo}function Ho(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Wo="__name__";class Go{constructor(e,t,n){void 0===t?t=0:t>e.length&&Eo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Eo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Go.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Go.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Fo(e.length,t.length)}static compareSegments(e,t){const n=Go.isNumericId(e),r=Go.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Go.extractNumericId(e).compare(Go.extractNumericId(t)):jo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class qo extends Go{construct(e,t,n){return new qo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Io(Ao.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter(e=>e.length>0))}return new qo(e)}static emptyPath(){return new qo([])}}const Xo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ko extends Go{construct(e,t,n){return new Ko(e,t,n)}static isValidIdentifier(e){return Xo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ko.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Wo}static keyField(){return new Ko([Wo])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Io(Ao.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Io(Ao.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Io(Ao.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Io(Ao.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ko(t)}static emptyPath(){return new Ko([])}}class Yo{constructor(e){this.path=e}static fromPath(e){return new Yo(qo.fromString(e))}static fromName(e){return new Yo(qo.fromString(e).popFirst(5))}static empty(){return new Yo(qo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yo(new qo(e.slice()))}}function Qo(e,t,n){if(!n)throw new Io(Ao.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Zo(e){if(!Yo.isDocumentKey(e))throw new Io(Ao.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jo(e){if(Yo.isDocumentKey(e))throw new Io(Ao.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $o(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ei(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Eo(12329,{type:typeof e})}function ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Io(Ao.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ei(e);throw new Io(Ao.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ni(e,t){const n={typeString:e};return t&&(n.value=t),n}function ri(e,t){if(!$o(e))throw new Io(Ao.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(o&&typeof a!==o){n="JSON field '".concat(r,"' must be a ").concat(o,".");break}if(void 0!==i&&a!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Io(Ao.INVALID_ARGUMENT,n);return!0}const oi=-62135596800,ii=1e6;class ai{static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ii);return new ai(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Io(Ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Io(Ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oi)throw new Io(Ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Io(Ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ii}_compareTo(e){return this.seconds===e.seconds?Fo(this.nanoseconds,e.nanoseconds):Fo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ai._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ri(e,ai._jsonSchema))return new ai(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ai._jsonSchemaVersion="firestore/timestamp/1.0",ai._jsonSchema={type:ni("string",ai._jsonSchemaVersion),seconds:ni("number"),nanoseconds:ni("number")};class si{static fromTimestamp(e){return new si(e)}static min(){return new si(new ai(0,0))}static max(){return new si(new ai(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ci=-1;class li{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}li.UNKNOWN_ID=-1;function ui(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=si.fromTimestamp(1e9===r?new ai(n+1,0):new ai(n,r));return new di(o,Yo.empty(),t)}function hi(e){return new di(e.readTime,e.key,ci)}class di{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new di(si.min(),Yo.empty(),ci)}static max(){return new di(si.max(),Yo.empty(),ci)}}function fi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Yo.comparator(e.documentKey,t.documentKey),0!==n?n:Fo(e.largestBatchId,t.largestBatchId))}const pi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function mi(e){if(e.code!==Ao.FAILED_PRECONDITION||e.message!==pi)throw e;yo("LocalStore","Unexpectedly lost primary lease")}class yi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Eo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yi((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof yi?t:yi.resolve(t)}catch(e){return yi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):yi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):yi.reject(t)}static resolve(e){return new yi((t,n)=>{t(e)})}static reject(e){return new yi((t,n)=>{n(e)})}static waitFor(e){return new yi((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=yi.resolve(!1);for(const n of e)t=t.next(e=>e?yi.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new yi((n,r)=>{const o=e.length,i=new Array(o);let a=0;for(let s=0;s<o;s++){const c=s;t(e[c]).next(e=>{i[c]=e,++a,a===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new yi((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function vi(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wi(e){return"IndexedDbTransactionError"===e.name}class bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bi.ce=-1;const Ei=-1;function _i(e){return null==e}function Ci(e){return 0===e&&1/e==-1/0}function Si(e){return"number"==typeof e&&Number.isInteger(e)&&!Ci(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ai="\x01";function Ii(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ni(t)),t=Ti(e.get(n),t);return Ni(t)}function Ti(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case Ai:n+="\x01\x11";break;default:n+=t}}return n}function Ni(e){return e+Ai+"\x01"}const Oi="remoteDocuments",Ri="owner",ki="mutationQueues",xi="mutations";const Di="documentMutations",Pi="remoteDocumentsV14",Mi="remoteDocumentGlobal",Li="targets",Bi="targetDocuments",Fi="targetGlobal",ji="collectionParents",Ui="clientMetadata",Vi="bundles",zi="namedQueries",Hi="indexConfiguration",Wi="indexState",Gi="indexEntries",qi="documentOverlays",Xi="globals",Ki=[ki,xi,Di,Oi,Li,Ri,Fi,Bi,Ui,Mi,ji,Vi,zi],Yi=[ki,xi,Di,Pi,Li,Ri,Fi,Bi,Ui,Mi,ji,Vi,zi,qi],Qi=Yi,Zi=[...Qi,Hi,Wi,Gi];function Ji(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $i(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ea(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ta{constructor(e,t){this.comparator=e,this.root=t||ra.EMPTY}insert(e,t){return new ta(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ra.BLACK,null,null))}remove(e){return new ta(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ra.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new na(this.root,e,this.comparator,!1)}getReverseIterator(){return new na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new na(this.root,e,this.comparator,!0)}}class na{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ra{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:ra.RED,this.left=null!=r?r:ra.EMPTY,this.right=null!=o?o:ra.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new ra(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ra.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ra.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ra.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ra.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Eo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Eo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Eo(27949);return e+(this.isRed()?0:1)}}ra.EMPTY=null,ra.RED=!0,ra.BLACK=!1,ra.EMPTY=new class{constructor(){this.size=0}get key(){throw Eo(57766)}get value(){throw Eo(16141)}get color(){throw Eo(16727)}get left(){throw Eo(29726)}get right(){throw Eo(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new ra(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oa{constructor(e){this.comparator=e,this.data=new ta(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ia(this.data.getIterator())}getIteratorFrom(e){return new ia(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof oa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new oa(this.comparator);return t.data=e,t}}class ia{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class aa{constructor(e){this.fields=e,e.sort(Ko.comparator)}static empty(){return new aa([])}unionWith(e){let t=new oa(Ko.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new aa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class sa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ca{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sa("Invalid base64 string: "+e):e}}(e);return new ca(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ca(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ca.EMPTY_BYTE_STRING=new ca("");const la=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(e){if(Co(!!e,39018),"string"==typeof e){let t=0;const n=la.exec(e);if(Co(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ha(e.seconds),nanos:ha(e.nanos)}}function ha(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function da(e){return"string"==typeof e?ca.fromBase64String(e):ca.fromUint8Array(e)}const fa="server_timestamp",pa="__type__",ga="__previous_value__",ma="__local_write_time__";function ya(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[pa])||void 0===t?void 0:t.stringValue)===fa}function va(e){const t=e.mapValue.fields[ga];return ya(t)?va(t):t}function wa(e){const t=ua(e.mapValue.fields[ma].timestampValue);return new ai(t.seconds,t.nanos)}class ba{constructor(e,t,n,r,o,i,a,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}}const Ea="(default)";class _a{constructor(e,t){this.projectId=e,this.database=t||Ea}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===Ea}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}const Ca="__type__",Sa="__max__",Aa={mapValue:{fields:{__type__:{stringValue:Sa}}}},Ia="__vector__",Ta="value";function Na(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ya(e)?4:Ga(e)?9007199254740991:Ha(e)?10:11:Eo(28295,{value:e})}function Oa(e,t){if(e===t)return!0;const n=Na(e);if(n!==Na(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wa(e).isEqual(wa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ua(e.timestampValue),r=ua(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return da(e.bytesValue).isEqual(da(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ha(e.geoPointValue.latitude)===ha(t.geoPointValue.latitude)&&ha(e.geoPointValue.longitude)===ha(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ha(e.integerValue)===ha(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ha(e.doubleValue),r=ha(t.doubleValue);return n===r?Ci(n)===Ci(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ho(e.arrayValue.values||[],t.arrayValue.values||[],Oa);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ji(n)!==Ji(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Oa(n[o],r[o])))return!1;return!0}(e,t);default:return Eo(52216,{left:e})}}function Ra(e,t){return void 0!==(e.values||[]).find(e=>Oa(e,t))}function ka(e,t){if(e===t)return 0;const n=Na(e),r=Na(t);if(n!==r)return Fo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ha(e.integerValue||e.doubleValue),r=ha(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xa(e.timestampValue,t.timestampValue);case 4:return xa(wa(e),wa(t));case 5:return jo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=da(e),r=da(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Fo(n[o],r[o]);if(0!==e)return e}return Fo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Fo(ha(e.latitude),ha(t.latitude));return 0!==n?n:Fo(ha(e.longitude),ha(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Da(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const a=e.fields||{},s=t.fields||{},c=null===(n=a[Ta])||void 0===n?void 0:n.arrayValue,l=null===(r=s[Ta])||void 0===r?void 0:r.arrayValue,u=Fo((null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0,(null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Da(c,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Aa.mapValue&&t===Aa.mapValue)return 0;if(e===Aa.mapValue)return 1;if(t===Aa.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=jo(r[a],i[a]);if(0!==e)return e;const t=ka(n[r[a]],o[i[a]]);if(0!==t)return t}return Fo(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Eo(23264,{he:n})}}function xa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fo(e,t);const n=ua(e),r=ua(t),o=Fo(n.seconds,r.seconds);return 0!==o?o:Fo(n.nanos,r.nanos)}function Da(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=ka(n[o],r[o]);if(e)return e}return Fo(n.length,r.length)}function Pa(e){return Ma(e)}function Ma(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ua(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return da(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Yo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ma(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(Ma(e.fields[o]));return n+"}"}(e.mapValue):Eo(61005,{value:e})}function La(e){switch(Na(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=va(e);return t?16+La(t):16;case 5:return 2*e.stringValue.length;case 6:return da(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+La(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return $i(e.fields,(e,n)=>{t+=e.length+La(n)}),t}(e.mapValue);default:throw Eo(13486,{value:e})}}function Ba(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fa(e){return!!e&&"integerValue"in e}function ja(e){return!!e&&"arrayValue"in e}function Ua(e){return!!e&&"nullValue"in e}function Va(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function za(e){return!!e&&"mapValue"in e}function Ha(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ca])||void 0===t?void 0:t.stringValue)===Ia}function Wa(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $i(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Wa(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wa(e.arrayValue.values[n]);return t}return u({},e)}function Ga(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Sa}class qa{constructor(e){this.value=e}static empty(){return new qa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!za(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(t)}setAll(e){let t=Ko.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Wa(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());za(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];za(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){$i(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new qa(Wa(this.value))}}function Xa(e){const t=[];return $i(e.fields,(e,n)=>{const r=new Ko([e]);if(za(n)){const e=Xa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new aa(t)}class Ka{constructor(e,t,n,r,o,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Ka(e,0,si.min(),si.min(),si.min(),qa.empty(),0)}static newFoundDocument(e,t,n,r){return new Ka(e,1,t,si.min(),n,r,0)}static newNoDocument(e,t){return new Ka(e,2,t,si.min(),si.min(),qa.empty(),0)}static newUnknownDocument(e,t){return new Ka(e,3,t,si.min(),si.min(),qa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(si.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=si.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ka&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ka(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ya{constructor(e,t){this.position=e,this.inclusive=t}}function Qa(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],a=e.position[o];if(r=i.field.isKeyField()?Yo.comparator(Yo.fromName(a.referenceValue),n.key):ka(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Za(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Oa(e.position[n],t.position[n]))return!1;return!0}class Ja{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $a(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class es{}class ts extends es{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ls(e,t,n):"array-contains"===t?new fs(e,n):"in"===t?new ps(e,n):"not-in"===t?new gs(e,n):"array-contains-any"===t?new ms(e,n):new ts(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new us(e,n):new hs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ka(t,this.value)):null!==t&&Na(this.value)===Na(t)&&this.matchesComparison(ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Eo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends es{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ns(e,t)}matches(e){return rs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rs(e){return"and"===e.op}function os(e){return is(e)&&rs(e)}function is(e){for(const t of e.filters)if(t instanceof ns)return!1;return!0}function as(e){if(e instanceof ts)return e.field.canonicalString()+e.op.toString()+Pa(e.value);if(os(e))return e.filters.map(e=>as(e)).join(",");{const t=e.filters.map(e=>as(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ss(e,t){return e instanceof ts?function(e,t){return t instanceof ts&&e.op===t.op&&e.field.isEqual(t.field)&&Oa(e.value,t.value)}(e,t):e instanceof ns?function(e,t){return t instanceof ns&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ss(n,t.filters[r]),!0)}(e,t):void Eo(19439)}function cs(e){return e instanceof ts?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Pa(e.value))}(e):e instanceof ns?function(e){return e.op.toString()+" {"+e.getFilters().map(cs).join(" ,")+"}"}(e):"Filter"}class ls extends ts{constructor(e,t,n){super(e,t,n),this.key=Yo.fromName(n.referenceValue)}matches(e){const t=Yo.comparator(e.key,this.key);return this.matchesComparison(t)}}class us extends ts{constructor(e,t){super(e,"in",t),this.keys=ds("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hs extends ts{constructor(e,t){super(e,"not-in",t),this.keys=ds("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ds(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Yo.fromName(e.referenceValue))}class fs extends ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ja(t)&&Ra(t.arrayValue,this.value)}}class ps extends ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ra(this.value.arrayValue,t)}}class gs extends ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ra(this.value.arrayValue,t)}}class ms extends ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ja(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ra(this.value.arrayValue,e))}}class ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.Te=null}}function vs(e){return new ys(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ws(e){const t=So(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>as(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),_i(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Pa(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Pa(e)).join(",")),t.Te=e}return t.Te}function bs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$a(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ss(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Za(e.startAt,t.startAt)&&Za(e.endAt,t.endAt)}function Es(e){return Yo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cs(e,t,n,r,o,i,a,s){return new _s(e,t,n,r,o,i,a,s)}function Ss(e){return new _s(e)}function As(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Is(e){return null!==e.collectionGroup}function Ts(e){const t=So(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new oa(Ko.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ja(r,n))}),e.has(Ko.keyField().canonicalString())||t.Ie.push(new Ja(Ko.keyField(),n))}return t.Ie}function Ns(e){const t=So(e);return t.Ee||(t.Ee=Os(t,Ts(e))),t.Ee}function Os(e,t){if("F"===e.limitType)return vs(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ja(e.field,t)});const n=e.endAt?new Ya(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ya(e.startAt.position,e.startAt.inclusive):null;return vs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Rs(e,t){const n=e.filters.concat([t]);return new _s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ks(e,t,n){return new _s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xs(e,t){return bs(Ns(e),Ns(t))&&e.limitType===t.limitType}function Ds(e){return"".concat(ws(Ns(e)),"|lt:").concat(e.limitType)}function Ps(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>cs(e)).join(", "),"]")),_i(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Pa(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Pa(e)).join(",")),"Target(".concat(t,")")}(Ns(e)),"; limitType=").concat(e.limitType,")")}function Ms(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ts(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ts(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ts(e),t))}(e,t)}function Ls(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bs(e){return(t,n)=>{let r=!1;for(const o of Ts(e)){const e=Fs(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Fs(e,t,n){const r=e.field.isKeyField()?Yo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?ka(r,o):Eo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Eo(19790,{direction:e.dir})}}class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return ea(this.inner)}size(){return this.innerSize}}const Us=new ta(Yo.comparator);function Vs(){return Us}const zs=new ta(Yo.comparator);function Hs(){let e=zs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function Ws(e){let t=zs;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Gs(){return Xs()}function qs(){return Xs()}function Xs(){return new js(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ks=new ta(Yo.comparator),Ys=new oa(Yo.comparator);function Qs(){let e=Ys;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const Zs=new oa(Fo);function Js(){return Zs}function $s(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ci(t)?"-0":t}}function ec(e){return{integerValue:""+e}}function tc(e,t){return Si(t)?ec(t):$s(e,t)}class nc{constructor(){this._=void 0}}function rc(e,t,n){return e instanceof ac?function(e,t){const n={fields:{[pa]:{stringValue:fa},[ma]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ya(t)&&(t=va(t)),t&&(n.fields[ga]=t),{mapValue:n}}(n,t):e instanceof sc?cc(e,t):e instanceof lc?uc(e,t):function(e,t){const n=ic(e,t),r=dc(n)+dc(e.Ae);return Fa(n)&&Fa(e.Ae)?ec(r):$s(e.serializer,r)}(e,t)}function oc(e,t,n){return e instanceof sc?cc(e,t):e instanceof lc?uc(e,t):n}function ic(e,t){return e instanceof hc?function(e){return Fa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ac extends nc{}class sc extends nc{constructor(e){super(),this.elements=e}}function cc(e,t){const n=fc(t);for(const r of e.elements)n.some(e=>Oa(e,r))||n.push(r);return{arrayValue:{values:n}}}class lc extends nc{constructor(e){super(),this.elements=e}}function uc(e,t){let n=fc(t);for(const r of e.elements)n=n.filter(e=>!Oa(e,r));return{arrayValue:{values:n}}}class hc extends nc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dc(e){return ha(e.integerValue||e.doubleValue)}function fc(e){return ja(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pc{constructor(e,t){this.field=e,this.transform=t}}class gc{constructor(e,t){this.version=e,this.transformResults=t}}class mc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mc}static exists(e){return new mc(void 0,e)}static updateTime(e){return new mc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vc{}function wc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Oc(e.key,mc.none()):new Sc(e.key,e.data,mc.none());{const n=e.data,r=qa.empty();let o=new oa(Ko.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Ac(e.key,r,new aa(o.toArray()),mc.none())}}function bc(e,t,n){e instanceof Sc?function(e,t,n){const r=e.value.clone(),o=Tc(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ac?function(e,t,n){if(!yc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Tc(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Ic(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ec(e,t,n,r){return e instanceof Sc?function(e,t,n,r){if(!yc(e.precondition,t))return n;const o=e.value.clone(),i=Nc(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ac?function(e,t,n,r){if(!yc(e.precondition,t))return n;const o=Nc(e.fieldTransforms,r,t),i=t.data;return i.setAll(Ic(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return yc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _c(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=ic(r.transform,e||null);null!=o&&(null===n&&(n=qa.empty()),n.set(r.field,o))}return n||null}function Cc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ho(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sc&&t instanceof sc||e instanceof lc&&t instanceof lc?Ho(e.elements,t.elements,Oa):e instanceof hc&&t instanceof hc?Oa(e.Ae,t.Ae):e instanceof ac&&t instanceof ac}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sc extends vc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ac extends vc{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ic(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Tc(e,t,n){const r=new Map;Co(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],a=i.transform,s=t.data.field(i.field);r.set(i.field,oc(a,s,n[o]))}return r}function Nc(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,rc(e,i,t))}return r}class Oc extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rc extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ec(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ec(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qs();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=t.has(r.key)?null:a;const s=wc(i,a);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(si.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qs())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(e,t)=>Cc(e,t))&&Ho(this.baseMutations,e.baseMutations,(e,t)=>Cc(e,t))}}class xc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Co(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ks;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new xc(e,t,n,r)}}class Dc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Pc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mc,Lc;function Bc(e){switch(e){case Ao.OK:return Eo(64938);case Ao.CANCELLED:case Ao.UNKNOWN:case Ao.DEADLINE_EXCEEDED:case Ao.RESOURCE_EXHAUSTED:case Ao.INTERNAL:case Ao.UNAVAILABLE:case Ao.UNAUTHENTICATED:return!1;case Ao.INVALID_ARGUMENT:case Ao.NOT_FOUND:case Ao.ALREADY_EXISTS:case Ao.PERMISSION_DENIED:case Ao.FAILED_PRECONDITION:case Ao.ABORTED:case Ao.OUT_OF_RANGE:case Ao.UNIMPLEMENTED:case Ao.DATA_LOSS:return!0;default:return Eo(15467,{code:e})}}function Fc(e){if(void 0===e)return vo("GRPC error has no .code"),Ao.UNKNOWN;switch(e){case Mc.OK:return Ao.OK;case Mc.CANCELLED:return Ao.CANCELLED;case Mc.UNKNOWN:return Ao.UNKNOWN;case Mc.DEADLINE_EXCEEDED:return Ao.DEADLINE_EXCEEDED;case Mc.RESOURCE_EXHAUSTED:return Ao.RESOURCE_EXHAUSTED;case Mc.INTERNAL:return Ao.INTERNAL;case Mc.UNAVAILABLE:return Ao.UNAVAILABLE;case Mc.UNAUTHENTICATED:return Ao.UNAUTHENTICATED;case Mc.INVALID_ARGUMENT:return Ao.INVALID_ARGUMENT;case Mc.NOT_FOUND:return Ao.NOT_FOUND;case Mc.ALREADY_EXISTS:return Ao.ALREADY_EXISTS;case Mc.PERMISSION_DENIED:return Ao.PERMISSION_DENIED;case Mc.FAILED_PRECONDITION:return Ao.FAILED_PRECONDITION;case Mc.ABORTED:return Ao.ABORTED;case Mc.OUT_OF_RANGE:return Ao.OUT_OF_RANGE;case Mc.UNIMPLEMENTED:return Ao.UNIMPLEMENTED;case Mc.DATA_LOSS:return Ao.DATA_LOSS;default:return Eo(39323,{code:e})}}(Lc=Mc||(Mc={}))[Lc.OK=0]="OK",Lc[Lc.CANCELLED=1]="CANCELLED",Lc[Lc.UNKNOWN=2]="UNKNOWN",Lc[Lc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lc[Lc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lc[Lc.NOT_FOUND=5]="NOT_FOUND",Lc[Lc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lc[Lc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lc[Lc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lc[Lc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lc[Lc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lc[Lc.ABORTED=10]="ABORTED",Lc[Lc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lc[Lc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lc[Lc.INTERNAL=13]="INTERNAL",Lc[Lc.UNAVAILABLE=14]="UNAVAILABLE",Lc[Lc.DATA_LOSS=15]="DATA_LOSS";let jc=null;function Uc(){return new TextEncoder}const Vc=new Qr([4294967295,4294967295],0);function zc(e){const t=Uc().encode(e),n=new Zr;return n.update(t),new Uint8Array(n.digest())}function Hc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Qr([n,r],0),new Qr([o,i],0)]}class Wc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gc("Invalid padding: ".concat(t));if(n<0)throw new Gc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Gc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Gc("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Qr.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Qr.fromNumber(n)));return 1===r.compare(Vc)&&(r=new Qr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=zc(e),[n,r]=Hc(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Wc(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=zc(e),[n,r]=Hc(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qc{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qc(si.min(),r,new ta(Fo),Vs(),Qs())}}class Xc{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xc(n,t,Qs(),Qs(),Qs())}}class Kc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Yc{constructor(e,t){this.targetId=e,this.Ce=t}}class Qc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ca.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zc{constructor(){this.ve=0,this.Fe=el(),this.Me=ca.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qs(),t=Qs(),n=Qs();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Eo(38017,{changeType:o})}}),new Xc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=el()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Co(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Jc{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vs(),this.Je=$c(),this.He=$c(),this.Ye=new ta(Fo)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Eo(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Es(i))if(0===n){const e=new Yo(i.path);this.et(t,e,Ka.newNoDocument(e,si.min()))}else Co(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var o;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(o=jc)||void 0===o||o.lt(function(e,t,n,r,o){var i,a,s,c,l;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===o,hashCount:null!==(i=null===h||void 0===h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===h||void 0===h||null===(s=h.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(c=null===h||void 0===h||null===(l=h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,a;try{i=da(n).toUint8Array()}catch(e){if(e instanceof sa)return wo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Wc(i,r,o)}catch(e){return wo(e instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&Es(o.target)){const t=new Yo(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ka.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Qs();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new qc(e,t,this.Ye,this.je,n);return this.je=Vs(),this.Je=$c(),this.He=$c(),this.Ye=new ta(Fo),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Zc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new oa(Fo),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new oa(Fo),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||yo("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $c(){return new ta(Yo.comparator)}function el(){return new ta(Yo.comparator)}const tl={asc:"ASCENDING",desc:"DESCENDING"},nl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rl={and:"AND",or:"OR"};class ol{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function il(e,t){return e.useProto3Json||_i(t)?t:{value:t}}function al(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cl(e,t){return al(e,t.toTimestamp())}function ll(e){return Co(!!e,49232),si.fromTimestamp(function(e){const t=ua(e);return new ai(t.seconds,t.nanos)}(e))}function ul(e,t){return hl(e,t).canonicalString()}function hl(e,t){const n=function(e){return new qo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dl(e){const t=qo.fromString(e);return Co(xl(t),10190,{key:t.toString()}),t}function fl(e,t){return ul(e.databaseId,t.path)}function pl(e,t){const n=dl(t);if(n.get(1)!==e.databaseId.projectId)throw new Io(Ao.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Io(Ao.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yo(vl(n))}function gl(e,t){return ul(e.databaseId,t)}function ml(e){const t=dl(e);return 4===t.length?qo.emptyPath():vl(t)}function yl(e){return new qo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vl(e){return Co(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function wl(e,t,n){return{name:fl(e,t),fields:n.value.mapValue.fields}}function bl(e,t){let n;if(t instanceof Sc)n={update:wl(e,t.key,t.value)};else if(t instanceof Oc)n={delete:fl(e,t.key)};else if(t instanceof Ac)n={update:wl(e,t.key,t.data),updateMask:kl(t.fieldMask)};else{if(!(t instanceof Rc))return Eo(16599,{Vt:t.type});n={verify:fl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ac)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hc)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Eo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Eo(27497)}(e,t.precondition)),n}function El(e,t){return{documents:[gl(e,t.path)]}}function _l(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gl(e,o);const i=function(e){if(0!==e.length)return Rl(ns.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Nl(e.field),direction:Al(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=il(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function Cl(e){let t=ml(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Co(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Sl(e);return t instanceof ns&&os(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ja(Ol(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,_i(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Ya(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Ya(n,t)}(n.endAt)),Cs(t,o,a,i,s,"F",c,l)}function Sl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ol(e.unaryFilter.field);return ts.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ol(e.unaryFilter.field);return ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ol(e.unaryFilter.field);return ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ol(e.unaryFilter.field);return ts.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Eo(61313);default:return Eo(60726)}}(e):void 0!==e.fieldFilter?function(e){return ts.create(Ol(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Eo(58110);default:return Eo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ns.create(e.compositeFilter.filters.map(e=>Sl(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Eo(1026)}}(e.compositeFilter.op))}(e):Eo(30097,{filter:e})}function Al(e){return tl[e]}function Il(e){return nl[e]}function Tl(e){return rl[e]}function Nl(e){return{fieldPath:e.canonicalString()}}function Ol(e){return Ko.fromServerFormat(e.fieldPath)}function Rl(e){return e instanceof ts?function(e){if("=="===e.op){if(Va(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NAN"}};if(Ua(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Va(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NAN"}};if(Ua(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(e.field),op:Il(e.op),value:e.value}}}(e):e instanceof ns?function(e){const t=e.getFilters().map(e=>Rl(e));return 1===t.length?t[0]:{compositeFilter:{op:Tl(e.op),filters:t}}}(e):Eo(54877,{filter:e})}function kl(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function xl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Dl{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:si.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:si.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ca.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Pl{constructor(e){this.yt=e}}function Ml(e){const t=Cl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ks(t,t.limit,"L"):t}class Ll{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ha(e.integerValue));else if("doubleValue"in e){const n=ha(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ci(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ua(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(da(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ga(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ha(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Eo(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const o=Ta,i=(null===(n=r[o].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ha(i)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Yo.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ll.Kt=new Ll;class Bl{constructor(){this.Cn=new Fl}addToCollectionParentIndex(e,t){return this.Cn.add(t),yi.resolve()}getCollectionParents(e,t){return yi.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return yi.resolve()}deleteFieldIndex(e,t){return yi.resolve()}deleteAllFieldIndexes(e){return yi.resolve()}createTargetIndexes(e,t){return yi.resolve()}getDocumentsMatchingTarget(e,t){return yi.resolve(null)}getIndexType(e,t){return yi.resolve(0)}getFieldIndexes(e,t){return yi.resolve([])}getNextCollectionGroupToUpdate(e){return yi.resolve(null)}getMinOffset(e,t){return yi.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return yi.resolve(di.min())}updateCollectionGroup(e,t,n){return yi.resolve()}updateIndexEntries(e,t){return yi.resolve()}}class Fl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new oa(qo.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new oa(qo.comparator)).toArray()}}new Uint8Array(0);const jl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ul=41943040;class Vl{static withCacheSize(e){return new Vl(e,Vl.DEFAULT_COLLECTION_PERCENTILE,Vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Vl.DEFAULT_COLLECTION_PERCENTILE=10,Vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vl.DEFAULT=new Vl(Ul,Vl.DEFAULT_COLLECTION_PERCENTILE,Vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vl.DISABLED=new Vl(-1,0,0);class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}const Hl="LruGarbageCollector",Wl=1048576;function Gl(e,t){let[n,r]=e,[o,i]=t;const a=Fo(n,o);return 0===a?Fo(r,i):a}class ql{constructor(e){this.Ir=e,this.buffer=new oa(Gl),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Gl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){yo(Hl,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wi(e)?yo(Hl,"Ignoring IndexedDB error during garbage collection: ",e):await mi(e)}await this.Vr(3e5)})}}class Kl{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return yi.resolve(bi.ce);const n=new ql(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yo("LruGarbageCollector","Garbage collection skipped; disabled"),yi.resolve(jl)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(yo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),jl):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,a,s,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(yo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),mo()<=In.DEBUG&&yo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-s)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),yi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function Yl(e,t){return new Kl(e,t)}class Ql{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ka.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?yi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ec(n.mutation,e,aa.empty(),ai.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Qs()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qs();const r=Gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Hs();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Gs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Qs()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=Vs();const i=Xs(),a=Xs();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ac)?o=o.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Ec(a.mutation,t,a.mutation.getFieldMask(),ai.now())):i.set(t.key,aa.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Zl(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Xs();let r=new ta((e,t)=>e-t),o=Qs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||aa.empty();a=o.applyToLocalView(i,a),n.set(e,a);const s=(r.get(o.batchId)||Qs()).add(e);r=r.insert(o.batchId,s)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,c=r.value,l=qs();c.forEach(e=>{if(!o.has(e)){const r=wc(t.get(e),n.get(e));null!==r&&l.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,s,l))}return yi.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Yo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Is(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):yi.resolve(Gs());let a=ci,s=o;return i.next(t=>yi.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),o.get(t)?yi.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,s,t,Qs())).next(e=>({batchId:a,changes:Ws(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yo(t)).next(e=>{let t=Hs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=Hs();return this.indexManager.getCollectionParents(e,o).next(a=>yi.forEach(a,a=>{const s=function(e,t){return new _s(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ka.newInvalidDocument(r)))});let n=Hs();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&Ec(i.mutation,r,aa.empty(),ai.now()),Ms(t,r)&&(n=n.insert(e,r))}),n})}}class $l{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return yi.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ll(e.createTime)}}(t)),yi.resolve()}getNamedQuery(e,t){return yi.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Ml(e.bundledQuery),readTime:ll(e.readTime)}}(t)),yi.resolve()}}class eu{constructor(){this.overlays=new ta(Yo.comparator),this.qr=new Map}getOverlay(e,t){return yi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gs();return yi.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),yi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),yi.resolve()}getOverlaysForCollection(e,t,n){const r=Gs(),o=t.length+1,i=new Yo(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return yi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new ta((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Gs(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Gs(),s=o.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return yi.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Dc(t,n));let o=this.qr.get(t);void 0===o&&(o=Qs(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class tu{constructor(){this.sessionToken=ca.EMPTY_BYTE_STRING}getSessionToken(e){return yi.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,yi.resolve()}}class nu{constructor(){this.Qr=new oa(ru.$r),this.Ur=new oa(ru.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ru(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ru(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Yo(new qo([])),n=new ru(t,e),r=new ru(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Yo(new qo([])),n=new ru(t,e),r=new ru(t,e+1);let o=Qs();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new ru(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ru{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Yo.comparator(e.key,t.key)||Fo(e.Yr,t.Yr)}static Kr(e,t){return Fo(e.Yr,t.Yr)||Yo.comparator(e.key,t.key)}}class ou{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new oa(ru.$r)}checkEmpty(e){return yi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new kc(o,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new ru(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return yi.resolve(i)}lookupMutationBatch(e,t){return yi.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return yi.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return yi.resolve(0===this.mutationQueue.length?Ei:this.tr-1)}getAllMutationBatches(e){return yi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ru(t,0),r=new ru(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),yi.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new oa(Fo);return t.forEach(e=>{const t=new ru(e,0),r=new ru(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),yi.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;Yo.isDocumentKey(o)||(o=o.child(""));const i=new ru(new Yo(o),0);let a=new oa(Fo);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),yi.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Co(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return yi.forEach(t.mutations,r=>{const o=new ru(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ru(t,0),r=this.Zr.firstAfterOrEqual(n);return yi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,yi.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iu{constructor(e){this.ri=e,this.docs=new ta(Yo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return yi.resolve(n?n.document.mutableCopy():Ka.newInvalidDocument(t))}getEntries(e,t){let n=Vs();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ka.newInvalidDocument(e))}),yi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Vs();const i=t.path,a=new Yo(i.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||fi(hi(a),n)<=0||(r.has(a.key)||Ms(t,a))&&(o=o.insert(a.key,a.mutableCopy()))}return yi.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Eo(9500)}ii(e,t){return yi.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new au(this)}getSize(e){return yi.resolve(this.size)}}class au extends Ql{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),yi.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class su{constructor(e){this.persistence=e,this.si=new js(e=>ws(e),bs),this.lastRemoteSnapshotVersion=si.min(),this.highestTargetId=0,this.oi=0,this._i=new nu,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),yi.resolve()}getLastRemoteSnapshotVersion(e){return yi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yi.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),yi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),yi.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,yi.resolve()}updateTargetData(e,t){return this.Pr(t),yi.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,yi.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),yi.waitFor(o).next(()=>r)}getTargetCount(e){return yi.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return yi.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),yi.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),yi.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),yi.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return yi.resolve(n)}containsKey(e,t){return yi.resolve(this._i.containsKey(t))}}class cu{constructor(e,t){this.ui={},this.overlays={},this.ci=new bi(0),this.li=!1,this.li=!0,this.hi=new tu,this.referenceDelegate=e(this),this.Pi=new su(this),this.indexManager=new Bl,this.remoteDocumentCache=function(e){return new iu(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Pl(t),this.Ii=new $l(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ou(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){yo("MemoryPersistence","Starting transaction:",e);const r=new lu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return yi.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class lu extends gi{constructor(e){super(),this.currentSequenceNumber=e}}class uu{constructor(e){this.persistence=e,this.Ri=new nu,this.Vi=null}static mi(e){return new uu(e)}get fi(){if(this.Vi)return this.Vi;throw Eo(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),yi.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),yi.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),yi.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yi.forEach(this.fi,n=>{const r=Yo.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,si.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return yi.or([()=>yi.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hu{constructor(e,t){this.persistence=e,this.pi=new js(e=>Ii(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Yl(this,t)}static mi(e,t){return new hu(e,t)}Ei(){}di(e){return yi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return yi.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?yi.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,si.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),yi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),yi.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),yi.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),yi.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=La(e.data.value)),t}br(e,t,n){return yi.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return yi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class du{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Qs(),r=Qs();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new du(e,t.fromCache,n,r)}}class fu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pu{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=an()?8:vi(nn())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new fu;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(mo()<=In.DEBUG&&yo("QueryEngine","SDK will not create cache indexes for query:",Ps(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yi.resolve()):(mo()<=In.DEBUG&&yo("QueryEngine","Query:",Ps(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(mo()<=In.DEBUG&&yo("QueryEngine","The SDK decides to create cache indexes for query:",Ps(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):yi.resolve())}ys(e,t){if(As(t))return yi.resolve(null);let n=Ns(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ks(t,null,"F"),n=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=Qs(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,ks(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return As(t)||r.isEqual(si.min())?yi.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?yi.resolve(null):(mo()<=In.DEBUG&&yo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ps(t)),this.vs(e,i,t,ui(r,ci)).next(e=>e))})}Ds(e,t){let n=new oa(Bs(e));return t.forEach((t,r)=>{Ms(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return mo()<=In.DEBUG&&yo("QueryEngine","Using full collection scan to execute query:",Ps(t)),this.ps.getDocumentsMatchingQuery(e,t,di.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const gu="LocalStore";class mu{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ta(Fo),this.xs=new js(e=>ws(e),bs),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jl(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function yu(e,t,n,r){return new mu(e,t,n,r)}async function vu(e,t){const n=So(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let a=Qs();for(const e of r){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function wu(e){const t=So(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function bu(e,t,n){let r=Qs(),o=Qs();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Vs();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(si.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):yo(gu,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:o}})}function Eu(e,t){const n=So(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ei),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function _u(e,t){const n=So(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,yi.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new Dl(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Cu(e,t,n){const r=So(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!wi(e))throw e;yo(gu,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Su(e,t,n){const r=So(e);let o=si.min(),i=Qs();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=So(e),o=r.xs.get(n);return void 0!==o?yi.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,Ns(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:si.min(),n?i:Qs())).next(e=>(Au(r,Ls(t),e),{documents:e,Qs:i})))}function Au(e,t,n){let r=e.Os.get(t)||si.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Iu{constructor(){this.activeTargetIds=Js()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tu{constructor(){this.Mo=new Iu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Iu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nu{Oo(e){}shutdown(){}}const Ou="ConnectivityMonitor";class Ru{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yo(Ou,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){yo(Ou,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ku=null;function xu(){return null===ku?ku=268435456+Math.round(2147483648*Math.random()):ku++,"0x"+ku.toString(16)}const Du="RestConnection",Pu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Ea?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,o){const i=xu(),a=this.zo(e,t.toUriEncodedString());yo(Du,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,o);const{host:c}=new URL(a),l=Qt(c);return this.Jo(e,a,s,n,l).then(t=>(yo(Du,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw wo(Du,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+po,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Pu[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Lu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Bu="WebChannelConnection";class Fu extends Mu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=xu();return new Promise((o,a)=>{const s=new eo;s.setWithCredentials(!0),s.listenOnce(no.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case ro.NO_ERROR:const n=s.getResponseJson();yo(Bu,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),o(n);break;case ro.TIMEOUT:yo(Bu,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Io(Ao.DEADLINE_EXCEEDED,"Request time out"));break;case ro.HTTP_ERROR:const r=s.getStatus();if(yo(Bu,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ao).indexOf(t)>=0?t:Ao.UNKNOWN}(n.status);a(new Io(e,n.message))}else a(new Io(Ao.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Io(Ao.UNAVAILABLE,"Connection failed."));break;default:Eo(9055,{l_:e,streamId:i,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{yo(Bu,"RPC '".concat(e,"' ").concat(i," completed."))}});const c=JSON.stringify(r);yo(Bu,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",c,n,15)})}T_(e,t,n){const r=xu(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=so(),a=ao(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=o.join("");yo(Bu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);const u=i.createWebChannel(l,s);this.I_(u);let h=!1,d=!1;const f=new Lu({Yo:t=>{d?yo(Bu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(yo(Bu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),yo(Bu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,to.EventType.OPEN,()=>{d||(yo(Bu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,to.EventType.CLOSE,()=>{d||(d=!0,yo(Bu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,to.EventType.ERROR,t=>{d||(d=!0,wo(Bu,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Io(Ao.UNAVAILABLE,"The operation could not be completed")))}),p(u,to.EventType.MESSAGE,t=>{if(!d){var n;const o=t.data[0];Co(!!o,16349);const i=o,a=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){yo(Bu,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Mc[e];if(void 0!==t)return Fc(t)}(t),o=a.message;void 0===n&&(n=Ao.INTERNAL,o="Unknown error status: "+t+" with message "+a.message),d=!0,f.a_(new Io(n,o)),u.close()}else yo(Bu,"RPC '".concat(e,"' stream ").concat(r," received:"),o),f.u_(o)}}),p(a,io.STAT_EVENT,t=>{t.stat===oo.PROXY?yo(Bu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===oo.NOPROXY&&yo(Bu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ju(){return"undefined"!=typeof document?document:null}function Uu(e){return new ol(e,!0)}class Vu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&yo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zu="PersistentStream";class Hu{constructor(e,t,n,r,o,i,a,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vu(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ao.RESOURCE_EXHAUSTED?(vo(t.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ao.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Io(Ao.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return yo(zu,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(yo(zu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wu extends Hu{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Eo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Co(void 0===t||"string"==typeof t,58123),ca.fromBase64String(t||"")):(Co(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ca.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ao.UNKNOWN:Fc(e.code);return new Io(t,e.message||"")}(a);n=new Qc(r,o,i,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=pl(e,r.document.name),i=ll(r.document.updateTime),a=r.document.createTime?ll(r.document.createTime):si.min(),s=new qa({mapValue:{fields:r.document.fields}}),c=Ka.newFoundDocument(o,i,a,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Kc(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=pl(e,r.document),i=r.readTime?ll(r.readTime):si.min(),a=Ka.newNoDocument(o,i),s=r.removedTargetIds||[];n=new Kc([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=pl(e,r.document),i=r.removedTargetIds||[];n=new Kc([],i,o,null)}else{if(!("filter"in t))return Eo(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Pc(r,o),a=e.targetId;n=new Yc(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return si.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?si.min():t.readTime?ll(t.readTime):si.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=yl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Es(r)?{documents:El(e,r)}:{query:_l(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=sl(e,t.resumeToken);const r=il(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(si.min())>0){n.readTime=al(e,t.snapshotVersion.toTimestamp());const r=il(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Eo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=yl(this.serializer),t.removeTarget=e,this.q_(t)}}class Gu extends Hu{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Co(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Co(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Co(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Co(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ll(e.updateTime):ll(t);return n.isEqual(si.min())&&(n=ll(t)),new gc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ll(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=yl(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bl(this.serializer,e))};this.q_(t)}}class qu{}class Xu extends qu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Io(Ao.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,a]=o;return this.connection.Go(e,hl(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ao.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Io(Ao.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Ho(e,hl(t,n),r,a,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ao.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Io(Ao.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ku{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(vo(t),this.aa=!1):yo("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Yu="RemoteStore";class Qu{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ih(this)&&(yo(Yu,"Restarting streams for network reachability change."),await async function(e){const t=So(e);t.Ea.add(4),await Ju(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Zu(t)}(this))})}),this.Ra=new Ku(n,r)}}async function Zu(e){if(ih(e))for(const t of e.da)await t(!0)}async function Ju(e){for(const t of e.da)await t(!1)}function $u(e,t){const n=So(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),oh(n)?rh(n):Sh(n).O_()&&th(n,t))}function eh(e,t){const n=So(e),r=Sh(n);n.Ia.delete(t),r.O_()&&nh(n,t),0===n.Ia.size&&(r.O_()?r.L_():ih(n)&&n.Ra.set("Unknown"))}function th(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(si.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sh(e).Y_(t)}function nh(e,t){e.Va.Ue(t),Sh(e).Z_(t)}function rh(e){e.Va=new Jc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Sh(e).start(),e.Ra.ua()}function oh(e){return ih(e)&&!Sh(e).x_()&&e.Ia.size>0}function ih(e){return 0===So(e).Ea.size}function ah(e){e.Va=void 0}async function sh(e){e.Ra.set("Online")}async function ch(e){e.Ia.forEach((t,n)=>{th(e,t)})}async function lh(e,t){ah(e),oh(e)?(e.Ra.ha(t),rh(e)):e.Ra.set("Unknown")}async function uh(e,t,n){if(e.Ra.set("Online"),t instanceof Qc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){yo(Yu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hh(e,n)}else if(t instanceof Kc?e.Va.Ze(t):t instanceof Yc?e.Va.st(t):e.Va.tt(t),!n.isEqual(si.min()))try{const t=await wu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(ca.EMPTY_BYTE_STRING,r.snapshotVersion)),nh(e,t);const o=new Dl(r.target,t,n,r.sequenceNumber);th(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){yo(Yu,"Failed to raise snapshot:",t),await hh(e,t)}}async function hh(e,t,n){if(!wi(t))throw t;e.Ea.add(1),await Ju(e),e.Ra.set("Offline"),n||(n=()=>wu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yo(Yu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Zu(e)})}function dh(e,t){return t().catch(n=>hh(e,n,t))}async function fh(e){const t=So(e),n=Ah(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ei;for(;ph(t);)try{const e=await Eu(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,gh(t,e)}catch(e){await hh(t,e)}mh(t)&&yh(t)}function ph(e){return ih(e)&&e.Ta.length<10}function gh(e,t){e.Ta.push(t);const n=Ah(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mh(e){return ih(e)&&!Ah(e).x_()&&e.Ta.length>0}function yh(e){Ah(e).start()}async function vh(e){Ah(e).ra()}async function wh(e){const t=Ah(e);for(const n of e.Ta)t.ea(n.mutations)}async function bh(e,t,n){const r=e.Ta.shift(),o=xc.from(r,t,n);await dh(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await fh(e)}async function Eh(e,t){t&&Ah(e).X_&&await async function(e,t){if(function(e){return Bc(e)&&e!==Ao.ABORTED}(t.code)){const n=e.Ta.shift();Ah(e).B_(),await dh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await fh(e)}}(e,t),mh(e)&&yh(e)}async function _h(e,t){const n=So(e);n.asyncQueue.verifyOperationInProgress(),yo(Yu,"RemoteStore received new credentials");const r=ih(n);n.Ea.add(3),await Ju(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zu(n)}async function Ch(e,t){const n=So(e);t?(n.Ea.delete(2),await Zu(n)):t||(n.Ea.add(2),await Ju(n),n.Ra.set("Unknown"))}function Sh(e){return e.ma||(e.ma=function(e,t,n){const r=So(e);return r.sa(),new Wu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:sh.bind(null,e),t_:ch.bind(null,e),r_:lh.bind(null,e),H_:uh.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),oh(e)?rh(e):e.Ra.set("Unknown")):(await e.ma.stop(),ah(e))})),e.ma}function Ah(e){return e.fa||(e.fa=function(e,t,n){const r=So(e);return r.sa(),new Gu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:vh.bind(null,e),r_:Eh.bind(null,e),ta:wh.bind(null,e),na:bh.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await fh(e)):(await e.fa.stop(),e.Ta.length>0&&(yo(Yu,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Ih{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,a=new Ih(e,t,i,r,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Io(Ao.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Th(e,t){if(vo("AsyncQueue","".concat(t,": ").concat(e)),wi(e))return new Io(Ao.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Nh{static emptySet(e){return new Nh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Yo.comparator(t.key,n.key):(e,t)=>Yo.comparator(e.key,t.key),this.keyedMap=Hs(),this.sortedSet=new ta(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Oh{constructor(){this.ga=new ta(Yo.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Eo(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Rh{constructor(e,t,n,r,o,i,a,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Rh(e,t,Nh.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kh{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xh{constructor(){this.queries=Dh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=So(e),r=n.queries;n.queries=Dh(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Io(Ao.ABORTED,"Firestore shutting down"))}}function Dh(){return new js(e=>Ds(e),xs)}async function Ph(e,t){const n=So(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new kh,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Th(e,"Initialization of query '".concat(Ps(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Fh(n)}async function Mh(e,t){const n=So(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lh(e,t){const n=So(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&Fh(n)}function Bh(e,t,n){const r=So(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function Fh(e){e.Ca.forEach(e=>{e.next()})}var jh,Uh;(Uh=jh||(jh={})).Ma="default",Uh.Cache="cache";class Vh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jh.Cache}}class zh{constructor(e){this.key=e}}class Hh{constructor(e){this.key=e}}class Wh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qs(),this.mutatedKeys=Qs(),this.eu=Bs(e),this.tu=new Nh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Oh,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=Ms(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(l,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(a=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(s||c)&&(a=!0)),f&&(u?(i=i.add(u),o=d?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Eo(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,0!==i.length||c?{snapshot:new Rh(this.query,e.tu,o,i,e.mutatedKeys,0===s,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Oh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qs(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Hh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new zh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Qs();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Rh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Gh="SyncEngine";class qh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xh{constructor(e){this.key=e,this.hu=!1}}class Kh{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new js(e=>Ds(e),xs),this.Iu=new Map,this.Eu=new Set,this.du=new ta(Yo.comparator),this.Au=new Map,this.Ru=new nu,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Yh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=md(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await Zh(r,t,n,!0),o}async function Qh(e,t){const n=md(e);await Zh(n,t,!0,!1)}async function Zh(e,t,n,r){const o=await _u(e.localStore,Ns(t)),i=o.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let s;return r&&(s=await Jh(e,t,i,"current"===a,o.resumeToken)),e.isPrimaryClient&&n&&$u(e.remoteStore,o),s}async function Jh(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await Su(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,i,a);return ud(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const i=await Su(e.localStore,t,!0),a=new Wh(t,i.Qs),s=a.ru(i.documents),c=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),l=a.applyChanges(s,e.isPrimaryClient,c);ud(e,n,l.au);const u=new qh(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function $h(e,t,n){const r=So(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!xs(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cu(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&eh(r.remoteStore,o.targetId),cd(r,o.targetId)}).catch(mi)):(cd(r,o.targetId),await Cu(r.localStore,o.targetId,!0))}async function ed(e,t){const n=So(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eh(n.remoteStore,r.targetId))}async function td(e,t){const n=So(e);try{const e=await function(e,t){const n=So(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const a=[];t.targetChanges.forEach((i,s)=>{const c=o.get(s);if(!c)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,s)));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(ca.EMPTY_BYTE_STRING,si.min()).withLastLimboFreeSnapshotVersion(si.min()):i.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(i.resumeToken,r)),o=o.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,i)&&a.push(n.Pi.updateTargetData(e,l))});let s=Vs(),c=Qs();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(bu(e,i,t.documentUpdates).next(e=>{s=e.ks,c=e.qs})),!r.isEqual(si.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return yi.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,c)).next(()=>s)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Co(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Co(r.hu,14607):e.removedDocuments.size>0&&(Co(r.hu,42227),r.hu=!1))}),await fd(n,e,t)}catch(e){await mi(e)}}function nd(e,t,n){const r=So(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=So(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&Fh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rd(e,t,n){const r=So(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new ta(Yo.comparator);e=e.insert(i,Ka.newNoDocument(i,si.min()));const n=Qs().add(i),o=new qc(si.min(),new Map,new ta(Fo),e,n);await td(r,o),r.du=r.du.remove(i),r.Au.delete(t),dd(r)}else await Cu(r.localStore,t,!1).then(()=>cd(r,t,n)).catch(mi)}async function od(e,t){const n=So(e),r=t.batch.batchId;try{const e=await function(e,t){const n=So(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let a=yi.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Co(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);sd(n,r,null),ad(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fd(n,e)}catch(e){await mi(e)}}async function id(e,t,n){const r=So(e);try{const e=await function(e,t){const n=So(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Co(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);sd(r,t,n),ad(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await fd(r,e)}catch(n){await mi(n)}}function ad(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function sd(e,t,n){const r=So(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function cd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ld(e,t)})}function ld(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(eh(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),dd(e))}function ud(e,t,n){for(const r of n)r instanceof zh?(e.Ru.addReference(r.key,t),hd(e,r)):r instanceof Hh?(yo(Gh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ld(e,r.key)):Eo(19791,{wu:r})}function hd(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(yo(Gh,"New document in limbo: "+n),e.Eu.add(r),dd(e))}function dd(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Yo(qo.fromString(t)),r=e.fu.next();e.Au.set(r,new Xh(n)),e.du=e.du.insert(n,r),$u(e.remoteStore,new Dl(Ns(Ss(n.path)),r,"TargetPurposeLimboResolution",bi.ce))}}async function fd(e,t,n){const r=So(e),o=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{a.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const o=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,o?"current":"not-current")}if(e){o.push(e);const t=du.As(s.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(o),await async function(e,t){const n=So(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>yi.forEach(t,t=>yi.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>yi.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!wi(e))throw e;yo(gu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function pd(e,t){const n=So(e);if(!n.currentUser.isEqual(t)){yo(Gh,"User change. New user:",t.toKey());const e=await vu(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Io(Ao.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await fd(n,e.Ls)}}function gd(e,t){const n=So(e),r=n.Au.get(t);if(r&&r.hu)return Qs().add(r.key);{let e=Qs();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function md(e){const t=So(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=td.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rd.bind(null,t),t.Pu.H_=Lh.bind(null,t.eventManager),t.Pu.yu=Bh.bind(null,t.eventManager),t}function yd(e){const t=So(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=od.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=id.bind(null,t),t}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yu(this.persistence,new pu,e.initialUser,this.serializer)}Cu(e){return new cu(uu.mi,this.serializer)}Du(e){return new Tu}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class wd extends vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Co(this.persistence.referenceDelegate instanceof hu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Xl(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Vl.withCacheSize(this.cacheSizeBytes):Vl.DEFAULT;return new cu(e=>hu.mi(e,t),this.serializer)}}class bd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>nd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pd.bind(null,this.syncEngine),await Ch(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xh}createDatastore(e){const t=Uu(e.databaseInfo.databaseId),n=function(e){return new Fu(e)}(e.databaseInfo);return function(e,t,n,r){return new Xu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Qu(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>nd(this.syncEngine,e,0),Ru.v()?new Ru:new Nu)}createSyncEngine(e,t){return function(e,t,n,r,o,i,a){const s=new Kh(e,t,n,r,o,i);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=So(e);yo(Yu,"RemoteStore shutting down."),t.Ea.add(5),await Ju(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}bd.provider={build:()=>new bd};class Ed{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const _d="FirestoreClient";class Cd{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fo.UNAUTHENTICATED,this.clientId=Bo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{yo(_d,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(yo(_d,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Th(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sd(e,t){e.asyncQueue.verifyOperationInProgress(),yo(_d,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await vu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ad(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Id(e);yo(_d,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>_h(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>_h(t.remoteStore,n)),e._onlineComponents=t}async function Id(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yo(_d,"Using user provided OfflineComponentProvider");try{await Sd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ao.FAILED_PRECONDITION||e.code===Ao.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Sd(e,new vd)}}else yo(_d,"Using default OfflineComponentProvider"),await Sd(e,new wd(void 0));return e._offlineComponents}async function Td(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yo(_d,"Using user provided OnlineComponentProvider"),await Ad(e,e._uninitializedComponentsProvider._online)):(yo(_d,"Using default OnlineComponentProvider"),await Ad(e,new bd))),e._onlineComponents}function Nd(e){return Td(e).then(e=>e.syncEngine)}async function Od(e){const t=await Td(e),n=t.eventManager;return n.onListen=Yh.bind(null,t.syncEngine),n.onUnlisten=$h.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Qh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ed.bind(null,t.syncEngine),n}function Rd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new To;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new Ed({next:s=>{i.Nu(),t.enqueueAndForget(()=>Mh(e,a));const c=s.docs.has(n);!c&&s.fromCache?o.reject(new Io(Ao.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&s.fromCache&&r&&"server"===r.source?o.reject(new Io(Ao.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:e=>o.reject(e)}),a=new Vh(Ss(n.path),i,{includeMetadataChanges:!0,qa:!0});return Ph(e,a)}(await Od(e),e.asyncQueue,t,n,r)),r.promise}function kd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new To;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new Ed({next:n=>{i.Nu(),t.enqueueAndForget(()=>Mh(e,a)),n.fromCache&&"server"===r.source?o.reject(new Io(Ao.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),a=new Vh(n,i,{includeMetadataChanges:!0,qa:!0});return Ph(e,a)}(await Od(e),e.asyncQueue,t,n,r)),r.promise}function xd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Dd=new Map,Pd="firestore.googleapis.com",Md=!0;class Ld{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Io(Ao.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pd,this.ssl=Md}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Md;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ul;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Wl)throw new Io(Ao.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Io(Ao.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Io(Ao.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Io(Ao.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Io(Ao.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ld({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Io(Ao.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Io(Ao.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ld(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Oo;switch(e.type){case"firstParty":return new Do(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Io(Ao.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Dd.get(e);t&&(yo("ComponentProvider","Removing Datastore"),Dd.delete(e),t.terminate())}(this),Promise.resolve()}}class Fd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Fd(this.firestore,e,this._query)}}class jd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ud(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jd(this.firestore,e,this._key)}toJSON(){return{type:jd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ri(t,jd._jsonSchema))return new jd(e,n||null,new Yo(qo.fromString(t.referencePath)))}}jd._jsonSchemaVersion="firestore/documentReference/1.0",jd._jsonSchema={type:ni("string",jd._jsonSchemaVersion),referencePath:ni("string")};class Ud extends Fd{constructor(e,t,n){super(e,t,Ss(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jd(this.firestore,null,new Yo(e))}withConverter(e){return new Ud(this.firestore,e,this._path)}}function Vd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=bn(e),Qo("collection","path",t),e instanceof Bd){const n=qo.fromString(t,...r);return Jo(n),new Ud(e,null,n)}{if(!(e instanceof jd||e instanceof Ud))throw new Io(Ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qo.fromString(t,...r));return Jo(n),new Ud(e.firestore,null,n)}}function zd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=bn(e),1===arguments.length&&(t=Bo.newId()),Qo("doc","path",t),e instanceof Bd){const n=qo.fromString(t,...r);return Zo(n),new jd(e,null,new Yo(n))}{if(!(e instanceof jd||e instanceof Ud))throw new Io(Ao.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qo.fromString(t,...r));return Zo(n),new jd(e.firestore,e instanceof Ud?e.converter:null,new Yo(n))}}const Hd="AsyncQueue";class Wd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vu(this,"async_queue_retry"),this._c=()=>{const e=ju();e&&yo(Hd,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ju();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ju();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new To;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(PP){if(!wi(PP))throw PP;yo(Hd,"Operation failed with retryable error: "+PP)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,vo("INTERNAL UNHANDLED ERROR: ",Gd(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ih.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Eo(47125,{Pc:Gd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class qd extends Bd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wd,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wd(e),this._firestoreClient=void 0,await e}}}function Xd(e){if(e._terminated)throw new Io(Ao.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Kd(e),e._firestoreClient}function Kd(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new ba(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xd(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||null!==(n=o.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Cd(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Yd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yd(ca.fromBase64String(e))}catch(e){throw new Io(Ao.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yd(ca.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ri(e,Yd._jsonSchema))return Yd.fromBase64String(e.bytes)}}Yd._jsonSchemaVersion="firestore/bytes/1.0",Yd._jsonSchema={type:ni("string",Yd._jsonSchemaVersion),bytes:ni("string")};class Qd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Io(Ao.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ko(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zd{constructor(e){this._methodName=e}}class Jd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Io(Ao.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Io(Ao.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fo(this._lat,e._lat)||Fo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jd._jsonSchemaVersion}}static fromJSON(e){if(ri(e,Jd._jsonSchema))return new Jd(e.latitude,e.longitude)}}Jd._jsonSchemaVersion="firestore/geoPoint/1.0",Jd._jsonSchema={type:ni("string",Jd._jsonSchemaVersion),latitude:ni("number"),longitude:ni("number")};class $d{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$d._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ri(e,$d._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new $d(e.vectorValues);throw new Io(Ao.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$d._jsonSchemaVersion="firestore/vectorValue/1.0",$d._jsonSchema={type:ni("string",$d._jsonSchemaVersion),vectorValues:ni("object")};const ef=/^__.*__$/;class tf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class nf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Eo(40011,{Ac:e})}}class of{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new of(u(u({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(rf(this.Ac)&&ef.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class af{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uu(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new of({Ac:e,methodName:t,Dc:n,path:Ko.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(e){const t=e._freezeSettings(),n=Uu(e._databaseId);return new af(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cf(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);yf("Data must be an object, but it was:",a,r);const s=gf(r,a);let c,l;if(i.merge)c=new aa(a.fieldMask),l=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=vf(t,r,n);if(!a.contains(o))throw new Io(Ao.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));_f(e,o)||e.push(o)}c=new aa(e),l=a.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=a.fieldTransforms;return new tf(new qa(s),c,l)}class lf extends Zd{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}class uf extends Zd{_toFieldTransform(e){return new pc(e.path,new ac)}isEqual(e){return e instanceof uf}}function hf(e,t,n,r){const o=e.Cc(1,t,n);yf("Data must be an object, but it was:",o,r);const i=[],a=qa.empty();$i(r,(e,r)=>{const s=bf(t,e,n);r=bn(r);const c=o.yc(s);if(r instanceof lf)i.push(s);else{const e=pf(r,c);null!=e&&(i.push(s),a.set(s,e))}});const s=new aa(i);return new nf(a,s,o.fieldTransforms)}function df(e,t,n,r,o,i){const a=e.Cc(1,t,n),s=[vf(t,r,n)],c=[o];if(i.length%2!=0)throw new Io(Ao.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)s.push(vf(t,i[d])),c.push(i[d+1]);const l=[],u=qa.empty();for(let d=s.length-1;d>=0;--d)if(!_f(l,s[d])){const e=s[d];let t=c[d];t=bn(t);const n=a.yc(e);if(t instanceof lf)l.push(e);else{const r=pf(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new aa(l);return new nf(u,h,a.fieldTransforms)}function ff(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pf(n,e.Cc(r?4:3,t))}function pf(e,t){if(mf(e=bn(e)))return yf("Unsupported field value:",t,e),gf(e,t);if(e instanceof Zd)return function(e,t){if(!rf(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=pf(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ai.fromDate(e);return{timestampValue:al(t.serializer,n)}}if(e instanceof ai){const n=new ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:al(t.serializer,n)}}if(e instanceof Jd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yd)return{bytesValue:sl(t.serializer,e._byteString)};if(e instanceof jd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ul(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof $d)return function(e,t){return{mapValue:{fields:{[Ca]:{stringValue:Ia},[Ta]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return $s(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ei(e)))}(e,t)}function gf(e,t){const n={};return ea(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$i(e,(e,r)=>{const o=pf(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function mf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ai||e instanceof Jd||e instanceof Yd||e instanceof jd||e instanceof Zd||e instanceof $d)}function yf(e,t,n){if(!mf(n)||!$o(n)){const r=ei(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function vf(e,t,n){if((t=bn(t))instanceof Qd)return t._internalPath;if("string"==typeof t)return bf(e,t);throw Ef("Field path arguments must be of type string or ",e,!1,void 0,n)}const wf=new RegExp("[~\\*/\\[\\]]");function bf(e,t,n){if(t.search(wf)>=0)throw Ef("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qd(...t.split("."))._internalPath}catch(r){throw Ef("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ef(e,t,n,r,o){const i=r&&!r.isEmpty(),a=void 0!==o;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=" in field ".concat(r)),a&&(c+=" in document ".concat(o)),c+=")"),new Io(Ao.INVALID_ARGUMENT,s+e+c)}function _f(e,t){return e.some(e=>e.isEqual(t))}class Cf{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sf extends Cf{data(){return super.data()}}function Af(e,t){return"string"==typeof t?bf(e,t):t instanceof Qd?t._internalPath:t._delegate._internalPath}function If(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Io(Ao.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tf{}class Nf extends Tf{}function Of(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Tf&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof xf).length,n=e.filter(e=>e instanceof Rf).length;if(t>1||t>0&&n>0)throw new Io(Ao.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Rf extends Nf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Rf(e,t,n)}_apply(e){const t=this._parse(e);return Lf(e._query,t),new Fd(e.firestore,e.converter,Rs(e._query,t))}_parse(e){const t=sf(e.firestore),n=function(e,t,n,r,o,i,a){let s;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Io(Ao.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Mf(a,i);const t=[];for(const n of a)t.push(Pf(r,e,n));s={arrayValue:{values:t}}}else s=Pf(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Mf(a,i),s=ff(n,t,a,"in"===i||"not-in"===i);return ts.create(o,i,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function kf(e,t,n){const r=t,o=Af("where",e);return Rf._create(o,r,n)}class xf extends Tf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xf(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ns.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)Lf(n,o),n=Rs(n,o)}(e._query,t),new Fd(e.firestore,e.converter,Rs(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Df extends Nf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Df(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Io(Ao.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Io(Ao.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ja(t,n)}(e._query,this._field,this._direction);return new Fd(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _s(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Pf(e,t,n){if("string"==typeof(n=bn(n))){if(""===n)throw new Io(Ao.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Is(t)&&-1!==n.indexOf("/"))throw new Io(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(qo.fromString(n));if(!Yo.isDocumentKey(r))throw new Io(Ao.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ba(e,new Yo(r))}if(n instanceof jd)return Ba(e,n._key);throw new Io(Ao.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ei(n),"."))}function Mf(e,t){if(!Array.isArray(e)||0===e.length)throw new Io(Ao.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Lf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Io(Ao.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Io(Ao.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Bf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Eo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return $i(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ta].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ha(e.doubleValue));return new $d(n)}convertGeoPoint(e){return new Jd(ha(e.latitude),ha(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=va(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){const t=ua(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qo.fromString(e);Co(xl(n),9688,{name:e});const r=new _a(n.get(1),n.get(3)),o=new Yo(n.popFirst(5));return r.isEqual(t)||vo("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function Ff(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uf extends Cf{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Io(Ao.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Uf._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Uf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uf._jsonSchema={type:ni("string",Uf._jsonSchemaVersion),bundleSource:ni("string","DocumentSnapshot"),bundleName:ni("string"),bundle:ni("string")};class Vf extends Uf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class zf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Vf(this._firestore,this._userDataWriter,n.key,n,new jf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Io(Ao.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Vf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new jf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Vf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Hf(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Io(Ao.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Eo(61501,{type:e})}}function Wf(e){e=ti(e,jd);const t=ti(e.firestore,qd);return Rd(Xd(t),e._key).then(n=>Zf(t,e,n))}zf._jsonSchemaVersion="firestore/querySnapshot/1.0",zf._jsonSchema={type:ni("string",zf._jsonSchemaVersion),bundleSource:ni("string","QuerySnapshot"),bundleName:ni("string"),bundle:ni("string")};class Gf extends Bf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jd(this.firestore,null,t)}}function qf(e){e=ti(e,Fd);const t=ti(e.firestore,qd),n=Xd(t),r=new Gf(t);return If(e._query),kd(n,e._query).then(n=>new zf(t,r,e,n))}function Xf(e,t,n){e=ti(e,jd);const r=ti(e.firestore,qd),o=sf(r);let i;for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return i="string"==typeof(t=bn(t))||t instanceof Qd?df(o,"updateDoc",e._key,t,n,s):hf(o,"updateDoc",e._key,t),Qf(r,[i.toMutation(e._key,mc.exists(!0))])}function Kf(e){return Qf(ti(e.firestore,qd),[new Oc(e._key,mc.none())])}function Yf(e,t){const n=ti(e.firestore,qd),r=zd(e),o=Ff(e.converter,t);return Qf(n,[cf(sf(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,mc.exists(!1))]).then(()=>r)}function Qf(e,t){return function(e,t){const n=new To;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=yd(e);try{const e=await function(e,t){const n=So(e),r=ai.now(),o=t.reduce((e,t)=>e.add(t.key),Qs());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Vs(),c=Qs();return n.Ns.getEntries(e,o).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(c=c.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(o=>{i=o;const a=[];for(const e of t){const t=_c(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Ac(e.key,t,Xa(t.value.mapValue),mc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ws(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ta(Fo)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await fd(r,e.changes),await fh(r.remoteStore)}catch(e){const t=Th(e,"Failed to persist write");n.reject(t)}}(await Nd(e),t,n)),n.promise}(Xd(e),t)}function Zf(e,t,n){const r=n.docs.get(t._key),o=new Gf(e);return new Uf(e,o,t._key,r,new jf(n.hasPendingWrites,n.fromCache),t.converter)}function Jf(){return new uf("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){po=e}(Lr),kr(new En("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),a=new qd(new ko(e.getProvider("auth-internal")),new Mo(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Io(Ao.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(e.options.projectId,t)}(i,r),i);return o=u({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),jr(uo,ho,e),jr(uo,ho,"esm2020")}();var $f=n(139),ep=n.n($f);const tp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},np=e.createContext(null);function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(null,arguments)}n(740);function op(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ip(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ap(t,n){return Object.keys(n).reduce(function(r,i){var a,s=r,c=s[op(i)],l=s[i],u=o(s,[op(i),i].map(ip)),h=n[i],d=function(t,n,r){var o=(0,e.useRef)(void 0!==t),i=(0,e.useState)(n),a=i[0],s=i[1],c=void 0!==t,l=o.current;return o.current=c,!c&&l&&a!==n&&s(n),[c?t:a,(0,e.useCallback)(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r&&r.apply(void 0,[e].concat(n)),s(e)},[r])]}(l,c,t[h]),f=d[0],p=d[1];return rp({},u,((a={})[i]=f,a[h]=p,a))},t)}function sp(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function cp(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function lp(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}sp.__suppressDeprecationWarning=!0,cp.__suppressDeprecationWarning=!0,lp.__suppressDeprecationWarning=!0;const up=["xxl","xl","lg","md","sm","xs"],hp="xs",dp=e.createContext({prefixes:{},breakpoints:up,minBreakpoint:hp}),{Consumer:fp,Provider:pp}=dp;function gp(t,n){const{prefixes:r}=(0,e.useContext)(dp);return t||r[n]||n}const mp=["bsPrefix","className","as"],yp=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:o}=e,a=i(e,mp);n=gp(n,"navbar-brand");const s=o||(a.href?"a":"span");return(0,Lt.jsx)(s,u(u({},a),{},{ref:t,className:ep()(r,n)}))});yp.displayName="NavbarBrand";const vp=yp;function wp(e){return e&&e.ownerDocument||document}function bp(e,t){return function(e){var t=wp(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ep=/([A-Z])/g;var _p=/^ms-/;function Cp(e){return function(e){return e.replace(Ep,"-$1").toLowerCase()}(e).replace(_p,"-ms-")}var Sp=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ap=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Cp(t))||bp(e).getPropertyValue(Cp(t));Object.keys(t).forEach(function(o){var i=t[o];i||0===i?!function(e){return!(!e||!Sp.test(e))}(o)?n+=Cp(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(Cp(o))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Ip(e,t){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ip(e,t)}var Tp=n(950);const Np=!1,Op=e.createContext(null);var Rp="unmounted",kp="exited",xp="entering",Dp="entered",Pp="exiting",Mp=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var o,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(o=kp,r.appearStatus=xp):o=Dp:o=e.unmountOnExit||e.mountOnEnter?Rp:kp,r.state={status:o},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ip(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Rp?{status:kp}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==xp&&n!==Dp&&(t=xp):n!==xp&&n!==Dp||(t=Pp)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===xp){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Tp.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kp&&this.setState({status:Rp})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Tp.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||Np?this.safeSetState({status:Dp},function(){t.props.onEntered(i)}):(this.props.onEnter(i,a),this.safeSetState({status:xp},function(){t.props.onEntering(i,a),t.onTransitionEnd(c,function(){t.safeSetState({status:Dp},function(){t.props.onEntered(i,a)})})}))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Tp.findDOMNode(this);t&&!Np?(this.props.onExit(r),this.safeSetState({status:Pp},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:kp},function(){e.props.onExited(r)})})})):this.safeSetState({status:kp},function(){e.props.onExited(r)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Tp.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===Rp)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,o(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Op.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function Lp(){}Mp.contextType=Op,Mp.propTypes={},Mp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Lp,onEntering:Lp,onEntered:Lp,onExit:Lp,onExiting:Lp,onExited:Lp},Mp.UNMOUNTED=Rp,Mp.EXITED=kp,Mp.ENTERING=xp,Mp.ENTERED=Dp,Mp.EXITING=Pp;const Bp=Mp;function Fp(t){if(!t||"function"===typeof t)return null;const{major:n}=function(){const t=e.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}();return n>=19?t.props.ref:t.ref}const jp=!("undefined"===typeof window||!window.document||!window.document.createElement);var Up=!1,Vp=!1;try{var zp={get passive(){return Up=!0},get once(){return Vp=Up=!0}};jp&&(window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,!0))}catch(PP){}const Hp=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Vp){var o=r.once,i=r.capture,a=n;!Vp&&o&&(a=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=a),e.addEventListener(t,a,Up?r:i)}e.addEventListener(t,n,r)};const Wp=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};const Gp=function(e,t,n,r){return Hp(e,t,n,r),function(){Wp(e,t,n,r)}};function qp(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)},t+n),i=Gp(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),i()}}function Xp(e,t,n,r){null==n&&(n=function(e){var t=Ap(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=qp(e,n,r),i=Gp(e,"transitionend",t);return function(){o(),i()}}function Kp(e,t){const n=Ap(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Yp(e,t){const n=Kp(e,"transitionDuration"),r=Kp(e,"transitionDelay"),o=Xp(e,n=>{n.target===e&&(o(),t(n))},n+r)}const Qp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>null!=e).reduce((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}},null)};function Zp(e){e.offsetHeight}const Jp=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const $p=function(t,n){return(0,e.useMemo)(()=>function(e,t){const n=Jp(e),r=Jp(t);return e=>{n&&n(e),r&&r(e)}}(t,n),[t,n])};const eg=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],tg=e.forwardRef((t,n)=>{let{onEnter:r,onEntering:o,onEntered:a,onExit:s,onExiting:c,onExited:l,addEndListener:h,children:d,childRef:f}=t,p=i(t,eg);const g=(0,e.useRef)(null),m=$p(g,f),y=e=>{var t;m((t=e)&&"setState"in t?Tp.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&g.current&&e(g.current,t)},w=(0,e.useCallback)(v(r),[r]),b=(0,e.useCallback)(v(o),[o]),E=(0,e.useCallback)(v(a),[a]),_=(0,e.useCallback)(v(s),[s]),C=(0,e.useCallback)(v(c),[c]),S=(0,e.useCallback)(v(l),[l]),A=(0,e.useCallback)(v(h),[h]);return(0,Lt.jsx)(Bp,u(u({ref:n},p),{},{onEnter:w,onEntered:E,onEntering:b,onExit:_,onExited:S,onExiting:C,addEndListener:A,nodeRef:g,children:"function"===typeof d?(e,t)=>d(e,u(u({},t),{},{ref:y})):e.cloneElement(d,{ref:y})}))});tg.displayName="TransitionWrapper";const ng=tg,rg=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],og={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ig(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=og[e];return n+parseInt(Ap(t,r[0]),10)+parseInt(Ap(t,r[1]),10)}const ag={[kp]:"collapse",[Pp]:"collapsing",[xp]:"collapsing",[Dp]:"collapse show"},sg=e.forwardRef((t,n)=>{let{onEnter:r,onEntering:o,onEntered:a,onExit:s,onExiting:c,className:l,children:h,dimension:d="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:m=!1,appear:y=!1,getDimensionValue:v=ig}=t,w=i(t,rg);const b="function"===typeof d?d():d,E=(0,e.useMemo)(()=>Qp(e=>{e.style[b]="0"},r),[b,r]),_=(0,e.useMemo)(()=>Qp(e=>{const t="scroll".concat(b[0].toUpperCase()).concat(b.slice(1));e.style[b]="".concat(e[t],"px")},o),[b,o]),C=(0,e.useMemo)(()=>Qp(e=>{e.style[b]=null},a),[b,a]),S=(0,e.useMemo)(()=>Qp(e=>{e.style[b]="".concat(v(b,e),"px"),Zp(e)},s),[s,v,b]),A=(0,e.useMemo)(()=>Qp(e=>{e.style[b]=null},c),[b,c]);return(0,Lt.jsx)(ng,u(u({ref:n,addEndListener:Yp},w),{},{"aria-expanded":w.role?f:null,onEnter:E,onEntering:_,onEntered:C,onExit:S,onExiting:A,childRef:Fp(h),in:f,timeout:p,mountOnEnter:g,unmountOnExit:m,appear:y,children:(t,n)=>e.cloneElement(h,u(u({},n),{},{className:ep()(l,h.props.className,ag[t],"width"===b&&"collapse-horizontal")}))}))});sg.displayName="Collapse";const cg=sg,lg=e.createContext(null);lg.displayName="NavbarContext";const ug=lg,hg=["children","bsPrefix"],dg=e.forwardRef((t,n)=>{let{children:r,bsPrefix:o}=t,a=i(t,hg);o=gp(o,"navbar-collapse");const s=(0,e.useContext)(ug);return(0,Lt.jsx)(cg,u(u({in:!(!s||!s.expanded)},a),{},{children:(0,Lt.jsx)("div",{ref:n,className:o,children:r})}))});dg.displayName="NavbarCollapse";const fg=dg;const pg=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)(()=>{n.current=t},[t]),n};function gg(t){const n=pg(t);return(0,e.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}const mg=["bsPrefix","className","children","label","as","onClick"],yg=e.forwardRef((t,n)=>{let{bsPrefix:r,className:o,children:a,label:s="Toggle navigation",as:c="button",onClick:l}=t,h=i(t,mg);r=gp(r,"navbar-toggler");const{onToggle:d,expanded:f}=(0,e.useContext)(ug)||{},p=gg(e=>{l&&l(e),d&&d()});return"button"===c&&(h.type="button"),(0,Lt.jsx)(c,u(u({},h),{},{ref:n,onClick:p,"aria-label":s,className:ep()(o,r,!f&&"collapsed"),children:a||(0,Lt.jsx)("span",{className:"".concat(r,"-icon")})}))});yg.displayName="NavbarToggle";const vg=yg,wg="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,bg="undefined"!==typeof document||wg?e.useLayoutEffect:e.useEffect,Eg=new WeakMap,_g=(e,t)=>{if(!e||!t)return;const n=Eg.get(t)||new Map;Eg.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Cg(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=_g(t,n),[o,i]=(0,e.useState)(()=>!!r&&r.matches);return bg(()=>{let e=_g(t,n);if(!e)return i(!1);let r=Eg.get(n);const o=()=>{i(e.matches)};return e.refCount++,e.addListener(o),o(),()=>{e.removeListener(o),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}},[t]),o}const Sg=function(t){const n=Object.keys(t);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function o(e){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e);let o=t[r];return o="number"===typeof o?"".concat(o-.2,"px"):"calc(".concat(o," - 0.2px)"),"(max-width: ".concat(o,")")}return function(n,i,a){let s;return"object"===typeof n?(s=n,a=i,i=!0):(i=i||!0,s={[n]:i}),Cg((0,e.useMemo)(()=>Object.entries(s).reduce((e,n)=>{let[i,a]=n;return"up"!==a&&!0!==a||(e=r(e,function(e){let n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(i))),"down"!==a&&!0!==a||(e=r(e,o(i))),e},""),[JSON.stringify(s)]),a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ag=Sg;function Ig(e){void 0===e&&(e=wp());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(PP){return e.body}}function Tg(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ng(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)(()=>()=>n.current(),[])}const Og=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)(()=>{n.current=t},[t]),n};function Rg(t){const n=Og(t);return(0,e.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}function kg(e){return"".concat("data-rr-ui-").concat(e)}const xg=kg("modal-open");const Dg=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Ap(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(xg,""),Ap(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(xg),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Pg=(0,e.createContext)(jp?window:void 0);Pg.Provider;function Mg(){return(0,e.useContext)(Pg)}const Lg=(e,t)=>jp?null==e?(t||wp()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Bg=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Fg=function(t,n){return(0,e.useMemo)(()=>function(e,t){const n=Bg(e),r=Bg(t);return e=>{n&&n(e),r&&r(e)}}(t,n),[t,n])},jg="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ug="undefined"!==typeof document||jg?e.useLayoutEffect:e.useEffect;const Vg=function(t){let{children:n,in:r,onExited:o,mountOnEnter:i,unmountOnExit:a}=t;const s=(0,e.useRef)(null),c=(0,e.useRef)(r),l=Rg(o);(0,e.useEffect)(()=>{r?c.current=!0:l(s.current)},[r,l]);const u=Fg(s,Fp(n)),h=(0,e.cloneElement)(n,{ref:u});return r?h:a||!c.current&&i?null:h},zg=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Hg=["component"];const Wg=e.forwardRef((t,n)=>{let{component:r}=t;const o=function(t){let{onEnter:n,onEntering:r,onEntered:o,onExit:i,onExiting:a,onExited:s,addEndListener:c,children:l}=t,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,zg);const h=(0,e.useRef)(null),d=Fg(h,Fp(l)),f=e=>t=>{e&&h.current&&e(h.current,t)},p=(0,e.useCallback)(f(n),[n]),g=(0,e.useCallback)(f(r),[r]),m=(0,e.useCallback)(f(o),[o]),y=(0,e.useCallback)(f(i),[i]),v=(0,e.useCallback)(f(a),[a]),w=(0,e.useCallback)(f(s),[s]),b=(0,e.useCallback)(f(c),[c]);return Object.assign({},u,{nodeRef:h},n&&{onEnter:p},r&&{onEntering:g},o&&{onEntered:m},i&&{onExit:y},a&&{onExiting:v},s&&{onExited:w},c&&{addEndListener:b},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:d})):(0,e.cloneElement)(l,{ref:d})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,Hg));return(0,Lt.jsx)(r,Object.assign({ref:n},o))}),Gg=Wg;function qg(t){let{children:n,in:r,onExited:o,onEntered:i,transition:a}=t;const[s,c]=(0,e.useState)(!r);r&&s&&c(!1);const l=function(t){let{in:n,onTransition:r}=t;const o=(0,e.useRef)(null),i=(0,e.useRef)(!0),a=Rg(r);return Ug(()=>{if(!o.current)return;let e=!1;return a({in:n,element:o.current,initial:i.current,isStale:()=>e}),()=>{e=!0}},[n,a]),Ug(()=>(i.current=!1,()=>{i.current=!0}),[]),o}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then(()=>{e.isStale()||(e.in?null==i||i(e.element,e.initial):(c(!0),null==o||o(e.element)))},t=>{throw e.in||c(!0),t})}}),u=Fg(l,Fp(n));return s&&!r?null:(0,e.cloneElement)(n,{ref:u})}function Xg(e,t,n){return e?(0,Lt.jsx)(Gg,Object.assign({},n,{component:e})):t?(0,Lt.jsx)(qg,Object.assign({},n,{transition:t})):(0,Lt.jsx)(Vg,Object.assign({},n))}const Kg=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Yg;function Qg(t){const n=Mg(),r=t||function(e){return Yg||(Yg=new Dg({ownerDocument:null==e?void 0:e.document})),Yg}(n),o=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>r.add(o.current),remove:()=>r.remove(o.current),isTopModal:()=>r.isTopModal(o.current),setDialogRef:(0,e.useCallback)(e=>{o.current.dialog=e},[]),setBackdropRef:(0,e.useCallback)(e=>{o.current.backdrop=e},[])})}const Zg=(0,e.forwardRef)((t,n)=>{let{show:r=!1,role:o="dialog",className:i,style:a,children:s,backdrop:c=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:g,autoFocus:m=!0,enforceFocus:y=!0,restoreFocus:v=!0,restoreFocusOptions:w,renderDialog:b,renderBackdrop:E=e=>(0,Lt.jsx)("div",Object.assign({},e)),manager:_,container:C,onShow:S,onHide:A=()=>{},onExit:I,onExited:T,onExiting:N,onEnter:O,onEntering:R,onEntered:k}=t,x=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,Kg);const D=Mg(),P=function(t,n){const r=Mg(),[o,i]=(0,e.useState)(()=>Lg(t,null==r?void 0:r.document));if(!o){const e=Lg(t);e&&i(e)}return(0,e.useEffect)(()=>{n&&o&&n(o)},[n,o]),(0,e.useEffect)(()=>{const e=Lg(t);e!==o&&i(e)},[t,o]),o}(C),M=Qg(_),L=function(){const t=(0,e.useRef)(!0),n=(0,e.useRef)(()=>t.current);return(0,e.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),n.current}(),B=function(t){const n=(0,e.useRef)(null);return(0,e.useEffect)(()=>{n.current=t}),n.current}(r),[F,j]=(0,e.useState)(!r),U=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>M,[M]),jp&&!B&&r&&(U.current=Ig(null==D?void 0:D.document)),r&&F&&j(!1);const V=Rg(()=>{if(M.add(),X.current=Gp(document,"keydown",G),q.current=Gp(document,"focus",()=>setTimeout(H),!0),S&&S(),m){var e,t;const n=Ig(null!=(e=null==(t=M.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);M.dialog&&n&&!Tg(M.dialog,n)&&(U.current=n,M.dialog.focus())}}),z=Rg(()=>{var e;(M.remove(),null==X.current||X.current(),null==q.current||q.current(),v)&&(null==(e=U.current)||null==e.focus||e.focus(w),U.current=null)});(0,e.useEffect)(()=>{r&&P&&V()},[r,P,V]),(0,e.useEffect)(()=>{F&&z()},[F,z]),Ng(()=>{z()});const H=Rg(()=>{if(!y||!L()||!M.isTopModal())return;const e=Ig(null==D?void 0:D.document);M.dialog&&e&&!Tg(M.dialog,e)&&M.dialog.focus()}),W=Rg(e=>{e.target===e.currentTarget&&(null==u||u(e),!0===c&&A())}),G=Rg(e=>{l&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&M.isTopModal()&&(null==h||h(e),e.defaultPrevented||A())}),q=(0,e.useRef)(),X=(0,e.useRef)();if(!P)return null;const K=Object.assign({role:o,ref:M.setDialogRef,"aria-modal":"dialog"===o||void 0},x,{style:a,className:i,tabIndex:-1});let Y=b?b(K):(0,Lt.jsx)("div",Object.assign({},K,{children:e.cloneElement(s,{role:"document"})}));Y=Xg(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:I,onExiting:N,onExited:function(){j(!0),null==T||T(...arguments)},onEnter:O,onEntering:R,onEntered:k,children:Y});let Q=null;return c&&(Q=E({ref:M.setBackdropRef,onClick:W}),Q=Xg(p,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,Lt.jsx)(Lt.Fragment,{children:Tp.createPortal((0,Lt.jsxs)(Lt.Fragment,{children:[Q,Y]}),P)})});Zg.displayName="Modal";const Jg=Object.assign(Zg,{Manager:Dg}),$g=["className","children","transitionClasses","onEnter"],em={[xp]:"show",[Dp]:"show"},tm=e.forwardRef((t,n)=>{let{className:r,children:o,transitionClasses:a={},onEnter:s}=t;const c=u({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},i(t,$g)),l=(0,e.useCallback)((e,t)=>{Zp(e),null==s||s(e,t)},[s]);return(0,Lt.jsx)(ng,u(u({ref:n,addEndListener:Yp},c),{},{onEnter:l,childRef:Fp(o),children:(t,n)=>e.cloneElement(o,u(u({},n),{},{className:ep()("fade",r,o.props.className,em[t],a[t])}))}))});tm.displayName="Fade";const nm=tm,rm=["className","bsPrefix","as"],om=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,a=i(e,rm);return r=gp(r,"offcanvas-body"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});om.displayName="OffcanvasBody";const im=om,am=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],sm={[xp]:"show",[Dp]:"show"},cm=e.forwardRef((t,n)=>{let{bsPrefix:r,className:o,children:a,in:s=!1,mountOnEnter:c=!1,unmountOnExit:l=!1,appear:h=!1}=t,d=i(t,am);return r=gp(r,"offcanvas"),(0,Lt.jsx)(ng,u(u({ref:n,addEndListener:Yp,in:s,mountOnEnter:c,unmountOnExit:l,appear:h},d),{},{childRef:Fp(a),children:(t,n)=>e.cloneElement(a,u(u({},n),{},{className:ep()(o,a.props.className,(t===xp||t===Pp)&&"".concat(r,"-toggling"),sm[t])}))}))});cm.displayName="OffcanvasToggling";const lm=cm,um=e.createContext({onHide(){}});var hm=n(173),dm=n.n(hm);const fm=["className","variant","aria-label"],pm={"aria-label":dm().string,onClick:dm().func,variant:dm().oneOf(["white"])},gm=e.forwardRef((e,t)=>{let{className:n,variant:r,"aria-label":o="Close"}=e,a=i(e,fm);return(0,Lt.jsx)("button",u({ref:t,type:"button",className:ep()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":o},a))});gm.displayName="CloseButton",gm.propTypes=pm;const mm=gm,ym=["closeLabel","closeVariant","closeButton","onHide","children"],vm=e.forwardRef((t,n)=>{let{closeLabel:r="Close",closeVariant:o,closeButton:a=!1,onHide:s,children:c}=t,l=i(t,ym);const h=(0,e.useContext)(um),d=gg(()=>{null==h||h.onHide(),null==s||s()});return(0,Lt.jsxs)("div",u(u({ref:n},l),{},{children:[c,a&&(0,Lt.jsx)(mm,{"aria-label":r,variant:o,onClick:d})]}))});vm.displayName="AbstractModalHeader";const wm=vm,bm=["bsPrefix","className","closeLabel","closeButton"],Em=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,closeLabel:o="Close",closeButton:a=!1}=e,s=i(e,bm);return n=gp(n,"offcanvas-header"),(0,Lt.jsx)(wm,u(u({ref:t},s),{},{className:ep()(r,n),closeLabel:o,closeButton:a}))});Em.displayName="OffcanvasHeader";const _m=Em,Cm=t=>e.forwardRef((e,n)=>(0,Lt.jsx)("div",u(u({},e),{},{ref:n,className:ep()(e.className,t)}))),Sm=["className","bsPrefix","as"],Am=Cm("h5"),Im=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o=Am}=e,a=i(e,Sm);return r=gp(r,"offcanvas-title"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});Im.displayName="OffcanvasTitle";const Tm=Im;var Nm=Function.prototype.bind.call(Function.prototype.call,[].slice);function Om(e,t){return Nm(e.querySelectorAll(t))}function Rm(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const km=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xm=".sticky-top",Dm=".navbar-toggler";class Pm extends Dg{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Ap(t,{[e]:"".concat(parseFloat(Ap(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ap(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Om(t,km).forEach(t=>this.adjustAndStore(o,t,e.scrollBarWidth)),Om(t,xm).forEach(t=>this.adjustAndStore(i,t,-e.scrollBarWidth)),Om(t,Dm).forEach(t=>this.adjustAndStore(i,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Rm(n.className,r):n.setAttribute("class",Rm(n.className&&n.className.baseVal||"",r));const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Om(t,km).forEach(e=>this.restore(o,e)),Om(t,xm).forEach(e=>this.restore(i,e)),Om(t,Dm).forEach(e=>this.restore(i,e))}}let Mm;const Lm=Pm,Bm=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Fm(e){return(0,Lt.jsx)(lm,u({},e))}function jm(e){return(0,Lt.jsx)(nm,u({},e))}const Um=e.forwardRef((t,n)=>{let{bsPrefix:r,className:o,children:a,"aria-labelledby":s,placement:c="start",responsive:l,show:h=!1,backdrop:d=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:m,onHide:y,container:v,autoFocus:w=!0,enforceFocus:b=!0,restoreFocus:E=!0,restoreFocusOptions:_,onEntered:C,onExit:S,onExiting:A,onEnter:I,onEntering:T,onExited:N,backdropClassName:O,manager:R,renderStaticNode:k=!1}=t,x=i(t,Bm);const D=(0,e.useRef)();r=gp(r,"offcanvas");const[P,M]=(0,e.useState)(!1),L=gg(y),B=Ag(l||"xs","up");(0,e.useEffect)(()=>{M(l?h&&!B:h)},[h,l,B]);const F=(0,e.useMemo)(()=>({onHide:L}),[L]);const j=(0,e.useCallback)(e=>(0,Lt.jsx)("div",u(u({},e),{},{className:ep()("".concat(r,"-backdrop"),O)})),[O,r]),U=e=>(0,Lt.jsx)("div",u(u(u({},e),x),{},{className:ep()(o,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(c)),"aria-labelledby":s,children:a}));return(0,Lt.jsxs)(Lt.Fragment,{children:[!P&&(l||k)&&U({}),(0,Lt.jsx)(um.Provider,{value:F,children:(0,Lt.jsx)(Jg,{show:P,ref:n,backdrop:d,container:v,keyboard:f,autoFocus:w,enforceFocus:b&&!p,restoreFocus:E,restoreFocusOptions:_,onEscapeKeyDown:g,onShow:m,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I(e,...n)},onEntering:T,onEntered:C,onExit:S,onExiting:A,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N(...n)},manager:R||(p?(D.current||(D.current=new Lm({handleContainerOverflow:!1})),D.current):function(e){return Mm||(Mm=new Pm(e)),Mm}()),transition:Fm,backdropTransition:jm,renderBackdrop:j,renderDialog:U})})]})});Um.displayName="Offcanvas";const Vm=Object.assign(Um,{Body:im,Header:_m,Title:Tm}),zm=["onHide"],Hm=e.forwardRef((t,n)=>{let{onHide:r}=t,o=i(t,zm);const a=(0,e.useContext)(ug),s=gg(()=>{null==a||null==a.onToggle||a.onToggle(),null==r||r()});return(0,Lt.jsx)(Vm,u(u({ref:n,show:!(null==a||!a.expanded)},o),{},{renderStaticNode:!0,onHide:s}))});Hm.displayName="NavbarOffcanvas";const Wm=Hm,Gm=["className","bsPrefix","as"],qm=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="span"}=e,a=i(e,Gm);return r=gp(r,"navbar-text"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});qm.displayName="NavbarText";const Xm=qm,Km=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Ym=e.forwardRef((t,n)=>{const r=ap(t,{expanded:"onToggle"}),{bsPrefix:o,expand:a=!0,variant:s="light",bg:c,fixed:l,sticky:h,className:d,as:f="nav",expanded:p,onToggle:g,onSelect:m,collapseOnSelect:y=!1}=r,v=i(r,Km),w=gp(o,"navbar"),b=(0,e.useCallback)(function(){null==m||m(...arguments),y&&p&&(null==g||g(!1))},[m,y,p,g]);void 0===v.role&&"nav"!==f&&(v.role="navigation");let E="".concat(w,"-expand");"string"===typeof a&&(E="".concat(E,"-").concat(a));const _=(0,e.useMemo)(()=>({onToggle:()=>null==g?void 0:g(!p),bsPrefix:w,expanded:!!p,expand:a}),[w,p,a,g]);return(0,Lt.jsx)(ug.Provider,{value:_,children:(0,Lt.jsx)(np.Provider,{value:b,children:(0,Lt.jsx)(f,u(u({ref:n},v),{},{className:ep()(d,w,a&&E,s&&"".concat(w,"-").concat(s),c&&"bg-".concat(c),h&&"sticky-".concat(h),l&&"fixed-".concat(l))}))})})});Ym.displayName="Navbar";const Qm=Object.assign(Ym,{Brand:vp,Collapse:fg,Offcanvas:Wm,Text:Xm,Toggle:vg}),Zm=["bsPrefix","fluid","as","className"],Jm=e.forwardRef((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:o="div",className:a}=e,s=i(e,Zm);const c=gp(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,Lt.jsx)(o,u(u({ref:t},s),{},{className:ep()(a,r?"".concat(c).concat(l):c)}))});Jm.displayName="Container";const $m=Jm;const ey=e.createContext(null);ey.displayName="NavContext";const ty=ey,ny=e.createContext(null),ry=["as","disabled"];function oy(e){let{tagName:t,disabled:n,href:r,target:o,rel:i,role:a,onClick:s,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=o||null!=i?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?o:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const iy=e.forwardRef((e,t)=>{let{as:n,disabled:r}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ry);const[i,{tagName:a}]=oy(Object.assign({tagName:n,disabled:r},o));return(0,Lt.jsx)(a,Object.assign({},o,i,{ref:t}))});iy.displayName="Button";const ay=iy,sy=["as","active","eventKey"];function cy(t){let{key:n,onClick:r,active:o,id:i,role:a,disabled:s}=t;const c=(0,e.useContext)(np),l=(0,e.useContext)(ty),u=(0,e.useContext)(ny);let h=o;const d={role:a};if(l){a||"tablist"!==l.role||(d.role="tab");const e=l.getControllerId(null!=n?n:null),t=l.getControlledId(null!=n?n:null);d[kg("event-key")]=n,d.id=e||i,h=null==o&&null!=n?l.activeKey===n:o,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=t)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Rg(e=>{s||(null==r||r(e),null!=n&&c&&!e.isPropagationStopped()&&c(n,e))}),[d,{isActive:h}]}const ly=e.forwardRef((e,t)=>{let{as:n=ay,active:r,eventKey:o}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,sy);const[a,s]=cy(Object.assign({key:tp(o,i.href),active:r},i));return a[kg("active")]=s.isActive,(0,Lt.jsx)(n,Object.assign({},i,a,{ref:t}))});ly.displayName="NavItem";const uy=ly,hy=["as","onSelect","activeKey","role","onKeyDown"];const dy=()=>{},fy=kg("event-key"),py=e.forwardRef((t,n)=>{let{as:r="div",onSelect:o,activeKey:i,role:a,onKeyDown:s}=t,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,hy);const l=function(){const[,t]=(0,e.useReducer)(e=>e+1,0);return t}(),u=(0,e.useRef)(!1),h=(0,e.useContext)(np),d=(0,e.useContext)(ny);let f,p;d&&(a=a||"tablist",i=d.activeKey,f=d.getControlledId,p=d.getControllerId);const g=(0,e.useRef)(null),m=e=>{const t=g.current;if(!t)return null;const n=Om(t,"[".concat(fy,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const o=n.indexOf(r);if(-1===o)return null;let i=o+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},y=(e,t)=>{null!=e&&(null==o||o(e,t),null==h||h(e,t))};(0,e.useEffect)(()=>{if(g.current&&u.current){const e=g.current.querySelector("[".concat(fy,"][aria-selected=true]"));null==e||e.focus()}u.current=!1});const v=Fg(n,g);return(0,Lt.jsx)(np.Provider,{value:y,children:(0,Lt.jsx)(ty.Provider,{value:{role:a,activeKey:tp(i),getControlledId:f||dy,getControllerId:p||dy},children:(0,Lt.jsx)(r,Object.assign({},c,{onKeyDown:e=>{if(null==s||s(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}t&&(e.preventDefault(),y(t.dataset[function(e){return"".concat("rrUi").concat(e)}("EventKey")]||null,e),u.current=!0,l())},ref:v,role:a}))})})});py.displayName="Nav";const gy=Object.assign(py,{Item:uy}),my=e.createContext(null);my.displayName="CardHeaderContext";const yy=my,vy=["className","bsPrefix","as"],wy=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,a=i(e,vy);return r=gp(r,"nav-item"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});wy.displayName="NavItem";const by=wy;new WeakMap;const Ey=["onKeyDown"];const _y=e.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ey);const[o]=oy(Object.assign({tagName:"a"},r)),i=Rg(e=>{o.onKeyDown(e),null==n||n(e)});return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,Lt.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Lt.jsx)("a",Object.assign({ref:t},r,o,{onKeyDown:i}));var a});_y.displayName="Anchor";const Cy=_y,Sy=["bsPrefix","className","as","active","eventKey","disabled"],Ay=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:o=Cy,active:a,eventKey:s,disabled:c=!1}=e,l=i(e,Sy);n=gp(n,"nav-link");const[h,d]=cy(u({key:tp(s,l.href),active:a,disabled:c},l));return(0,Lt.jsx)(o,u(u(u({},l),h),{},{ref:t,disabled:c,className:ep()(r,n,c&&"disabled",d.isActive&&"active")}))});Ay.displayName="NavLink";const Iy=Ay,Ty=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Ny=e.forwardRef((t,n)=>{const r=ap(t,{activeKey:"onSelect"}),{as:o="div",bsPrefix:a,variant:s,fill:c=!1,justify:l=!1,navbar:h,navbarScroll:d,className:f,activeKey:p}=r,g=i(r,Ty),m=gp(a,"nav");let y,v,w=!1;const b=(0,e.useContext)(ug),E=(0,e.useContext)(yy);return b?(y=b.bsPrefix,w=null==h||h):E&&({cardHeaderBsPrefix:v}=E),(0,Lt.jsx)(gy,u({as:o,ref:n,activeKey:p,className:ep()(f,{[m]:!w,["".concat(y,"-nav")]:w,["".concat(y,"-nav-scroll")]:w&&d,["".concat(v,"-").concat(s)]:!!v,["".concat(m,"-").concat(s)]:!!s,["".concat(m,"-fill")]:c,["".concat(m,"-justified")]:l})},g))});Ny.displayName="Nav";const Oy=Object.assign(Ny,{Item:by,Link:Iy}),Ry=["as","bsPrefix","variant","size","active","disabled","className"],ky=e.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:o="primary",size:a,active:s=!1,disabled:c=!1,className:l}=e,h=i(e,Ry);const d=gp(r,"btn"),[f,{tagName:p}]=oy(u({tagName:n,disabled:c},h)),g=p;return(0,Lt.jsx)(g,u(u(u({},f),h),{},{ref:t,disabled:c,className:ep()(l,d,s&&"active",o&&"".concat(d,"-").concat(o),a&&"".concat(d,"-").concat(a),h.href&&c&&"disabled")}))});ky.displayName="Button";const xy=ky,Dy=["providerId"],Py=["uid","auth","stsTokenManager"],My=["providerId","signInMethod"];function Ly(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const By=Ly,Fy=new un("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jy=new kn("@firebase/auth");function Uy(e){if(jy.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jy.error("Auth (".concat(Lr,"): ").concat(e),...n)}}function Vy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Gy(e,...n)}function zy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gy(e,...n)}function Hy(e,t,n){const r=u(u({},By()),{},{[t]:n});return new un("auth","Firebase",r).create(t,{appName:e.name})}function Wy(e){return Hy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fy.create(e,...n)}function qy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw Gy(t,...r)}}function Xy(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Uy(t),new Error(t)}function Ky(e,t){e||Xy(t)}function Yy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qy(){return"http:"===Zy()||"https:"===Zy()}function Zy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Jy{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ky(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qy()||on()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $y(e,t){Ky(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ev{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Xy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Xy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Xy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nv=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rv=new Jy(3e4,6e4);function ov(e,t){return e.tenantId&&!t.tenantId?u(u({},t),{},{tenantId:e.tenantId}):t}async function iv(e,t,n,r){return av(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const a=pn(u({key:e.config.apiKey},i)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const c=u({method:t,headers:s},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Qt(e.emulatorConfig.host)&&(c.credentials="include"),ev.fetch()(await cv(e,e.config.apiHost,n,a),c)})}async function av(e,t,n){e._canInitEmulator=!1;const r=u(u({},tv),t);try{const t=new uv(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw hv(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hv(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw hv(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw hv(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Hy(e,s,a);Vy(e,s)}}catch(PP){if(PP instanceof ln)throw PP;Vy(e,"network-request-failed",{message:String(PP)})}}async function sv(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await iv(e,t,n,r,o);return"mfaPendingCredential"in i&&Vy(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function cv(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r),i=e,a=i.config.emulator?$y(e.config,o):"".concat(e.config.apiScheme,"://").concat(o);if(nv.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function lv(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uv{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(zy(this.auth,"network-request-failed")),rv.get())})}}function hv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=zy(e,t,r);return o.customData._tokenResponse=n,o}function dv(e){return void 0!==e&&void 0!==e.enterprise}class fv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lv(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pv(e,t){return iv(e,"GET","/v2/recaptchaConfig",ov(e,t))}async function gv(e,t){return iv(e,"POST","/v1/accounts:lookup",t)}function mv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(PP){}}function yv(e){return 1e3*Number(e)}function vv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Uy("JWT malformed, contained fewer than 3 sections"),null;try{const e=zt(n);return e?JSON.parse(e):(Uy("Failed to decode base64 JWT payload"),null)}catch(PP){return Uy("Caught error parsing JWT payload as JSON",null===PP||void 0===PP?void 0:PP.toString()),null}}function wv(e){const t=vv(e);return qy(t,"internal-error"),qy("undefined"!==typeof t.exp,"internal-error"),qy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function bv(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(PP){throw PP instanceof ln&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(PP)&&e.auth.currentUser===e&&await e.auth.signOut(),PP}}class Ev{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(PP){return void((null===PP||void 0===PP?void 0:PP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class _v{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mv(this.lastLoginAt),this.creationTime=mv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cv(e){var t;const n=e.auth,r=await e.getIdToken(),o=await bv(e,gv(n,{idToken:r}));qy(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const a=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?Sv(i.providerUserInfo):[],s=(c=e.providerData,l=a,[...c.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&i.passwordHash)&&!(null!==s&&void 0!==s&&s.length),d=!!u&&h,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _v(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Sv(e){return e.map(e=>{let{providerId:t}=e,n=i(e,Dy);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Av{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qy(e.idToken,"internal-error"),qy("undefined"!==typeof e.idToken,"internal-error"),qy("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qy(0!==e.length,"internal-error");const t=wv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(qy(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await av(e,{},async()=>{const n=pn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await cv(e,r,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&Qt(e.emulatorConfig.host)&&(s.credentials="include"),ev.fetch()(i,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new Av;return n&&(qy("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(qy("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(qy("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Av,this.toJSON())}_performRefresh(){return Xy("not implemented")}}function Iv(e,t){qy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Tv{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,o=i(e,Py);this.providerId="firebase",this.proactiveRefresh=new Ev(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _v(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await bv(this,this.stsTokenManager.getToken(this.auth,e));return qy(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bn(e),r=await n.getIdToken(t),o=vv(r);qy(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:mv(yv(o.auth_time)),issuedAtTime:mv(yv(o.iat)),expirationTime:mv(yv(o.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bn(e);await Cv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>u({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tv(u(u({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Cv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Wy(this.auth));const e=await this.getIdToken();return await bv(this,async function(e,t){return iv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>u({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,a,s,c,l;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:b,isAnonymous:E,providerData:_,stsTokenManager:C}=t;qy(w&&C,e,"internal-error");const S=Av.fromJSON(this.name,C);qy("string"===typeof w,e,"internal-error"),Iv(h,e.name),Iv(d,e.name),qy("boolean"===typeof b,e,"internal-error"),qy("boolean"===typeof E,e,"internal-error"),Iv(f,e.name),Iv(p,e.name),Iv(g,e.name),Iv(m,e.name),Iv(y,e.name),Iv(v,e.name);const A=new Tv({uid:w,auth:e,email:d,emailVerified:b,displayName:h,isAnonymous:E,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:S,createdAt:y,lastLoginAt:v});return _&&Array.isArray(_)&&(A.providerData=_.map(e=>u({},e))),m&&(A._redirectEventId=m),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Av;r.updateFromServerResponse(t);const o=new Tv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Cv(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];qy(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Sv(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length),a=new Av;a.updateFromIdToken(n);const s=new Tv({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new _v(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length)};return Object.assign(s,c),s}}const Nv=new Map;function Ov(e){Ky(e instanceof Function,"Expected a class definition");let t=Nv.get(e);return t?(Ky(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nv.set(e,t),t)}class Rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rv.type="NONE";const kv=Rv;function xv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Dv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=xv(this.userKey,r.apiKey,o),this.fullPersistenceKey=xv("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await gv(this.auth,{idToken:e}).catch(()=>{});return t?Tv._fromGetAccountInfoResponse(this.auth,t,e):null}return Tv._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Dv(Ov(kv),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||Ov(kv);const i=xv(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await gv(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Tv._fromGetAccountInfoResponse(e,r,t)}else n=Tv._fromJSON(e,t);l!==o&&(a=n),o=l;break}}catch(c){}const s=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&s.length?(o=s[0],a&&await o._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(t){}})),new Dv(o,e,n)):new Dv(o,e,n)}}function Pv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uv(t))return"Blackberry";if(Vv(t))return"Webos";if(Lv(t))return"Safari";if((t.includes("chrome/")||Bv(t))&&!t.includes("edge/"))return"Chrome";if(jv(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Mv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/firefox\//i.test(e)}function Lv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/crios\//i.test(e)}function Fv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/iemobile/i.test(e)}function jv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/android/i.test(e)}function Uv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/blackberry/i.test(e)}function Vv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/webos/i.test(e)}function zv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hv(){return function(){const e=nn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Wv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();return zv(e)||jv(e)||Vv(e)||Uv(e)||/windows phone/i.test(e)||Fv(e)}function Gv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pv(nn());break;case"Worker":t="".concat(Pv(nn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Lr,"/").concat(r)}class qv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(PP){r(PP)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(PP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===PP||void 0===PP?void 0:PP.message})}}}class Xv{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(o=s.containsUppercaseLetter)||void 0===o||o),s.isValid&&(s.isValid=null===(i=s.containsNumericCharacter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Kv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new qv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ov(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await Dv.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(PP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await gv(this,{idToken:e}),n=await Tv._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var o,i;await this.getOrInitRedirectPersistenceManager();const t=null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId,a=null===(i=n)||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==a||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(PP){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(PP))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return qy(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(PP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cv(e)}catch(PP){if((null===PP||void 0===PP?void 0:PP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Wy(this));const t=e?bn(e):null;return t&&qy(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qy(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Wy(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Wy(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ov(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return iv(e,"GET","/v2/passwordPolicy",ov(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Xv(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new un("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return iv(e,"POST","/v2/accounts:revokeToken",ov(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ov(e)||this._popupRedirectResolver;qy(t,this,"argument-error"),this.redirectPersistenceManager=await Dv.create(this,[Ov(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qy(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qy(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(jy.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jy.warn("Auth (".concat(Lr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Yv(e){return bn(e)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new yn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return qy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jv(e){return Zv.loadJS(e)}function $v(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ew{constructor(){this.enterprise=new tw}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tw{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nw="NO_RECAPTCHA";class rw{constructor(e){this.type="recaptcha-enterprise",this.auth=Yv(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;dv(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(nw)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ew).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{pv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new fv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&dv(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Zv.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Jv(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ow(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new rw(e);let a;if(o)a=nw;else try{a=await i.verify(n)}catch(c){a=await i.verify(n,!0)}const s=u({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function iw(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ow(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await ow(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await ow(e,t,n);return r(e,o).catch(async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await ow(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await ow(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function aw(e){const t=Yv(e),n=await pv(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fv(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new rw(t).verify()}}function sw(e,t,n){const r=Yv(e);qy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!(null===n||void 0===n||!n.disableWarnings),i=cw(t),{host:a,port:s}=function(e){const t=cw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:lw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:lw(t)}}}(t),c=null===s?"":":".concat(s),l={url:"".concat(i,"//").concat(a).concat(c,"/")},u=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return qy(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void qy(dn(l,r.config.emulator)&&dn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Qt(a)?(Zt("".concat(i,"//").concat(a).concat(c)),tn("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function cw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class uw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xy("not implemented")}_getIdTokenResponse(e){return Xy("not implemented")}_linkToIdToken(e,t){return Xy("not implemented")}_getReauthenticationResolver(e){return Xy("not implemented")}}async function hw(e,t){return iv(e,"POST","/v1/accounts:signUp",t)}async function dw(e,t){return sv(e,"POST","/v1/accounts:signInWithPassword",ov(e,t))}class fw extends uw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new fw(e,t,"password")}static _fromEmailAndCode(e,t){return new fw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return iw(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",dw,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return sv(e,"POST","/v1/accounts:signInWithEmailLink",ov(e,t))}(e,{email:this._email,oobCode:this._password});default:Vy(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return iw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hw,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return sv(e,"POST","/v1/accounts:signInWithEmailLink",ov(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Vy(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pw(e,t){return sv(e,"POST","/v1/accounts:signInWithIdp",ov(e,t))}class gw extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vy("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=i(t,My);if(!n||!r)return null;const a=new gw(n,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){return pw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,pw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pn(t)}return e}}async function mw(e,t){return iv(e,"POST","/v1/accounts:sendVerificationCode",ov(e,t))}const yw={USER_NOT_FOUND:"user-not-found"};class vw extends uw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sv(e,"POST","/v1/accounts:signInWithPhoneNumber",ov(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await sv(e,"POST","/v1/accounts:signInWithPhoneNumber",ov(e,t));if(n.temporaryProof)throw hv(e,"account-exists-with-different-credential",n);return n}(e,u({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sv(e,"POST","/v1/accounts:signInWithPhoneNumber",ov(e,u(u({},t),{},{operation:"REAUTH"})),yw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new vw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class ww{constructor(e){var t,n,r,o,i,a;const s=gn(mn(e)),c=null!==(t=s.apiKey)&&void 0!==t?t:null,l=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);qy(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(o=s.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=s.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=gn(mn(e)).link,n=t?gn(mn(t)).deep_link_id:null,r=gn(mn(e)).deep_link_id;return(r?gn(mn(r)).link:null)||r||n||t||e}(e);try{return new ww(t)}catch(n){return null}}}class bw{constructor(){this.providerId=bw.PROVIDER_ID}static credential(e,t){return fw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ww.parseLink(t);return qy(n,"argument-error"),fw._fromEmailAndCode(e,n.code,n.tenantId)}}bw.PROVIDER_ID="password",bw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ew{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _w extends Ew{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cw extends _w{constructor(){super("facebook.com")}static credential(e){return gw._fromParams({providerId:Cw.PROVIDER_ID,signInMethod:Cw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cw.credentialFromTaggedObject(e)}static credentialFromError(e){return Cw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Cw.credential(t.oauthAccessToken)}catch(n){return null}}}Cw.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cw.PROVIDER_ID="facebook.com";class Sw extends _w{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gw._fromParams({providerId:Sw.PROVIDER_ID,signInMethod:Sw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sw.credentialFromTaggedObject(e)}static credentialFromError(e){return Sw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Sw.credential(n,r)}catch(o){return null}}}Sw.GOOGLE_SIGN_IN_METHOD="google.com",Sw.PROVIDER_ID="google.com";class Aw extends _w{constructor(){super("github.com")}static credential(e){return gw._fromParams({providerId:Aw.PROVIDER_ID,signInMethod:Aw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aw.credentialFromTaggedObject(e)}static credentialFromError(e){return Aw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Aw.credential(t.oauthAccessToken)}catch(n){return null}}}Aw.GITHUB_SIGN_IN_METHOD="github.com",Aw.PROVIDER_ID="github.com";class Iw extends _w{constructor(){super("twitter.com")}static credential(e,t){return gw._fromParams({providerId:Iw.PROVIDER_ID,signInMethod:Iw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Iw.credentialFromTaggedObject(e)}static credentialFromError(e){return Iw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Iw.credential(n,r)}catch(o){return null}}}async function Tw(e,t){return sv(e,"POST","/v1/accounts:signUp",ov(e,t))}Iw.TWITTER_SIGN_IN_METHOD="twitter.com",Iw.PROVIDER_ID="twitter.com";class Nw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Tv._fromIdTokenResponse(e,n,r),i=Ow(n);return new Nw({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ow(n);return new Nw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ow(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Rw extends ln{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Rw.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Rw(e,t,n,r)}}function kw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Rw._fromErrorAndOperation(e,n,t,r);throw n})}async function xw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await bv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Nw._forOperation(e,"link",r)}async function Dw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Dr(r.app))return Promise.reject(Wy(r));const o="reauthenticate";try{const i=await bv(e,kw(r,o,t,e),n);qy(i.idToken,r,"internal-error");const a=vv(i.idToken);qy(a,r,"internal-error");const{sub:s}=a;return qy(e.uid===s,r,"user-mismatch"),Nw._forOperation(e,o,i)}catch(PP){throw(null===PP||void 0===PP?void 0:PP.code)==="auth/".concat("user-not-found")&&Vy(r,"user-mismatch"),PP}}async function Pw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Dr(e.app))return Promise.reject(Wy(e));const r="signIn",o=await kw(e,r,t),i=await Nw._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function Mw(e,t){return Pw(Yv(e),t)}async function Lw(e){const t=Yv(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Bw(e,t,n){const{auth:r}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const i=await bv(e,async function(e,t){return iv(e,"POST","/v1/accounts:update",t)}(r,o));await e._updateTokensIfNecessary(i,!0)}function Fw(e,t,n,r){return bn(e).onAuthStateChanged(t,n,r)}function jw(e){return bn(e).signOut()}function Uw(e,t){return iv(e,"POST","/v2/accounts/mfaEnrollment:start",ov(e,t))}new WeakMap;const Vw="__sak";class zw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vw,"1"),this.storage.removeItem(Vw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hw extends zw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Hv()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hw.type="LOCAL";const Ww=Hw;function Gw(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(o))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function qw(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Xw{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=qw(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Gw(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=qw(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=qw(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Gw(n);const o=setInterval(()=>{const e=Gw(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Xw.type="COOKIE";class Kw extends zw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kw.type="SESSION";const Yw=Kw;class Qw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Qw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,o)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Zw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qw.receivers=[];class Jw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((a,s)=>{const c=Zw("",20);r.port1.start();const l=setTimeout(()=>{s(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(l),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function $w(){return window}function eb(){return"undefined"!==typeof $w().WorkerGlobalScope&&"function"===typeof $w().importScripts}const tb="firebaseLocalStorageDb",nb="firebaseLocalStorage",rb="fbase_key";class ob{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ib(e,t){return e.transaction([nb],t?"readwrite":"readonly").objectStore(nb)}function ab(){const e=indexedDB.open(tb,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(nb,{keyPath:rb})}catch(PP){n(PP)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(nb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(tb);return new ob(e).toPromise()}(),t(await ab()))})})}async function sb(e,t,n){const r=ib(e,!0).put({[rb]:t,value:n});return new ob(r).toPromise()}function cb(e,t){const n=ib(e,!0).delete(t);return new ob(n).toPromise()}class lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ab()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(PP){if(t++>3)throw PP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qw._getInstance(eb()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Jw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ab();return await sb(e,Vw,"1"),await cb(e,Vw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ib(e,!1).get(t),r=await new ob(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ib(e,!1).getAll();return new ob(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}lb.type="LOCAL";const ub=lb;function hb(e,t){return iv(e,"POST","/v2/accounts/mfaSignIn:start",ov(e,t))}$v("rcb"),new Jy(3e4,6e4);const db="recaptcha";async function fb(e,t,n){if(!e._getRecaptchaConfig())try{await aw(e)}catch(o){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){qy("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=iw(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===nw){qy((null===n||void 0===n?void 0:n.type)===db,e,"argument-error");return Uw(e,await pb(e,t,n))}return Uw(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;qy("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;qy(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=iw(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===nw){qy((null===n||void 0===n?void 0:n.type)===db,e,"argument-error");return hb(e,await pb(e,t,n))}return hb(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=iw(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===nw){qy((null===n||void 0===n?void 0:n.type)===db,e,"argument-error");return mw(e,await pb(e,t,n))}return mw(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function pb(e,t,n){qy(n.type===db,e,"argument-error");const r=await n.verify();qy("string"===typeof r,e,"argument-error");const o=u({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class gb{constructor(e){this.providerId=gb.PROVIDER_ID,this.auth=Yv(e)}verifyPhoneNumber(e,t){return fb(this.auth,e,bn(t))}static credential(e,t){return vw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gb.credentialFromTaggedObject(t)}static credentialFromError(e){return gb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?vw._fromTokenResponse(n,r):null}}function mb(e,t){return t?Ov(t):(qy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gb.PROVIDER_ID="phone",gb.PHONE_SIGN_IN_METHOD="phone";class yb extends uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vb(e){return Pw(e.auth,new yb(e),e.bypassAuthState)}function wb(e){const{auth:t,user:n}=e;return qy(n,t,"internal-error"),Dw(n,new yb(e),e.bypassAuthState)}async function bb(e){const{auth:t,user:n}=e;return qy(n,t,"internal-error"),xw(n,new yb(e),e.bypassAuthState)}class Eb{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(PP){this.reject(PP)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(PP){this.reject(PP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vb;case"linkViaPopup":case"linkViaRedirect":return bb;case"reauthViaPopup":case"reauthViaRedirect":return wb;default:Vy(this.auth,"internal-error")}}resolve(e){Ky(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ky(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _b=new Jy(2e3,1e4);class Cb extends Eb{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Cb.currentPopupAction&&Cb.currentPopupAction.cancel(),Cb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qy(e,this.auth,"internal-error"),e}async onExecution(){Ky(1===this.filter.length,"Popup operations only handle one event");const e=Zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(zy(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(zy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zy(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,_b.get())};e()}}Cb.currentPopupAction=null;const Sb=new Map;class Ab extends Eb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Sb.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Nb(t),r=Tb(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(PP){e=()=>Promise.reject(PP)}Sb.set(this.auth._key(),e)}return this.bypassAuthState||Sb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ib(e,t){Sb.set(e._key(),t)}function Tb(e){return Ov(e._redirectPersistence)}function Nb(e){return xv("pendingRedirect",e.config.apiKey,e.name)}async function Ob(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Dr(e.app))return Promise.reject(Wy(e));const r=Yv(e),o=mb(r,t),i=new Ab(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Rb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!xb(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zy(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kb(e))}saveEventToCache(e){this.cachedEventUids.add(kb(e)),this.lastProcessedEventTime=Date.now()}}function kb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function xb(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Db=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pb=/^https?/;async function Mb(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return iv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Lb(r))return}catch(n){}Vy(e,"unauthorized-domain")}function Lb(e){const t=Yy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Pb.test(n))return!1;if(Db.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Bb=new Jy(3e4,6e4);function Fb(){const e=$w().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function jb(e){return new Promise((t,n)=>{var r,o;function i(){Fb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(zy(e,"network-request-failed"))},timeout:Bb.get()})}if(null!==(r=$w().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(o=$w().gapi)||void 0===o||!o.load){const t=$v("iframefcb");return $w()[t]=()=>{gapi.load?i():n(zy(e,"network-request-failed"))},Jv("".concat(Zv.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw Ub=null,e})}let Ub=null;const Vb=new Jy(5e3,15e3),zb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wb(e){const t=e.config;qy(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$y(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Lr},o=Hb.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(pn(r).slice(1))}async function Gb(e){const t=await function(e){return Ub=Ub||jb(e),Ub}(e),n=$w().gapi;return qy(n,e,"internal-error"),t.open({where:document.body,url:Wb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zb,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=zy(e,"network-request-failed"),i=$w().setTimeout(()=>{r(o)},Vb.get());function a(){$w().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(o)})}))}const qb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(PP){}}}function Kb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=u(u({},qb),{},{width:r.toString(),height:o.toString(),top:i,left:a}),l=nn().toLowerCase();n&&(s=Bv(l)?"_blank":n),Mv(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return zv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Xb(null);const d=window.open(t||"",s,h);qy(d,e,"popup-blocked");try{d.focus()}catch(PP){}return new Xb(d)}const Yb="__/auth/handler",Qb="emulator/auth/handler",Zb=encodeURIComponent("fac");async function Jb(e,t,n,r,o,i){qy(e.config.authDomain,e,"auth-domain-config-required"),qy(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Lr,eventId:o};if(t instanceof Ew){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof _w){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Zb,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yb);return $y(t,Qb)}(e),"?").concat(pn(s).slice(1)).concat(l)}const $b="webStorageSupport";const eE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=Ob,this._overrideRedirectResult=Ib}async _openPopup(e,t,n,r){var o;Ky(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Kb(e,await Jb(e,t,n,Yy(),r),Zw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){$w().location.href=e}(await Jb(e,t,n,Yy(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ky(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Gb(e),n=new Rb(e);return t.register("authEvent",t=>{qy(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($b,{type:$b},n=>{var r;const o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[$b];void 0!==o&&t(!!o),Vy(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wv()||Lv()||zv()}};var tE="@firebase/auth",nE="1.12.0";class rE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const oE=Kt("authIdTokenMaxAge")||300;let iE=null;function aE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();const t=xr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=xr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(dn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Vy(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eE,persistence:[ub,Ww,Yw]}),r=Kt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>oE)return;const r=null===t||void 0===t?void 0:t.token;iE!==r&&(iE=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){bn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){bn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var o;const i=Gt("auth");return i&&sw(n,"http://".concat(i)),n}var sE;Zv={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=zy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},sE="Browser",kr(new En("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;qy(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:s,clientPlatform:sE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gv(sE)},l=new Kv(r,o,i,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ov);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),kr(new En("auth-internal",e=>(e=>new rE(e))(Yv(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),jr(tE,nE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sE)),jr(tE,nE,"esm2020");const cE="@firebase/installations",lE="0.6.19",uE=1e4,hE="w:".concat(lE),dE="FIS_v2",fE=36e5,pE=new un("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gE(e){return e instanceof ln&&e.code.includes("request-failed")}function mE(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function yE(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function vE(e,t){const n=(await t.json()).error;return pE.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function wE(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bE(e,t){let{refreshToken:n}=t;const r=wE(e);return r.append("Authorization",function(e){return"".concat(dE," ").concat(e)}(n)),r}async function EE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function _E(e){return new Promise(t=>{setTimeout(t,e)})}const CE=/^[cdef][\w-]{21}$/;function SE(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return CE.test(t)?t:""}catch(e){return""}}function AE(e){return"".concat(e.appName,"!").concat(e.appId)}const IE=new Map;function TE(e,t){const n=AE(e);NE(n,t),function(e,t){const n=RE();n&&n.postMessage({key:e,fid:t});kE()}(n,t)}function NE(e,t){const n=IE.get(e);if(n)for(const r of n)r(t)}let OE=null;function RE(){return!OE&&"BroadcastChannel"in self&&(OE=new BroadcastChannel("[Firebase] FID Change"),OE.onmessage=e=>{NE(e.data.key,e.data.fid)}),OE}function kE(){0===IE.size&&OE&&(OE.close(),OE=null)}const xE="firebase-installations-store";let DE=null;function PE(){return DE||(DE=Wn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(xE)}})),DE}async function ME(e,t){const n=AE(e),r=(await PE()).transaction(xE,"readwrite"),o=r.objectStore(xE),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||TE(e,t.fid),t}async function LE(e){const t=AE(e),n=(await PE()).transaction(xE,"readwrite");await n.objectStore(xE).delete(t),await n.done}async function BE(e,t){const n=AE(e),r=(await PE()).transaction(xE,"readwrite"),o=r.objectStore(xE),i=await o.get(n),a=t(i);return void 0===a?await o.delete(n):await o.put(a,n),await r.done,!a||i&&i.fid===a.fid||TE(e,a.fid),a}async function FE(e){let t;const n=await BE(e.appConfig,n=>{const r=function(e){const t=e||{fid:SE(),registrationStatus:0};return VE(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(pE.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const i=mE(n),a=wE(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const c={fid:o,authVersion:dE,appId:n.appId,sdkVersion:hE},l={method:"POST",headers:a,body:JSON.stringify(c)},u=await EE(()=>fetch(i,l));if(u.ok){const e=await u.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:yE(e.authToken)}}throw await vE("Create Installation",u)}(e,t);return ME(e.appConfig,n)}catch(PP){throw gE(PP)&&409===PP.customData.serverCode?await LE(e.appConfig):await ME(e.appConfig,{fid:t.fid,registrationStatus:0}),PP}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:jE(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function jE(e){let t=await UE(e.appConfig);for(;1===t.registrationStatus;)await _E(100),t=await UE(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await FE(e);return n||t}return t}function UE(e){return BE(e,e=>{if(!e)throw pE.create("installation-not-found");return VE(e)})}function VE(e){return 1===(t=e).registrationStatus&&t.registrationTime+uE<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function zE(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(mE(e),"/").concat(n,"/authTokens:generate")}(n,t),i=bE(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:hE,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(s)},l=await EE(()=>fetch(o,c));if(l.ok){return yE(await l.json())}throw await vE("Generate Auth Token",l)}async function HE(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await BE(e.appConfig,r=>{if(!GE(r))throw pE.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fE}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await WE(e.appConfig);for(;1===n.authToken.requestStatus;)await _E(100),n=await WE(e.appConfig);const r=n.authToken;return 0===r.requestStatus?HE(e,t):r}(e,n),r;{if(!navigator.onLine)throw pE.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return u(u({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await zE(e,t),r=u(u({},t),{},{authToken:n});return await ME(e.appConfig,r),n}catch(PP){if(!gE(PP)||401!==PP.customData.serverCode&&404!==PP.customData.serverCode){const n=u(u({},t),{},{authToken:{requestStatus:0}});await ME(e.appConfig,n)}else await LE(e.appConfig);throw PP}}(e,n),n}});return t?await t:r.authToken}function WE(e){return BE(e,e=>{if(!GE(e))throw pE.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+uE<Date.now()?u(u({},e),{},{authToken:{requestStatus:0}}):e;var n})}function GE(e){return void 0!==e&&2===e.registrationStatus}async function qE(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await FE(e);t&&await t}(n);return(await HE(n,t)).token}function XE(e){return pE.create("missing-app-config-values",{valueName:e})}const KE="installations",YE=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw XE("App Configuration");if(!e.name)throw XE("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw XE(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:xr(t,"heartbeat"),_delete:()=>Promise.resolve()}},QE=e=>{const t=xr(e.getProvider("app").getImmediate(),KE).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await FE(t);return r?r.catch(console.error):HE(t).catch(console.error),n.fid}(t),getToken:e=>qE(t,e)}};kr(new En(KE,YE,"PUBLIC")),kr(new En("installations-internal",QE,"PRIVATE")),jr(cE,lE),jr(cE,lE,"esm2020");const ZE="analytics",JE="https://www.googletagmanager.com/gtag/js",$E=new kn("@firebase/analytics"),e_=new un("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function t_(e){if(!e.startsWith(JE)){const t=e_.create("invalid-gtag-resource",{gtagURL:e});return $E.warn(t.message),""}return e}function n_(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function r_(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:t_}),r=document.createElement("script"),o="".concat(JE,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function o_(e,t,n,r){return async function(o){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if("event"===o){const[r,o]=a;await async function(e,t,n,r,o){try{let i=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await n_(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){i=[];break}i.push(o)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,o||{})}catch(PP){$E.error(PP)}}(e,t,n,r,o)}else if("config"===o){const[o,i]=a;await async function(e,t,n,r,o,i){const a=r[o];try{if(a)await t[a];else{const e=(await n_(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(PP){$E.error(PP)}e("config",o,i)}(e,t,n,r,o,i)}else if("consent"===o){const[t,n]=a;e("consent",t,n)}else if("get"===o){const[t,n,r]=a;e("get",t,n,r)}else if("set"===o){const[t]=a;e("set",t)}else e(o,...a)}catch(PP){$E.error(PP)}}}const i_=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function a_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function s_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i_,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:i}=e.options;if(!r)throw e_.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw e_.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new l_;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),c_({appId:r,apiKey:o,measurementId:i},a,s,t)}async function c_(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i_;const{appId:a,measurementId:s}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(e_.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(PP){if(s)return $E.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===PP||void 0===PP?void 0:PP.message,"]")),{appId:a,measurementId:s};throw PP}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:a_(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(o,r);if(200!==i.status&&304!==i.status){let e="";try{var a;const t=await i.json();null!==(a=t.error)&&void 0!==a&&a.message&&(e=t.error.message)}catch(s){}throw e_.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return i.deleteThrottleMetadata(a),t}catch(PP){var c;const r=PP;if(!function(e){if(!(e instanceof ln)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(a),s)return $E.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:s};throw PP}const l=503===Number(null===r||void 0===r||null===(c=r.customData)||void 0===c?void 0:c.httpStatus)?wn(o,i.intervalMillis,30):wn(o,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1};return i.setThrottleMetadata(a,u),$E.debug("Calling attemptFetch again in ".concat(l," millis")),c_(e,u,n,i)}}class l_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let u_,h_;function d_(e){h_=e}function f_(e){u_=e}async function p_(e,t,n,r,o,i,a){var s;const c=s_(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&$E.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>$E.error(e)),t.push(c);const l=async function(){if(!sn())return $E.warn(e_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await cn()}catch(PP){return $E.warn(e_.create("indexeddb-unavailable",{errorInfo:null===PP||void 0===PP?void 0:PP.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,h]=await Promise.all([c,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(JE)&&n.src.includes(e))return n;return null})(i)||r_(i,u.measurementId),h_&&(o("consent","default",h_),d_(void 0)),o("js",new Date);const d=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),o("config",u.measurementId,d),u_&&(o("set",u_),f_(void 0)),u.measurementId}class g_{constructor(e){this.app=e}_delete(){return delete m_[this.app.options.appId],Promise.resolve()}}let m_={},y_=[];const v_={};let w_,b_,E_="dataLayer",__="gtag",C_=!1;function S_(){const e=[];if(on()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=e_.create("invalid-analytics-context",{errorInfo:t});$E.warn(n.message)}}function A_(e,t,n){S_();const r=e.options.appId;if(!r)throw e_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw e_.create("no-api-key");$E.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=m_[r])throw e_.create("already-exists",{id:r});if(!C_){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(E_);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=o_(i,e,t,n),{gtagCore:i,wrappedGtag:window[o]}}(m_,y_,v_,E_,__);b_=e,w_=t,C_=!0}m_[r]=p_(e,y_,v_,t,w_,E_,n);return new g_(e)}function I_(e,t,n){e=bn(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(b_,m_[e.app.options.appId],t,n).catch(e=>$E.error(e))}function T_(e,t,n,r){e=bn(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,u(u({},r),{},{send_to:o}))}}(b_,m_[e.app.options.appId],t,n,r).catch(e=>$E.error(e))}const N_="@firebase/analytics",O_="0.10.19";kr(new En(ZE,(e,t)=>{let{options:n}=t;return A_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),kr(new En("analytics-internal",function(e){try{const t=e.getProvider(ZE).getImmediate();return{logEvent:(e,n,r)=>T_(t,e,n,r),setUserProperties:(e,n)=>I_(t,e,n)}}catch(PP){throw e_.create("interop-component-reg-failed",{reason:PP})}},"PRIVATE")),jr(N_,O_),jr(N_,O_,"esm2020");jr("firebase","12.7.0","app");function R_(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function k_(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>k_(e));if("function"===typeof e||"object"===typeof e)return R_(e,e=>k_(e));throw new Error("Data cannot be encoded in JSON: "+e)}function x_(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>x_(e)):"function"===typeof e||"object"===typeof e?R_(e,e=>x_(e)):e}const D_="functions",P_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M_ extends ln{constructor(e,t,n){super("".concat(D_,"/").concat(e),t||""),this.details=n,Object.setPrototypeOf(this,M_.prototype)}}function L_(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),o=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!P_[t])return new M_("internal","internal");r=P_[t],o=t}const i=e.message;"string"===typeof i&&(o=i),n=e.details,void 0!==n&&(n=x_(n))}}catch(PP){}return"ok"===r?null:new M_(r,o,n)}class B_{constructor(e,t,n,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(e=>this.auth=e,()=>{}),this.messaging||n.get().then(e=>this.messaging=e,()=>{}),this.appCheck||null===r||void 0===r||r.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(PP){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(PP){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const F_="us-central1",j_=/^data: (.*?)(?:\n|$)/;class U_{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:F_,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new B_(e,t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(o);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=F_}catch(PP){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function V_(e,t,n){const r=r=>function(e,t,n,r){const o=e._url(t);return G_(e,o,n,r)}(e,t,r,n||{});return r.stream=(n,r)=>function(e,t,n,r){const o=e._url(t);return q_(e,o,n,r||{})}(e,t,n,r),r}function z_(e){return e.emulatorOrigin&&Qt(e.emulatorOrigin)?"include":void 0}async function H_(e,t,n,r,o){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:z_(o)})}catch(PP){return{status:0,json:null}}let a=null;try{a=await i.json()}catch(PP){}return{status:i.status,json:a}}async function W_(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),null!==r.appCheckToken&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}async function G_(e,t,n,r){const o={data:n=k_(n)},i=await W_(e,r),a=function(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new M_("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),s=await Promise.race([H_(t,o,i,e.fetchImpl,e),a.promise,e.cancelAllRequests]);if(a.cancel(),!s)throw new M_("cancelled","Firebase Functions instance was deleted.");const c=L_(s.status,s.json);if(c)throw c;if(!s.json)throw new M_("internal","Response is not valid JSON object.");let l=s.json.data;if("undefined"===typeof l&&(l=s.json.result),"undefined"===typeof l)throw new M_("internal","Response is missing data field.");return{data:x_(l)}}async function q_(e,t,n,r){var o;const i={data:n=k_(n)},a=await W_(e,r);let s,c,l;a["Content-Type"]="application/json",a.Accept="text/event-stream";try{s=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(i),headers:a,signal:null===r||void 0===r?void 0:r.signal,credentials:z_(e)})}catch(PP){if(PP instanceof Error&&"AbortError"===PP.name){const e=new M_("cancelled","Request was cancelled.");return{data:Promise.reject(e),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(e)})}}}const t=L_(0,null);return{data:Promise.reject(t),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(t)})}}}const u=new Promise((e,t)=>{c=e,l=t});null===r||void 0===r||null===(o=r.signal)||void 0===o||o.addEventListener("abort",()=>{const e=new M_("cancelled","Request was cancelled.");l(e)});const h=function(e,t,n,r){const o=(e,r)=>{const o=e.match(j_);if(!o)return;const i=o[1];try{const e=JSON.parse(i);if("result"in e)return void t(x_(e.result));if("message"in e)return void r.enqueue(x_(e.message));if("error"in e){const t=L_(0,e);return r.error(t),void n(t)}}catch(a){if(a instanceof M_)return r.error(a),void n(a)}},i=new TextDecoder;return new ReadableStream({start(t){let a="";return s();async function s(){if(null!==r&&void 0!==r&&r.aborted){const e=new M_("cancelled","Request was cancelled");return t.error(e),n(e),Promise.resolve()}try{const{value:c,done:l}=await e.read();if(l)return a.trim()&&o(a.trim(),t),void t.close();if(null!==r&&void 0!==r&&r.aborted){const r=new M_("cancelled","Request was cancelled");return t.error(r),n(r),void await e.cancel()}a+=i.decode(c,{stream:!0});const u=a.split("\n");a=u.pop()||"";for(const e of u)e.trim()&&o(e.trim(),t);return s()}catch(c){const e=c instanceof M_?c:L_(0,null);t.error(e),n(e)}}},cancel:()=>e.cancel()})}(s.body.getReader(),c,l,null===r||void 0===r?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const e=h.getReader();return{async next(){const{value:t,done:n}=await e.read();return{value:t,done:n}},return:async()=>(await e.cancel(),{done:!0,value:void 0})}}},data:u}}const X_="@firebase/functions",K_="0.13.1";function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F_;const n=xr(bn(e),D_).getImmediate({identifier:t}),r=qt("functions");return r&&function(e,t,n){!function(e,t,n){const r=Qt(t);e.emulatorOrigin="http".concat(r?"s":"","://").concat(t,":").concat(n),r&&(Zt(e.emulatorOrigin+"/backends"),tn("Functions",!0))}(bn(e),t,n)}(n,...r),n}!function(e){kr(new En(D_,(e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new U_(r,o,i,a,n)},"PUBLIC").setMultipleInstances(!0)),jr(X_,K_,e),jr(X_,K_,"esm2020")}();const Q_="firebasestorage.googleapis.com",Z_="storageBucket";class J_ extends ln{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(tC(e),"Firebase Storage: ".concat(t," (").concat(tC(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,J_.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var $_,eC;function tC(e){return"storage/"+e}function nC(){return new J_($_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rC(){return new J_($_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oC(){return new J_($_.CANCELED,"User canceled the upload/download.")}function iC(){return new J_($_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aC(e){return new J_($_.INVALID_ARGUMENT,e)}function sC(){return new J_($_.APP_DELETED,"The Firebase app was deleted.")}function cC(e,t){return new J_($_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function lC(e){throw new J_($_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}($_||($_={}));class uC{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=uC.makeFromUrl(e,t)}catch(PP){return new uC(e,"")}if(""===n.path)return n;throw r=e,new J_($_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Q_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let c=0;c<s.length;c++){const t=s[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new uC(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new J_($_.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class hC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function dC(e){return"string"===typeof e||e instanceof String}function fC(e){return pC()&&e instanceof Blob}function pC(){return"undefined"!==typeof Blob}function gC(e,t,n,r){if(r<t)throw aC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw aC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mC(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function vC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(eC||(eC={}));class wC{constructor(e,t,n,r,o,i,a,s,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new bC(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===eC.NO_ERROR,o=n.getStatus();if(!t||vC(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===eC.ABORT;return void e(!1,new bC(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new bC(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(PP){r(PP)}else if(null!==o){const e=nC();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?sC():oC())}else{r(rC())}};this.canceled_?t(0,new bC(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,a=!1,s=0;function c(){return 2===s}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){o=setTimeout(()=>{o=null,e(f,c())},t)}function d(){i&&clearTimeout(i)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return d(),void u.call(null,e,...n);if(c()||a)return d(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function g(e){p||(p=!0,d(),l||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),i=setTimeout(()=>{a=!0,g(!0)},n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bC{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function EC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _C(){const e=EC();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(pC())return new Blob(n);throw new J_($_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function CC(e){if("undefined"===typeof atob)throw t="base-64",new J_($_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const SC="raw",AC="base64",IC="base64url",TC="data_url";class NC{constructor(e,t){this.data=e,this.contentType=t||null}}function OC(e,t){switch(e){case SC:return new NC(RC(t));case AC:case IC:return new NC(kC(e,t));case TC:return new NC(function(e){const t=new xC(e);return t.base64?kC(AC,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(PP){throw cC(TC,"Malformed data URL.")}return RC(t)}(t.rest)}(t),new xC(t).contentType)}throw nC()}function RC(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function kC(e,t){switch(e){case AC:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw cC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case IC:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw cC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CC(t)}catch(PP){if(PP.message.includes("polyfill"))throw PP;throw cC(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class xC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw cC(TC,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class DC{constructor(e,t){let n=0,r="";fC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(fC(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new DC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new DC(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(pC()){const e=t.map(e=>e instanceof DC?e.data_:e);return new DC(_C.apply(null,e))}{const e=t.map(e=>dC(e)?OC(SC,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let o=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[o++]=e[t]}),new DC(r,!0)}}uploadData(){return this.data_}}function PC(e){let t;try{t=JSON.parse(e)}catch(PP){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function MC(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function LC(e,t){return t}class BC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||LC}}let FC=null;function jC(){if(FC)return FC;const e=[];e.push(new BC("bucket")),e.push(new BC("generation")),e.push(new BC("metageneration")),e.push(new BC("name","fullPath",!0));const t=new BC("name");t.xform=function(e,t){return function(e){return!dC(e)||e.length<2?e:MC(e)}(t)},e.push(t);const n=new BC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new BC("timeCreated")),e.push(new BC("updated")),e.push(new BC("md5Hash",null,!0)),e.push(new BC("cacheControl",null,!0)),e.push(new BC("contentDisposition",null,!0)),e.push(new BC("contentEncoding",null,!0)),e.push(new BC("contentLanguage",null,!0)),e.push(new BC("contentType",null,!0)),e.push(new BC("metadata","customMetadata",!0)),FC=e,FC}function UC(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,o=new uC(n,r);return t._makeStorageReference(o)}})}(r,e),r}function VC(e,t,n){const r=PC(t);if(null===r)return null;return UC(e,r,n)}function zC(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const r=t[o];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class HC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WC(e){if(!e)throw nC()}function GC(e,t){return function(n,r){const o=VC(e,r,t);return WC(null!==o),o}}function qC(e,t){return function(n,r){const o=VC(e,r,t);return WC(null!==o),function(e,t,n,r){const o=PC(t);if(null===o)return null;if(!dC(o.downloadTokens))return null;const i=o.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(t=>{const o=e.bucket,i=e.fullPath;return mC("/b/"+a(o)+"/o/"+a(i),n,r)+yC({alt:"media",token:t})})[0]}(o,r,e.host,e._protocol)}}function XC(e){return function(t,n){let r;var o,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new J_($_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new J_($_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new J_($_.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,r=new J_($_.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function KC(e){const t=XC(e);return function(n,r){let o=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,o=new J_($_.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function YC(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function QC(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const c=YC(t,r,o),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zC(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+s+"--",h=DC.getBlob(l,r,u);if(null===h)throw iC();const d={name:c.fullPath},f=mC(i,e.host,e._protocol),p=e.maxUploadRetryTime,g=new HC(f,"POST",GC(e,n),p);return g.urlParams=d,g.headers=a,g.body=h.uploadData(),g.errorHandler=XC(t),g}class ZC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eC.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eC.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eC.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,o){if(this.sent_)throw lC("cannot .send() more than once");if(Qt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(PP){return-1}}getResponse(){if(!this.sent_)throw lC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class JC extends ZC{initXhr(){this.xhr_.responseType="text"}}function $C(){return new JC}class eS{constructor(e,t){this._service=e,this._location=t instanceof uC?t:uC.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new eS(e,t)}get root(){const e=new uC(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MC(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new uC(this._location.bucket,e);return new eS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new J_($_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function tS(e,t,n){e._throwIfRoot("uploadBytes");const r=QC(e.storage,e._location,jC(),new DC(t,!0),n);return e.storage.makeRequestWithTokens(r,$C).then(t=>({metadata:t,ref:e}))}function nS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=mC(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,i=new HC(r,"GET",qC(e,n),o);return i.errorHandler=KC(t),i}(e.storage,e._location,jC());return e.storage.makeRequestWithTokens(t,$C).then(e=>{if(null===e)throw new J_($_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function rS(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new uC(e._location.bucket,n);return new eS(e.storage,r)}function oS(e,t){if(e instanceof sS){const n=e;if(null==n._bucket)throw new J_($_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Z_+"' property when initializing the app?");const r=new eS(n,n._bucket);return null!=t?oS(r,t):r}return void 0!==t?rS(e,t):e}function iS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof sS)return new eS(e,t);throw aC("To use ref(service, url), the first argument must be a Storage instance.")}return oS(e,t)}function aS(e,t){const n=null===t||void 0===t?void 0:t[Z_];return null==n?null:uC.makeFromBucketSpec(n,e)}class sS{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=Q_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?uC.makeFromBucketSpec(r,this._host):aS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=uC.makeFromBucketSpec(this._url,e):this._bucket=aS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eS(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new hC(sC());{const i=function(e,t,n,r,o,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const c=yC(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new wC(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cS="@firebase/storage",lS="0.14.0",uS="storage";function hS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new sS(r,o,i,n,Lr)}kr(new En(uS,hS,"PUBLIC").setMultipleInstances(!0)),jr(cS,lS,""),jr(cS,lS,"esm2020");const dS=Br({apiKey:"AIzaSyD_a2jwBTx-9u3wNauFXWl2CrBQV4l3oMU",authDomain:"kitchenmanager-80fb3.firebaseapp.com",projectId:"kitchenmanager-80fb3",storageBucket:"kitchenmanager-80fb3.appspot.com",messagingSenderId:"628888454941",appId:"1:628888454941:web:0fd9d23ed00508eb1ec3f4",measurementId:"G-GVSDPV6Z7S"});!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();e=bn(e);const t=xr(e,ZE);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=xr(e,ZE);if(n.isInitialized()){const e=n.getImmediate();if(dn(t,n.getOptions()))return e;throw e_.create("already-initialized")}const r=n.initialize({options:t})}(e)}(dS);const fS=aE(dS),pS=function(e,t){const n="object"==typeof e?e:Fr(),r="string"==typeof e?e:t||Ea,o=xr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=qt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=ti(e,Bd);const o=Qt(t),i=e._getSettings(),a=u(u({},i),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);o&&(Zt("https://".concat(s)),tn("Firestore",!0)),i.host!==Pd&&i.host!==s&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=u(u({},i),{},{host:s,ssl:o,emulatorOptions:r});if(!dn(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fo.MOCK_USER;else{var l;t=Jt(r.mockUserToken,null===(l=e._app)||void 0===l?void 0:l.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Io(Ao.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fo(o)}e._authCredentials=new Ro(new No(t,n))}}(o,...e)}return o}(dS),gS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr(),t=arguments.length>1?arguments[1]:void 0;e=bn(e);const n=xr(e,uS).getImmediate({identifier:t}),r=qt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const o=Qt(t);o&&(Zt("https://".concat(e.host,"/b")),tn("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Jt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(dS),mS=(Y_(dS),(0,e.createContext)());function yS(t){let{children:n}=t;const[r,o]=(0,e.useState)(null),[i,a]=(0,e.useState)(null),[s,c]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=Fw(aE(),async e=>{if(o(e),!e)return a(null),void c(!1);try{const t=zd(pS,"usuarios",e.uid),n=await Wf(t);let r=n.exists()?n.data():{};if("admin"===r.tipo){const t=Of(Vd(pS,"estabelecimentos"),kf("adminId","==",e.uid)),n=await qf(t);n.empty?(r.estabelecimentoId=null,r.nomeEmpresa="N/D"):(r.estabelecimentoId=n.docs[0].id,r.nomeEmpresa=n.docs[0].data().nome||"N/D")}if("colaborador"===r.tipo&&r.estabelecimentoId){const e=zd(pS,"estabelecimentos",r.estabelecimentoId),t=await Wf(e);t.exists()?r.nomeEmpresa=t.data().nome||"N/D":r.nomeEmpresa="N/D"}a(u({uid:e.uid},r))}catch(t){console.error("Erro ao carregar dados do usu\xe1rio:",t),a({uid:e.uid,nomeEmpresa:"N/D"})}c(!1)});return()=>e()},[]);return(0,Lt.jsx)(mS.Provider,{value:{user:r,userData:i,loading:s,logout:async()=>{try{const e=aE();await jw(e),o(null),a(null)}catch(e){console.error("Erro ao sair:",e)}}},children:n})}function vS(){return(0,e.useContext)(mS)}const wS=function(){const{user:t,logout:n}=vS(),[r,o]=(0,e.useState)(null),i=Se();(0,e.useEffect)(()=>{(async()=>{if(t)try{const e=zd(pS,"usuarios",t.uid),n=await Wf(e);n.exists()&&o(n.data().tipo)}catch(e){console.error("Erro ao carregar tipo de usu\xe1rio:",e)}else o(null)})()},[t]);const a="admin"===r;return(0,Lt.jsx)(Qm,{bg:"dark",variant:"dark",expand:"lg",className:"shadow",children:(0,Lt.jsxs)($m,{children:[(0,Lt.jsx)(Qm.Brand,{style:{cursor:"pointer"},onClick:()=>{i("admin"===r?"/admin":"colaborador"===r?"/painel-colaborador":"/")},children:"KitchenManager"}),(0,Lt.jsx)(Qm.Toggle,{"aria-controls":"menu-navbar"}),(0,Lt.jsx)(Qm.Collapse,{id:"menu-navbar",children:(0,Lt.jsxs)(Oy,{className:"ms-auto",children:[a&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)(Oy.Link,{as:Nt,to:"/cadastro-usuario",children:"Cadastro Usu\xe1rio"}),(0,Lt.jsx)(Oy.Link,{as:Nt,to:"/admin",children:"Painel Admin"}),(0,Lt.jsx)(Oy.Link,{as:Nt,to:"/painel-colaborador",children:"Painel Colaborador"})]}),(0,Lt.jsx)(xy,{variant:"danger",className:"ms-3",onClick:async()=>{await n(),i("/login")},children:"Sair"})]})})]})})};const bS=function(t){let{element:n}=t;const[r,o]=(0,e.useState)(!0),[i,a]=(0,e.useState)(null);return(0,e.useEffect)(()=>{const e=Fw(aE(),e=>{a(e),o(!1)});return()=>e()},[]),r?(0,Lt.jsx)("p",{className:"text-center mt-5",children:"\ud83d\udd12 Verificando acesso..."}):i?n:(0,Lt.jsx)(We,{to:"/login"})},ES=["className","bsPrefix","as"],_S=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,a=i(e,ES);return r=gp(r,"card-body"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});_S.displayName="CardBody";const CS=_S,SS=["className","bsPrefix","as"],AS=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,a=i(e,SS);return r=gp(r,"card-footer"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});AS.displayName="CardFooter";const IS=AS,TS=["bsPrefix","className","as"],NS=e.forwardRef((t,n)=>{let{bsPrefix:r,className:o,as:a="div"}=t,s=i(t,TS);const c=gp(r,"card-header"),l=(0,e.useMemo)(()=>({cardHeaderBsPrefix:c}),[c]);return(0,Lt.jsx)(yy.Provider,{value:l,children:(0,Lt.jsx)(a,u(u({ref:n},s),{},{className:ep()(o,c)}))})});NS.displayName="CardHeader";const OS=NS,RS=["bsPrefix","className","variant","as"],kS=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,variant:o,as:a="img"}=e,s=i(e,RS);const c=gp(n,"card-img");return(0,Lt.jsx)(a,u({ref:t,className:ep()(o?"".concat(c,"-").concat(o):c,r)},s))});kS.displayName="CardImg";const xS=kS,DS=["className","bsPrefix","as"],PS=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,a=i(e,DS);return r=gp(r,"card-img-overlay"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});PS.displayName="CardImgOverlay";const MS=PS,LS=["className","bsPrefix","as"],BS=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="a"}=e,a=i(e,LS);return r=gp(r,"card-link"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});BS.displayName="CardLink";const FS=BS,jS=["className","bsPrefix","as"],US=Cm("h6"),VS=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o=US}=e,a=i(e,jS);return r=gp(r,"card-subtitle"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});VS.displayName="CardSubtitle";const zS=VS,HS=["className","bsPrefix","as"],WS=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="p"}=e,a=i(e,HS);return r=gp(r,"card-text"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});WS.displayName="CardText";const GS=WS,qS=["className","bsPrefix","as"],XS=Cm("h5"),KS=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o=XS}=e,a=i(e,qS);return r=gp(r,"card-title"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});KS.displayName="CardTitle";const YS=KS,QS=["bsPrefix","className","bg","text","border","body","children","as"],ZS=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,bg:o,text:a,border:s,body:c=!1,children:l,as:h="div"}=e,d=i(e,QS);const f=gp(n,"card");return(0,Lt.jsx)(h,u(u({ref:t},d),{},{className:ep()(r,f,o&&"bg-".concat(o),a&&"text-".concat(a),s&&"border-".concat(s)),children:c?(0,Lt.jsx)(CS,{children:l}):l}))});ZS.displayName="Card";const JS=Object.assign(ZS,{Img:xS,Title:YS,Subtitle:zS,Body:CS,Link:FS,Text:GS,Header:OS,Footer:IS,ImgOverlay:MS}),$S=["as","className","type","tooltip"],eA={type:dm().string,tooltip:dm().bool,as:dm().elementType},tA=e.forwardRef((e,t)=>{let{as:n="div",className:r,type:o="valid",tooltip:a=!1}=e,s=i(e,$S);return(0,Lt.jsx)(n,u(u({},s),{},{ref:t,className:ep()(r,"".concat(o,"-").concat(a?"tooltip":"feedback"))}))});tA.displayName="Feedback",tA.propTypes=eA;const nA=tA,rA=e.createContext({}),oA=["id","bsPrefix","className","type","isValid","isInvalid","as"],iA=e.forwardRef((t,n)=>{let{id:r,bsPrefix:o,className:a,type:s="checkbox",isValid:c=!1,isInvalid:l=!1,as:h="input"}=t,d=i(t,oA);const{controlId:f}=(0,e.useContext)(rA);return o=gp(o,"form-check-input"),(0,Lt.jsx)(h,u(u({},d),{},{ref:n,type:s,id:r||f,className:ep()(a,o,c&&"is-valid",l&&"is-invalid")}))});iA.displayName="FormCheckInput";const aA=iA,sA=["bsPrefix","className","htmlFor"],cA=e.forwardRef((t,n)=>{let{bsPrefix:r,className:o,htmlFor:a}=t,s=i(t,sA);const{controlId:c}=(0,e.useContext)(rA);return r=gp(r,"form-check-label"),(0,Lt.jsx)("label",u(u({},s),{},{ref:n,htmlFor:a||c,className:ep()(o,r)}))});cA.displayName="FormCheckLabel";const lA=cA;const uA=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],hA=e.forwardRef((t,n)=>{let{id:r,bsPrefix:o,bsSwitchPrefix:a,inline:s=!1,reverse:c=!1,disabled:l=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:g,className:m,style:y,title:v="",type:w="checkbox",label:b,children:E,as:_="input"}=t,C=i(t,uA);o=gp(o,"form-check"),a=gp(a,"form-switch");const{controlId:S}=(0,e.useContext)(rA),A=(0,e.useMemo)(()=>({controlId:r||S}),[S,r]),I=!E&&null!=b&&!1!==b||function(t,n){return e.Children.toArray(t).some(t=>e.isValidElement(t)&&t.type===n)}(E,lA),T=(0,Lt.jsx)(aA,u(u({},C),{},{type:"switch"===w?"checkbox":w,ref:n,isValid:h,isInvalid:d,disabled:l,as:_}));return(0,Lt.jsx)(rA.Provider,{value:A,children:(0,Lt.jsx)("div",{style:y,className:ep()(m,I&&o,s&&"".concat(o,"-inline"),c&&"".concat(o,"-reverse"),"switch"===w&&a),children:E||(0,Lt.jsxs)(Lt.Fragment,{children:[T,I&&(0,Lt.jsx)(lA,{title:v,children:b}),p&&(0,Lt.jsx)(nA,{type:g,tooltip:f,children:p})]})})})});hA.displayName="FormCheck";const dA=Object.assign(hA,{Input:aA,Label:lA});n(440);const fA=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],pA=e.forwardRef((t,n)=>{let{bsPrefix:r,type:o,size:a,htmlSize:s,id:c,className:l,isValid:h=!1,isInvalid:d=!1,plaintext:f,readOnly:p,as:g="input"}=t,m=i(t,fA);const{controlId:y}=(0,e.useContext)(rA);return r=gp(r,"form-control"),(0,Lt.jsx)(g,u(u({},m),{},{type:o,size:s,ref:n,readOnly:p,id:c||y,className:ep()(l,f?"".concat(r,"-plaintext"):r,a&&"".concat(r,"-").concat(a),"color"===o&&"".concat(r,"-color"),h&&"is-valid",d&&"is-invalid")}))});pA.displayName="FormControl";const gA=Object.assign(pA,{Feedback:nA}),mA=["className","bsPrefix","as"],yA=e.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,a=i(e,mA);return r=gp(r,"form-floating"),(0,Lt.jsx)(o,u({ref:t,className:ep()(n,r)},a))});yA.displayName="FormFloating";const vA=yA,wA=["controlId","as"],bA=e.forwardRef((t,n)=>{let{controlId:r,as:o="div"}=t,a=i(t,wA);const s=(0,e.useMemo)(()=>({controlId:r}),[r]);return(0,Lt.jsx)(rA.Provider,{value:s,children:(0,Lt.jsx)(o,u(u({},a),{},{ref:n}))})});bA.displayName="FormGroup";const EA=bA,_A=["as","bsPrefix","className"],CA=["className"];function SA(t){let{as:n,bsPrefix:r,className:o}=t,a=i(t,_A);r=gp(r,"col");const s=function(){const{breakpoints:t}=(0,e.useContext)(dp);return t}(),c=function(){const{minBreakpoint:t}=(0,e.useContext)(dp);return t}(),l=[],h=[];return s.forEach(e=>{const t=a[e];let n,o,i;delete a[e],"object"===typeof t&&null!=t?({span:n,offset:o,order:i}=t):n=t;const s=e!==c?"-".concat(e):"";n&&l.push(!0===n?"".concat(r).concat(s):"".concat(r).concat(s,"-").concat(n)),null!=i&&h.push("order".concat(s,"-").concat(i)),null!=o&&h.push("offset".concat(s,"-").concat(o))}),[u(u({},a),{},{className:ep()(o,...l,...h)}),{as:n,bsPrefix:r,spans:l}]}const AA=e.forwardRef((e,t)=>{const[n,{as:r="div",bsPrefix:o,spans:a}]=SA(e),{className:s}=n,c=i(n,CA);return(0,Lt.jsx)(r,u(u({},c),{},{ref:t,className:ep()(s,!a.length&&o)}))});AA.displayName="Col";const IA=AA,TA=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],NA=e.forwardRef((t,n)=>{let{as:r="label",bsPrefix:o,column:a=!1,visuallyHidden:s=!1,className:c,htmlFor:l}=t,h=i(t,TA);const{controlId:d}=(0,e.useContext)(rA);o=gp(o,"form-label");let f="col-form-label";"string"===typeof a&&(f="".concat(f," ").concat(f,"-").concat(a));const p=ep()(c,o,s&&"visually-hidden",a&&f);return l=l||d,a?(0,Lt.jsx)(IA,u({ref:n,as:"label",className:p,htmlFor:l},h)):(0,Lt.jsx)(r,u({ref:n,className:p,htmlFor:l},h))});NA.displayName="FormLabel";const OA=NA,RA=["bsPrefix","className","id"],kA=e.forwardRef((t,n)=>{let{bsPrefix:r,className:o,id:a}=t,s=i(t,RA);const{controlId:c}=(0,e.useContext)(rA);return r=gp(r,"form-range"),(0,Lt.jsx)("input",u(u({},s),{},{type:"range",ref:n,className:ep()(o,r),id:a||c}))});kA.displayName="FormRange";const xA=kA,DA=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],PA=e.forwardRef((t,n)=>{let{bsPrefix:r,size:o,htmlSize:a,className:s,isValid:c=!1,isInvalid:l=!1,id:h}=t,d=i(t,DA);const{controlId:f}=(0,e.useContext)(rA);return r=gp(r,"form-select"),(0,Lt.jsx)("select",u(u({},d),{},{size:a,ref:n,className:ep()(s,r,o&&"".concat(r,"-").concat(o),c&&"is-valid",l&&"is-invalid"),id:h||f}))});PA.displayName="FormSelect";const MA=PA,LA=["bsPrefix","className","as","muted"],BA=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:o="small",muted:a}=e,s=i(e,LA);return n=gp(n,"form-text"),(0,Lt.jsx)(o,u(u({},s),{},{ref:t,className:ep()(r,n,a&&"text-muted")}))});BA.displayName="FormText";const FA=BA,jA=e.forwardRef((e,t)=>(0,Lt.jsx)(dA,u(u({},e),{},{ref:t,type:"switch"})));jA.displayName="Switch";const UA=Object.assign(jA,{Input:dA.Input,Label:dA.Label}),VA=["bsPrefix","className","children","controlId","label"],zA=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,children:o,controlId:a,label:s}=e,c=i(e,VA);return n=gp(n,"form-floating"),(0,Lt.jsxs)(EA,u(u({ref:t,className:ep()(r,n),controlId:a},c),{},{children:[o,(0,Lt.jsx)("label",{htmlFor:a,children:s})]}))});zA.displayName="FloatingLabel";const HA=zA,WA=["className","validated","as"],GA={_ref:dm().any,validated:dm().bool,as:dm().elementType},qA=e.forwardRef((e,t)=>{let{className:n,validated:r,as:o="form"}=e,a=i(e,WA);return(0,Lt.jsx)(o,u(u({},a),{},{ref:t,className:ep()(n,r&&"was-validated")}))});qA.displayName="Form",qA.propTypes=GA;const XA=Object.assign(qA,{Group:EA,Control:gA,Floating:vA,Check:dA,Switch:UA,Label:OA,Text:FA,Range:xA,Select:MA,FloatingLabel:HA});const KA=function(){const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(""),[i,a]=(0,e.useState)(""),[s,c]=(0,e.useState)("");return(0,Lt.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,Lt.jsxs)(JS,{className:"p-4 shadow-lg w-100",style:{maxWidth:"500px"},children:[(0,Lt.jsx)("h3",{className:"text-center mb-3 text-primary",children:"Cadastro de Estabelecimento"}),(0,Lt.jsxs)(XA,{onSubmit:async e=>{e.preventDefault();try{await async function(e){const t=aE().currentUser;if(!t)throw new Error("Usu\xe1rio n\xe3o est\xe1 logado!");try{const n=await Yf(Vd(pS,"estabelecimentos"),{nome:e.nome,endereco:e.endereco,telefone:e.telefone,adminId:t.uid,criado_em:Jf()});return console.log("Estabelecimento cadastrado com ID:",n.id),n.id}catch(n){throw console.error("Erro ao cadastrar estabelecimento:",n),n}}({nome:t,cnpj:r,endereco:i,telefone:s}),alert("Estabelecimento cadastrado com sucesso!"),n(""),o(""),a(""),c("")}catch(l){alert("Erro ao cadastrar estabelecimento: "+l.message)}},children:[(0,Lt.jsxs)(XA.Group,{className:"mb-3",children:[(0,Lt.jsx)(XA.Label,{children:"Nome do Estabelecimento"}),(0,Lt.jsx)(XA.Control,{type:"text",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,Lt.jsxs)(XA.Group,{className:"mb-3",children:[(0,Lt.jsx)(XA.Label,{children:"CNPJ"}),(0,Lt.jsx)(XA.Control,{type:"text",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,Lt.jsxs)(XA.Group,{className:"mb-3",children:[(0,Lt.jsx)(XA.Label,{children:"Endere\xe7o"}),(0,Lt.jsx)(XA.Control,{type:"text",value:i,onChange:e=>a(e.target.value),required:!0})]}),(0,Lt.jsxs)(XA.Group,{className:"mb-3",children:[(0,Lt.jsx)(XA.Label,{children:"Telefone"}),(0,Lt.jsx)(XA.Control,{type:"text",value:s,onChange:e=>c(e.target.value),required:!0})]}),(0,Lt.jsx)("div",{className:"d-grid",children:(0,Lt.jsx)(xy,{type:"submit",variant:"primary",children:"Cadastrar"})})]})]})})};function YA(){const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(""),[i,a]=(0,e.useState)(""),[s,c]=(0,e.useState)(""),[l,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),f=Se();return(0,Lt.jsx)("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:(0,Lt.jsxs)("div",{className:"card shadow p-4",style:{width:"420px"},children:[(0,Lt.jsx)("h3",{className:"text-center mb-3",children:"Cadastro de Respons\xe1vel"}),(0,Lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l===h)try{const e=await async function(e,t,n){if(Dr(e.app))return Promise.reject(Wy(e));const r=Yv(e),o=iw(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tw,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Lw(e),t}),a=await Nw._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}(fS,i,l);await function(e,t,n){e=ti(e,jd);const r=ti(e.firestore,qd),o=Ff(e.converter,t,n);return Qf(r,[cf(sf(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,mc.none())])}(zd(pS,"usuarios",e.user.uid),{nome:t,cpf:r,email:i,telefone:s,tipo:"admin",criadoEm:new Date}),alert("Usu\xe1rio cadastrado com sucesso! Agora cadastre o estabelecimento."),f("/cadastro-estabelecimento")}catch(n){alert("Erro ao cadastrar usu\xe1rio: "+n.message)}else alert("As senhas n\xe3o coincidem!")},children:[(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"Nome completo",value:t,onChange:e=>n(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"CPF",value:r,onChange:e=>o(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-2",type:"email",placeholder:"Email",value:i,onChange:e=>a(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"Telefone",value:s,onChange:e=>c(e.target.value)}),(0,Lt.jsx)("input",{className:"form-control mb-2",type:"password",placeholder:"Senha",value:l,onChange:e=>u(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-3",type:"password",placeholder:"Confirmar senha",value:h,onChange:e=>d(e.target.value),required:!0}),(0,Lt.jsx)("button",{className:"btn btn-success w-100 mb-2",children:"Cadastrar"})]}),(0,Lt.jsx)("div",{className:"text-center mt-2",children:(0,Lt.jsxs)("small",{children:["J\xe1 possui conta? ",(0,Lt.jsx)("a",{href:"/",children:"Fa\xe7a login"})]})})]})})}async function QA(e,t,n,r){try{const o=Vd(pS,"estabelecimentos",e,"historicoEstoque"),i={acao:t,produto:n,usuario:{uid:(null===r||void 0===r?void 0:r.uid)||null,nome:(null===r||void 0===r?void 0:r.nome)||"Sistema",tipo:(null===r||void 0===r?void 0:r.tipo)||null},createdAt:Jf()};await Yf(o,i)}catch(o){console.error("Erro ao gerar hist\xf3rico:",o)}}const ZA=function(){const{id:t,categoria:n}=Ae(),[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)({nome:"",validade:"",quantidade:"",unidade:""});(0,e.useEffect)(()=>{s()},[t,n]);const s=async()=>{const e=await async function(e){try{const t=Vd(pS,"estabelecimentos",e,"produtos");return(await qf(t)).docs.map(e=>u({id:e.id},e.data()))}catch(t){return console.error("Erro ao listar produtos:",t),[]}}(t);o(e)},c=async e=>{await async function(e,t,n){try{const r=zd(pS,"estabelecimentos",e,"produtos",t),o=await Wf(r),i=o.exists()?u({id:o.id},o.data()):{id:t};return await Kf(r),await QA(e,"excluido",{antes:i},n),!0}catch(r){return console.error("Erro ao excluir produto:",r),!1}}(e),s()},l=async e=>{const t=prompt("Novo nome do produto:");t&&(await async function(e,t,n,r){try{const o=zd(pS,"estabelecimentos",e,"produtos",t),i=await Wf(o),a=i.exists()?u({id:i.id},i.data()):null,s={nome:n.nome,validade:n.validade||null,quantidade:Number(n.quantidade)||0,categoria:n.categoria||"",atualizadoPor:{uid:(null===r||void 0===r?void 0:r.uid)||null,nome:(null===r||void 0===r?void 0:r.nome)||"Sistema"},atualizadoEm:Jf()};return await Xf(o,s),await QA(e,"editado",{antes:a,depois:u({id:t},s)},r),!0}catch(o){return console.error("Erro ao editar produto:",o),!1}}(e,{nome:t}),s())};return(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsxs)("h3",{children:["Categoria: ",(0,Lt.jsx)("strong",{children:n.toUpperCase()})]}),(0,Lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await async function(e,t,n){try{const r=Vd(pS,"estabelecimentos",e,"produtos"),o={nome:t.nome||"",validade:t.validade||null,quantidade:Number(t.quantidade)||0,categoria:t.categoria||"",criadoPor:{uid:(null===n||void 0===n?void 0:n.uid)||null,nome:(null===n||void 0===n?void 0:n.nome)||"Sistema"},criadoEm:Jf()},i=await Yf(r,o);return await QA(e,"adicionado",u({id:i.id},o),n),i.id}catch(r){return console.error("Erro ao adicionar produto:",r),null}}(t,n,i),a({nome:"",validade:"",quantidade:"",unidade:""}),s()},className:"mb-3",children:[(0,Lt.jsx)("input",{placeholder:"Nome do Produto",className:"form-control mb-2",value:i.nome,onChange:e=>a(u(u({},i),{},{nome:e.target.value})),required:!0}),(0,Lt.jsx)("input",{type:"date",className:"form-control mb-2",value:i.validade,onChange:e=>a(u(u({},i),{},{validade:e.target.value})),required:!0}),(0,Lt.jsx)("input",{placeholder:"Quantidade",className:"form-control mb-2",type:"number",value:i.quantidade,onChange:e=>a(u(u({},i),{},{quantidade:e.target.value})),required:!0}),(0,Lt.jsx)("input",{placeholder:"Unidade (ex: kg, un, L)",className:"form-control mb-2",value:i.unidade,onChange:e=>a(u(u({},i),{},{unidade:e.target.value})),required:!0}),(0,Lt.jsx)("button",{className:"btn btn-primary w-100",children:"Adicionar Produto"})]}),(0,Lt.jsx)("ul",{className:"list-group",children:0===r.length?(0,Lt.jsx)("li",{className:"list-group-item text-center text-muted",children:"Nenhum produto cadastrado ainda."}):r.map(e=>(0,Lt.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("strong",{children:e.nome})," ",(0,Lt.jsx)("br",{}),(0,Lt.jsxs)("small",{children:["Validade: ",e.validade," | ",e.quantidade," ",e.unidade]})]}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("button",{className:"btn btn-sm btn-warning me-2",onClick:()=>l(e.id),children:"Editar"}),(0,Lt.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>c(e.id),children:"Excluir"})]})]},e.id))})]})};async function JA(e){const t=Of(Vd(pS,"categorias"),kf("estabelecimentoId","==",e));return(await qf(t)).docs.map(e=>u({id:e.id},e.data()))}const $A=function(){const{id:t}=Ae(),{userData:n}=vS(),[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)({nome:""}),[s,c]=(0,e.useState)(null),[l,h]=(0,e.useState)("");(0,e.useEffect)(()=>{d(),f()},[t]);const d=async()=>{try{const e=await JA(t);o(e)}catch(e){console.error("Erro ao carregar categorias:",e),alert("Erro ao carregar categorias.")}},f=async()=>{try{const e=zd(pS,"estabelecimentos",t),n=await Wf(e);n.exists()?h(n.data().nome):h("Estabelecimento n\xe3o encontrado")}catch(e){console.error("Erro ao carregar estabelecimento:",e),h("Erro ao carregar estabelecimento")}},p=async e=>{if(window.confirm("Deseja realmente excluir esta categoria?"))try{await async function(e){const t=zd(pS,"categorias",e);await Kf(t)}(e),d(),alert("Categoria exclu\xedda com sucesso!")}catch(t){console.error("Erro ao excluir categoria:",t),alert("Erro ao excluir categoria.")}};return(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsx)("h3",{children:"Categorias"}),(0,Lt.jsxs)("p",{className:"text-muted mb-2",children:["Estabelecimento: ",(0,Lt.jsx)("strong",{children:l})]}),(0,Lt.jsxs)("p",{className:"text-muted mb-3",children:["Usu\xe1rio logado: ",(0,Lt.jsx)("strong",{children:(null===n||void 0===n?void 0:n.nome)||"Funcion\xe1rio"})]}),(0,Lt.jsxs)("form",{onSubmit:s?async e=>{if(e.preventDefault(),!i.nome.trim())return alert("Informe o nome da categoria!");try{await async function(e,t){const n=zd(pS,"categorias",e);await Xf(n,t)}(s.id,i),c(null),a({nome:""}),d(),alert("Categoria atualizada com sucesso!")}catch(t){console.error("Erro ao editar categoria:",t),alert("Erro ao atualizar categoria.")}}:async e=>{if(e.preventDefault(),!i.nome.trim())return alert("Informe o nome da categoria!");try{await async function(e,t){const n=Vd(pS,"categorias");await Yf(n,u(u({},t),{},{estabelecimentoId:e,criado_em:Jf()}))}(t,i),a({nome:""}),d(),alert("Categoria adicionada com sucesso!")}catch(n){console.error("Erro ao adicionar categoria:",n),alert("Erro ao adicionar categoria.")}},className:"mb-3",children:[(0,Lt.jsx)("input",{placeholder:"Nome da categoria",className:"form-control mb-2",value:i.nome,onChange:e=>a({nome:e.target.value}),required:!0}),(0,Lt.jsx)("button",{className:"btn btn-success w-100",children:s?"Salvar Altera\xe7\xf5es":"Adicionar Categoria"}),s&&(0,Lt.jsx)("button",{type:"button",className:"btn btn-secondary w-100 mt-2",onClick:()=>{c(null),a({nome:""})},children:"Cancelar Edi\xe7\xe3o"})]}),0===r.length?(0,Lt.jsx)("p",{children:"Nenhuma categoria cadastrada."}):(0,Lt.jsx)("ul",{className:"list-group",children:r.map(e=>(0,Lt.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,Lt.jsx)("strong",{children:e.nome}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>{return c(t=e),void a({nome:t.nome});var t},children:"Editar"}),(0,Lt.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>p(e.id),children:"Excluir"})]})]},e.id))})]})};function eI(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(""),[i,a]=(0,e.useState)(""),[s,c]=(0,e.useState)(""),[l,h]=(0,e.useState)("colaborador"),[d,f]=(0,e.useState)(null),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)(null),[v,w]=(0,e.useState)(""),[b,E]=(0,e.useState)(""),[_,C]=(0,e.useState)(""),S=function(e,t,n){return V_(bn(e),t,n)}(Y_(void 0,"southamerica-east1"),"criarColaborador");async function A(e){try{const t=Of(Vd(pS,"usuarios"),kf("estabelecimentoId","==",e)),r=await qf(t);n(r.docs.map(e=>u({id:e.id},e.data())))}catch(t){console.error("Erro ao carregar colaboradores:",t),g("Erro ao carregar colaboradores")}}(0,e.useEffect)(()=>{const e=Fw(fS,e=>{e&&async function(e){try{const t=Of(Vd(pS,"estabelecimentos"),kf("adminId","==",e)),n=await qf(t);if(!n.empty){const e=n.docs[0];f(u({id:e.id},e.data())),A(e.id)}}catch(t){console.error("Erro ao carregar estabelecimento:",t),g("Erro ao carregar estabelecimento")}}(e.uid)});return()=>e()},[]);const I=async()=>{try{await Xf(zd(pS,"usuarios",m.id),{nome:v,email:b,telefone:_}),n(e=>e.map(e=>e.id===m.id?u(u({},e),{},{nome:v,email:b,telefone:_}):e)),y(null),g("\u2705 Colaborador atualizado com sucesso!")}catch(e){console.error("Erro ao salvar edi\xe7\xe3o:",e),g("\u26a0\ufe0f Erro ao atualizar colaborador")}};return(0,Lt.jsxs)("div",{className:"container mt-5",children:[(0,Lt.jsx)("h2",{children:"\ud83d\udc65 Colaboradores"}),d&&(0,Lt.jsxs)("p",{className:"text-muted",children:["Estabelecimento: ",(0,Lt.jsx)("strong",{children:d.nome})]}),(0,Lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d)try{await S({nome:r,email:i,telefone:s,tipo:l,estabelecimentoId:d.id}),g("\u2705 Usu\xe1rio ".concat(r," cadastrado com sucesso!")),o(""),a(""),c(""),h("colaborador"),A(d.id)}catch(t){console.error("Erro criar colaborador:",t);const e=(null===t||void 0===t?void 0:t.message)||"Erro interno ao criar colaborador";g("\u26a0\ufe0f ".concat(e))}else g("\u26a0\ufe0f Nenhum estabelecimento encontrado.")},className:"mt-3",children:[(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"Nome completo",value:r,onChange:e=>o(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"E-mail",value:i,onChange:e=>a(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"Telefone",value:s,onChange:e=>c(e.target.value),required:!0}),(0,Lt.jsxs)("select",{className:"form-control mb-3",value:l,onChange:e=>h(e.target.value),children:[(0,Lt.jsx)("option",{value:"colaborador",children:"Colaborador"}),(0,Lt.jsx)("option",{value:"admin",children:"Administrador"})]}),(0,Lt.jsx)("button",{className:"btn btn-success w-100",children:"Cadastrar Usu\xe1rio"})]}),p&&(0,Lt.jsx)("p",{className:"mt-3",children:p}),(0,Lt.jsx)("hr",{}),(0,Lt.jsx)("ul",{className:"list-group",children:t.map(e=>(0,Lt.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,Lt.jsx)("div",{children:(null===m||void 0===m?void 0:m.id)===e.id?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("input",{className:"form-control mb-1",value:v,onChange:e=>w(e.target.value)}),(0,Lt.jsx)("input",{className:"form-control mb-1",value:b,onChange:e=>E(e.target.value)}),(0,Lt.jsx)("input",{className:"form-control mb-1",value:_,onChange:e=>C(e.target.value)}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm me-2 mt-1",onClick:I,children:"Salvar"}),(0,Lt.jsx)("button",{className:"btn btn-secondary btn-sm mt-1",onClick:()=>y(null),children:"Cancelar"})]}):(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("strong",{children:e.nome})," \u2014 ",e.email," (",e.tipo,") \u2014 ",e.telefone,"123456"===e.senha&&(0,Lt.jsx)("span",{className:"badge bg-warning ms-2",children:"Senha padr\xe3o"})]})}),(null===m||void 0===m?void 0:m.id)!==e.id&&(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>{return y(t=e),w(t.nome),E(t.email),void C(t.telefone);var t},children:"Editar"}),(0,Lt.jsx)("button",{className:"btn btn-danger btn-sm me-2",onClick:()=>(async e=>{if(window.confirm("Deseja realmente excluir este colaborador?"))try{await Kf(zd(pS,"usuarios",e)),n(t=>t.filter(t=>t.id!==e)),g("\u2705 Colaborador exclu\xeddo com sucesso!")}catch(t){console.error("Erro ao excluir colaborador:",t),g("\u26a0\ufe0f Erro ao excluir colaborador")}})(e.id),children:"Excluir"}),(0,Lt.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>(async e=>{if(window.confirm("Deseja resetar a senha de ".concat(e.nome," para 123456?")))try{await Xf(zd(pS,"usuarios",e.id),{senha:"123456",senhaAlterada:!1}),g("\u2705 Senha de ".concat(e.nome," resetada para 123456. Recomenda-se alterar ap\xf3s login."))}catch(t){console.error("Erro ao resetar senha:",t),g("\u26a0\ufe0f Erro ao resetar senha")}})(e),children:"Resetar Senha"})]})]},e.id))})]})}const tI=function(){const{userData:t}=vS(),n=null===t||void 0===t?void 0:t.estabelecimentoId,[r,o]=(0,e.useState)(null),[i,a]=(0,e.useState)([]),[s,c]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{if(!n)return console.warn("ControleEstoque: usu\xe1rio n\xe3o possui estabelecimento"),void c(!1);!async function(){c(!0);try{const e=zd(pS,"estabelecimentos",n),t=await Wf(e);t.exists()?o(u({id:t.id},t.data())):o(null);const r=Of(Vd(pS,"estoque"),kf("estabelecimentoId","==",n)),i=(await qf(r)).docs.map(e=>{var t,n;const r=e.data();return{id:e.id,nome:r.nome||"\u2014",validade:r.validade||"\u2014",quantidade:null!==(t=r.quantidade)&&void 0!==t?t:0,categoria:"string"===typeof r.categoria?r.categoria:(null===(n=r.categoria)||void 0===n?void 0:n.nome)||"\u2014",codigoBarras:r.codigoBarras||"\u2014"}});a(i)}catch(e){console.error("Erro ao carregar dados do estoque:",e)}finally{c(!1)}}()},[n]),s?(0,Lt.jsx)("p",{className:"text-center mt-4",children:"Carregando dados do estoque..."}):(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsx)("h3",{children:"\ud83d\udce6 Controle de Estoque"}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Estabelecimento:"})," ",r?r.nome:"N\xe3o encontrado"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Colaborador:"})," ",(null===t||void 0===t?void 0:t.nome)||"\u2014"]}),(0,Lt.jsx)("hr",{}),(0,Lt.jsx)("h5",{children:"Itens do Estoque"}),0===i.length?(0,Lt.jsx)("p",{children:"Nenhum produto cadastrado."}):(0,Lt.jsxs)("table",{className:"table table-striped mt-3",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Produto"}),(0,Lt.jsx)("th",{children:"Categoria"}),(0,Lt.jsx)("th",{children:"Validade"}),(0,Lt.jsx)("th",{children:"Quantidade"}),(0,Lt.jsx)("th",{children:"C\xf3digo de Barras"})]})}),(0,Lt.jsx)("tbody",{children:i.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.nome}),(0,Lt.jsx)("td",{children:e.categoria}),(0,Lt.jsx)("td",{children:e.validade}),(0,Lt.jsx)("td",{children:e.quantidade}),(0,Lt.jsx)("td",{children:e.codigoBarras})]},e.id))})]})]})};function nI(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var rI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oI=function(e){function t(t,n){var r=this.constructor,o=e.call(this,t,n)||this;return Object.defineProperty(o,"name",{value:r.name,enumerable:!1,configurable:!0}),function(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}(o,r.prototype),nI(o),o}return rI(t,e),t}(Error);var iI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const aI=function(e){function t(t){void 0===t&&(t=void 0);var n=e.call(this,t)||this;return n.message=t,n}return iI(t,e),t.prototype.getKind=function(){return this.constructor.kind},t.kind="Exception",t}(oI);var sI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const cI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sI(t,e),t.kind="ArgumentException",t}(aI);var lI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const uI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lI(t,e),t.kind="IllegalArgumentException",t}(aI);const hI=function(){function e(e){if(this.binarizer=e,null===e)throw new uI("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},e.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,n,r,o){var i=this.binarizer.getLuminanceSource().crop(t,n,r,o);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(PP){return""}},e}();var dI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dI(t,e),t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(aI);const pI=function(){function e(e){this.source=e}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}();var gI=function(){function e(){}return e.arraycopy=function(e,t,n,r,o){for(;o--;)n[r++]=e[t++]},e.currentTimeMillis=function(){return Date.now()},e}();const mI=gI;var yI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const vI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yI(t,e),t.kind="IndexOutOfBoundsException",t}(aI);var wI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const bI=function(e){function t(t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0);var r=e.call(this,n)||this;return r.index=t,r.message=n,r}return wI(t,e),t.kind="ArrayIndexOutOfBoundsException",t}(vI);var EI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_I=function(){function e(){}return e.fill=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n]=t},e.fillWithin=function(t,n,r,o){e.rangeCheck(t.length,n,r);for(var i=n;i<r;i++)t[i]=o},e.rangeCheck=function(e,t,n){if(t>n)throw new uI("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new bI(t);if(n>e)throw new bI(n)},e.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},e.create=function(e,t,n){return Array.from({length:e}).map(function(e){return Array.from({length:t}).fill(n)})},e.createInt32Array=function(e,t,n){return Array.from({length:e}).map(function(e){return Int32Array.from({length:t}).fill(n)})},e.equals=function(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},e.hashCode=function(e){var t,n;if(null===e)return 0;var r=1;try{for(var o=EI(e),i=o.next();!i.done;i=o.next()){r=31*r+i.value}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},e.copyOf=function(e,t){return e.slice(0,t)},e.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},e.copyOfRange=function(e,t,n){var r=n-t,o=new Int32Array(r);return mI.arraycopy(e,t,o,0,r),o},e.binarySearch=function(t,n,r){void 0===r&&(r=e.numberComparator);for(var o=0,i=t.length-1;o<=i;){var a=i+o>>1,s=r(n,t[a]);if(s>0)o=a+1;else{if(!(s<0))return a;i=a-1}}return-o-1},e.numberComparator=function(e,t){return e-t},e}();const CI=_I;var SI=function(){function e(){}return e.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var n=31;return 0!==(t=e<<16)&&(n-=16,e=t),0!==(t=e<<8)&&(n-=8,e=t),0!==(t=e<<4)&&(n-=4,e=t),0!==(t=e<<2)&&(n-=2,e=t),n-(e<<1>>>31)},e.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31},e.toHexString=function(e){return e.toString(16)},e.toBinaryString=function(e){return String(parseInt(String(e),2))},e.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},e.truncDivision=function(e,t){return Math.trunc(e/t)},e.parseInt=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}();const AI=SI;var II=function(){function e(t,n){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=void 0===n||null===n?e.makeArray(t):n)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var n=e.makeArray(t);mI.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},e.prototype.get=function(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))},e.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},e.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},e.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,r=Math.floor(e/32),o=n[r];o&=~((1<<(31&e))-1);for(var i=n.length;0===o;){if(++r===i)return t;o=n[r]}var a=32*r+AI.numberOfTrailingZeros(o);return a>t?t:a},e.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,r=Math.floor(e/32),o=~n[r];o&=~((1<<(31&e))-1);for(var i=n.length;0===o;){if(++r===i)return t;o=~n[r]}var a=32*r+AI.numberOfTrailingZeros(o);return a>t?t:a},e.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},e.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new uI;if(t!==e){t--;for(var n=Math.floor(e/32),r=Math.floor(t/32),o=this.bits,i=n;i<=r;i++){var a=(2<<(i<r?31:31&t))-(1<<(i>n?0:31&e));o[i]|=a}}},e.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},e.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new uI;if(t===e)return!0;t--;for(var r=Math.floor(e/32),o=Math.floor(t/32),i=this.bits,a=r;a<=o;a++){var s=(2<<(a<o?31:31&t))-(1<<(a>r?0:31&e))&4294967295;if((i[a]&s)!==(n?s:0))return!1}return!0},e.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},e.prototype.appendBits=function(e,t){if(t<0||t>32)throw new uI("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))},e.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},e.prototype.xor=function(e){if(this.size!==e.size)throw new uI("Sizes don't match");for(var t=this.bits,n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]},e.prototype.toBytes=function(e,t,n,r){for(var o=0;o<r;o++){for(var i=0,a=0;a<8;a++)this.get(e)&&(i|=1<<7-a),e++;t[n+o]=i}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits,o=0;o<n;o++){var i=r[o];i=(i=(i=(i=(i=i>>1&1431655765|(1431655765&i)<<1)>>2&858993459|(858993459&i)<<2)>>4&252645135|(252645135&i)<<4)>>8&16711935|(16711935&i)<<8)>>16&65535|(65535&i)<<16,e[t-o]=i}if(this.size!==32*n){var a=32*n-this.size,s=e[0]>>>a;for(o=1;o<n;o++){var c=e[o];s|=c<<32-a,e[o-1]=s,s=c>>>a}e[n-1]=s}this.bits=e},e.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.size===n.size&&CI.equals(this.bits,n.bits)},e.prototype.hashCode=function(){return 31*this.size+CI.hashCode(this.bits)},e.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},e}();const TI=II;var NI;!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"}(NI||(NI={}));const OI=NI;var RI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const kI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return RI(t,e),t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(aI);var xI,DI=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(xI||(xI={}));var PI=function(){function e(t,n,r){for(var o,i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,this.values="number"===typeof n?Int32Array.from([n]):n,this.otherEncodingNames=a,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(r,this);for(var c=this.values,l=0,u=c.length;l!==u;l++){var h=c[l];e.VALUES_TO_ECI.set(h,this)}try{for(var d=DI(a),f=d.next();!f.done;f=d.next()){var p=f.value;e.NAME_TO_ECI.set(p,this)}}catch(g){o={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new kI("incorect value");var n=e.VALUES_TO_ECI.get(t);if(void 0===n)throw new kI("incorect value");return n},e.getCharacterSetECIByName=function(t){var n=e.NAME_TO_ECI.get(t);if(void 0===n)throw new kI("incorect value");return n},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.getName()===n.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(xI.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(xI.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(xI.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(xI.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(xI.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(xI.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(xI.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(xI.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(xI.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(xI.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(xI.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(xI.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(xI.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(xI.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(xI.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(xI.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(xI.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(xI.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(xI.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(xI.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(xI.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(xI.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(xI.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(xI.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(xI.Big5,28,"Big5"),e.GB18030=new e(xI.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(xI.EUC_KR,30,"EUC_KR","EUC-KR"),e}();const MI=PI;var LI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const BI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return LI(t,e),t.kind="UnsupportedOperationException",t}(aI);const FI=function(){function e(){}return e.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&"ISO-8859-1"===t},e.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)},e.isBrowser=function(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)},e.encodingName=function(e){return"string"===typeof e?e:e.getName()},e.encodingCharacterSet=function(e){return e instanceof MI?e:MI.getCharacterSetECIByName(e)},e.decodeFallback=function(t,n){var r=this.encodingCharacterSet(n);if(e.isDecodeFallbackSupported(r)){for(var o="",i=0,a=t.length;i<a;i++){var s=t[i].toString(16);s.length<2&&(s="0"+s),o+="%"+s}return decodeURIComponent(o)}if(r.equals(MI.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new BI("Encoding "+this.encodingName(n)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(e){return e.equals(MI.UTF8)||e.equals(MI.ISO8859_1)||e.equals(MI.ASCII)},e.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),n=[],r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)},e}();const jI=function(){function e(){}return e.castAsNonUtf8Char=function(e,t){void 0===t&&(t=null);var n=t?t.getName():this.ISO88591;return FI.decode(new Uint8Array([e]),n)},e.guessEncoding=function(t,n){if(null!==n&&void 0!==n&&void 0!==n.get(OI.CHARACTER_SET))return n.get(OI.CHARACTER_SET).toString();for(var r=t.length,o=!0,i=!0,a=!0,s=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,g=0,m=0,y=0,v=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],w=0;w<r&&(o||i||a);w++){var b=255&t[w];a&&(s>0?0===(128&b)?a=!1:s--:0!==(128&b)&&(0===(64&b)?a=!1:(s++,0===(32&b)?c++:(s++,0===(16&b)?l++:(s++,0===(8&b)?u++:a=!1))))),o&&(b>127&&b<160?o=!1:b>159&&(b<192||215===b||247===b)&&y++),i&&(h>0?b<64||127===b||b>252?i=!1:h--:128===b||160===b||b>239?i=!1:b>160&&b<224?(d++,p=0,++f>g&&(g=f)):b>127?(h++,f=0,++p>m&&(m=p)):(f=0,p=0))}return a&&s>0&&(a=!1),i&&h>0&&(i=!1),a&&(v||c+l+u>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||g>=3||m>=3)?e.SHIFT_JIS:o&&i?2===g&&2===d||10*y>=r?e.SHIFT_JIS:e.ISO88591:o?e.ISO88591:i?e.SHIFT_JIS:a?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,n,o,i,a,s){if("%%"===e)return"%";if(void 0!==t[++r]){e=i?parseInt(i.substr(1)):void 0;var c,l=a?parseInt(a.substr(1)):void 0;switch(s){case"s":c=t[r];break;case"c":c=t[r][0];break;case"f":c=parseFloat(t[r]).toFixed(e);break;case"p":c=parseFloat(t[r]).toPrecision(e);break;case"e":c=parseFloat(t[r]).toExponential(e);break;case"x":c=parseInt(t[r]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}c="object"===typeof c?JSON.stringify(c):(+c).toString(l);for(var u=parseInt(o),h=o&&o[0]+""==="0"?"0":" ";c.length<u;)c=void 0!==n?c+h:h+c;return c}})},e.getBytes=function(e,t){return FI.encode(e,t)},e.getCharCode=function(e,t){return void 0===t&&(t=0),e.charCodeAt(t)},e.getCharAt=function(e){return String.fromCharCode(e)},e.SHIFT_JIS=MI.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=MI.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=MI.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}();var UI=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.enableDecoding=function(e){return this.encoding=e,this},e.prototype.append=function(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=jI.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},e.prototype.appendChars=function(e,t,n){for(var r=t;t<t+n;r++)this.append(e[r]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(e){return this.value.charAt(e)},e.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},e.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},e.prototype.substring=function(e,t){return this.value.substring(e,t)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},e}();const VI=UI;var zI=function(){function e(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new uI("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var n=t.length,r=t[0].length,o=new e(r,n),i=0;i<n;i++)for(var a=t[i],s=0;s<r;s++)a[s]&&o.set(s,i);return o},e.parseFromString=function(t,n,r){if(null===t)throw new uI("stringRepresentation cannot be null");for(var o=new Array(t.length),i=0,a=0,s=-1,c=0,l=0;l<t.length;)if("\n"===t.charAt(l)||"\r"===t.charAt(l)){if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new uI("row lengths do not match");a=i,c++}l++}else if(t.substring(l,l+n.length)===n)l+=n.length,o[i]=!0,i++;else{if(t.substring(l,l+r.length)!==r)throw new uI("illegal character encountered: "+t.substring(l));l+=r.length,o[i]=!1,i++}if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new uI("row lengths do not match");c++}for(var u=new e(s,c),h=0;h<i;h++)o[h]&&u.set(Math.floor(h%s),Math.floor(h/s));return u},e.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)},e.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295},e.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)},e.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295},e.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new uI("input matrix dimensions do not match");for(var t=new TI(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,o=0,i=this.height;o<i;o++)for(var a=o*n,s=e.getRow(o,t).getBitArray(),c=0;c<n;c++)r[a+c]^=s[c]},e.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},e.prototype.setRegion=function(e,t,n,r){if(t<0||e<0)throw new uI("Left and top must be nonnegative");if(r<1||n<1)throw new uI("Height and width must be at least 1");var o=e+n,i=t+r;if(i>this.height||o>this.width)throw new uI("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,c=t;c<i;c++)for(var l=c*a,u=e;u<o;u++)s[l+Math.floor(u/32)]|=1<<(31&u)&4294967295},e.prototype.getRow=function(e,t){null===t||void 0===t||t.getSize()<this.width?t=new TI(this.width):t.clear();for(var n=this.rowSize,r=this.bits,o=e*n,i=0;i<n;i++)t.setBulk(32*i,r[o+i]);return t},e.prototype.setRow=function(e,t){mI.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new TI(e),r=new TI(e),o=0,i=Math.floor((t+1)/2);o<i;o++)n=this.getRow(o,n),r=this.getRow(t-1-o,r),n.reverse(),r.reverse(),this.setRow(o,r),this.setRow(t-1-o,n)},e.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,r=this.bits,o=e,i=t,a=-1,s=-1,c=0;c<t;c++)for(var l=0;l<n;l++){var u=r[c*n+l];if(0!==u){if(c<i&&(i=c),c>s&&(s=c),32*l<o){for(var h=0;0===(u<<31-h&4294967295);)h++;32*l+h<o&&(o=32*l+h)}if(32*l+31>a){for(h=31;u>>>h===0;)h--;32*l+h>a&&(a=32*l+h)}}}return a<o||s<i?null:Int32Array.from([o,i,a-o+1,s-i+1])},e.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&0===t[n];)n++;if(n===t.length)return null;for(var r=n/e,o=n%e*32,i=t[n],a=0;0===(i<<31-a&4294967295);)a++;return o+=a,Int32Array.from([o,r])},e.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&0===t[n];)n--;if(n<0)return null;for(var r=Math.floor(n/e),o=32*Math.floor(n%e),i=t[n],a=31;i>>>a===0;)a--;return o+=a,Int32Array.from([o,r])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&CI.equals(this.bits,n.bits)},e.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+CI.hashCode(this.bits)},e.prototype.toString=function(e,t,n){return void 0===e&&(e="X "),void 0===t&&(t="  "),void 0===n&&(n="\n"),this.buildToString(e,t,n)},e.prototype.buildToString=function(e,t,n){for(var r=new VI,o=0,i=this.height;o<i;o++){for(var a=0,s=this.width;a<s;a++)r.append(this.get(a,o)?e:t);r.append(n)}return r.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}();const HI=zI;var WI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const GI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return WI(t,e),t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(aI);var qI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XI=function(e){function t(n){var r=e.call(this,n)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return qI(t,e),t.prototype.getBlackRow=function(e,n){var r=this.getLuminanceSource(),o=r.getWidth();void 0===n||null===n||n.getSize()<o?n=new TI(o):n.clear(),this.initArrays(o);for(var i=r.getRow(e,this.luminances),a=this.buckets,s=0;s<o;s++)a[(255&i[s])>>t.LUMINANCE_SHIFT]++;var c=t.estimateBlackPoint(a);if(o<3)for(s=0;s<o;s++)(255&i[s])<c&&n.set(s);else{var l=255&i[0],u=255&i[1];for(s=1;s<o-1;s++){var h=255&i[s+1];(4*u-l-h)/2<c&&n.set(s),l=u,u=h}}return n},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),o=new HI(n,r);this.initArrays(n);for(var i=this.buckets,a=1;a<5;a++)for(var s=Math.floor(r*a/5),c=e.getRow(s,this.luminances),l=Math.floor(4*n/5),u=Math.floor(n/5);u<l;u++){i[(255&c[u])>>t.LUMINANCE_SHIFT]++}var h=t.estimateBlackPoint(i),d=e.getMatrix();for(a=0;a<r;a++){var f=a*n;for(u=0;u<n;u++){(255&d[f+u])<h&&o.set(u,a)}}return o},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var n=this.buckets,r=0;r<t.LUMINANCE_BUCKETS;r++)n[r]=0},t.estimateBlackPoint=function(e){for(var n=e.length,r=0,o=0,i=0,a=0;a<n;a++)e[a]>i&&(o=a,i=e[a]),e[a]>r&&(r=e[a]);var s=0,c=0;for(a=0;a<n;a++){var l=a-o;(f=e[a]*l*l)>c&&(s=a,c=f)}if(o>s){var u=o;o=s,s=u}if(s-o<=n/16)throw new GI;var h=s-1,d=-1;for(a=s-1;a>o;a--){var f,p=a-o;(f=p*p*(s-a)*(r-e[a]))>d&&(h=a,d=f)}return h<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(pI);const KI=XI;var YI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QI=function(e){function t(t){var n=e.call(this,t)||this;return n.matrix=null,n}return YI(t,e),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=t.MINIMUM_DIMENSION&&o>=t.MINIMUM_DIMENSION){var i=n.getMatrix(),a=r>>t.BLOCK_SIZE_POWER;0!==(r&t.BLOCK_SIZE_MASK)&&a++;var s=o>>t.BLOCK_SIZE_POWER;0!==(o&t.BLOCK_SIZE_MASK)&&s++;var c=t.calculateBlackPoints(i,a,s,r,o),l=new HI(r,o);t.calculateThresholdForBlock(i,a,s,r,o,c,l),this.matrix=l}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,n,r,o,i,a,s){for(var c=i-t.BLOCK_SIZE,l=o-t.BLOCK_SIZE,u=0;u<r;u++){var h=u<<t.BLOCK_SIZE_POWER;h>c&&(h=c);for(var d=t.cap(u,2,r-3),f=0;f<n;f++){var p=f<<t.BLOCK_SIZE_POWER;p>l&&(p=l);for(var g=t.cap(f,2,n-3),m=0,y=-2;y<=2;y++){var v=a[d+y];m+=v[g-2]+v[g-1]+v[g]+v[g+1]+v[g+2]}var w=m/25;t.thresholdBlock(e,p,h,w,o,s)}}},t.cap=function(e,t,n){return e<t?t:e>n?n:e},t.thresholdBlock=function(e,n,r,o,i,a){for(var s=0,c=r*i+n;s<t.BLOCK_SIZE;s++,c+=i)for(var l=0;l<t.BLOCK_SIZE;l++)(255&e[c+l])<=o&&a.set(n+l,r+s)},t.calculateBlackPoints=function(e,n,r,o,i){for(var a=i-t.BLOCK_SIZE,s=o-t.BLOCK_SIZE,c=new Array(r),l=0;l<r;l++){c[l]=new Int32Array(n);var u=l<<t.BLOCK_SIZE_POWER;u>a&&(u=a);for(var h=0;h<n;h++){var d=h<<t.BLOCK_SIZE_POWER;d>s&&(d=s);for(var f=0,p=255,g=0,m=0,y=u*o+d;m<t.BLOCK_SIZE;m++,y+=o){for(var v=0;v<t.BLOCK_SIZE;v++){var w=255&e[y+v];f+=w,w<p&&(p=w),w>g&&(g=w)}if(g-p>t.MIN_DYNAMIC_RANGE)for(m++,y+=o;m<t.BLOCK_SIZE;m++,y+=o)for(v=0;v<t.BLOCK_SIZE;v++)f+=255&e[y+v]}var b=f>>2*t.BLOCK_SIZE_POWER;if(g-p<=t.MIN_DYNAMIC_RANGE&&(b=p/2,l>0&&h>0)){var E=(c[l-1][h]+2*c[l][h-1]+c[l-1][h-1])/4;p<E&&(b=E)}c[l][h]=b}}return c},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(KI);const ZI=QI;var JI=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(e,t,n,r){throw new BI("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new BI("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new BI("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new VI,n=0;n<this.height;n++){for(var r=this.getRow(n,e),o=0;o<this.width;o++){var i=255&r[o],a=void 0;a=i<64?"#":i<128?"+":i<192?".":" ",t.append(a)}t.append("\n")}return t.toString()},e}();const $I=JI;var eT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tT=function(e){function t(t){var n=e.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return eT(t,e),t.prototype.getRow=function(e,t){for(var n=this.delegate.getRow(e,t),r=this.getWidth(),o=0;o<r;o++)n[o]=255-(255&n[o]);return n},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t),r=0;r<t;r++)n[r]=255-(255&e[r]);return n},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,n,r,o){return new t(this.delegate.crop(e,n,r,o))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}($I);var nT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rT=function(e){function t(n,r){void 0===r&&(r=!1);var o=e.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=t.makeBufferFromCanvasImageData(n,r),o}return nT(t,e),t.makeBufferFromCanvasImageData=function(e,n){void 0===n&&(n=!1);var r=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(r.data,e.width,e.height,n)},t.toGrayscaleBuffer=function(e,n,r,o){void 0===o&&(o=!1);var i=new Uint8ClampedArray(n*r);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!o)for(var a=0,s=0,c=e.length;a<c;a+=4,s++){var l=void 0;if(0===e[a+3])l=255;else l=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;i[s]=l}else{a=0,s=0;for(var u=e.length;a<u;a+=4,s++){l=void 0;if(0===e[a+3])l=255;else l=306*e[a]+601*e[a+1]+117*e[a+2]+512>>10;i[s]=255-l}}return i},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new uI("Requested row is outside the image: "+e);var n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,n,r,o){return e.prototype.crop.call(this,t,n,r,o),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var n=this.getTempCanvasElement(),r=n.getContext("2d"),o=e*t.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(o))*i+Math.abs(Math.sin(o))*a),c=Math.ceil(Math.abs(Math.sin(o))*i+Math.abs(Math.cos(o))*a);return n.width=s,n.height=c,r.translate(s/2,c/2),r.rotate(o),r.drawImage(this.canvas,i/-2,a/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new tT(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}($I),oT=function(){function e(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),iT=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(PP){i(PP)}}function s(e){try{c(r.throw(e))}catch(PP){i(PP)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},aT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(PP){i=[6,PP],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},sT=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cT=function(){function e(e,t,n){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return"undefined"!==typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return iT(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s,c,l,u,h;return aT(this,function(d){switch(d.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=d.sent(),t=[];try{for(n=sT(e),r=n.next();!r.done;r=n.next())o=r.value,"videoinput"===(i="video"===o.kind?"videoinput":o.kind)&&(a=o.deviceId||o.id,s=o.label||"Video device "+(t.length+1),c=o.groupId,l={deviceId:a,label:s,kind:i,groupId:c},t.push(l))}catch(f){u={error:f}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(u)throw u.error}}return[2,t]}})})},e.prototype.getVideoInputDevices=function(){return iT(this,void 0,void 0,function(){return aT(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(e){return new oT(e.deviceId,e.label)})]}})})},e.prototype.findDeviceById=function(e){return iT(this,void 0,void 0,function(){var t;return aT(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=n.sent())?[2,t.find(function(t){return t.deviceId===e})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(e,t){return iT(this,void 0,void 0,function(){return aT(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(e,t){return iT(this,void 0,void 0,function(){var n;return aT(this,function(r){switch(r.label){case 0:return this.reset(),n={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,t)];case 1:return[2,r.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(e,t){return iT(this,void 0,void 0,function(){var n;return aT(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,r.sent()]}})})},e.prototype.decodeOnceFromStream=function(e,t){return iT(this,void 0,void 0,function(){var n;return aT(this,function(r){switch(r.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=r.sent(),[4,this.decodeOnce(n)];case 2:return[2,r.sent()]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return iT(this,void 0,void 0,function(){return aT(this,function(r){switch(r.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,r.sent()]}})})},e.prototype.decodeFromVideoDevice=function(e,t,n){return iT(this,void 0,void 0,function(){var r;return aT(this,function(o){switch(o.label){case 0:return r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(r,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.decodeFromConstraints=function(e,t,n){return iT(this,void 0,void 0,function(){var r;return aT(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=o.sent(),[4,this.decodeFromStream(r,t,n)];case 2:return[2,o.sent()]}})})},e.prototype.decodeFromStream=function(e,t,n){return iT(this,void 0,void 0,function(){var r;return aT(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=o.sent(),[4,this.decodeContinuously(r,n)];case 2:return[2,o.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(e,t){return iT(this,void 0,void 0,function(){var n;return aT(this,function(r){switch(r.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return r.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,r){return t.playVideoOnLoad(e,function(){return n()})})},e.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},e.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},e.prototype.tryPlayVideo=function(e){return iT(this,void 0,void 0,function(){return aT(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new cI("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new cI("element with id '"+e+"' must be an "+t+" element");return n},e.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new cI("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},e.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new cI("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},e.prototype.decodeFromVideoContinuously=function(e,t,n){if(void 0===e&&void 0===t)throw new cI("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},e.prototype.decodeFromImageElement=function(e){if(!e)throw new cI("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},e.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},e.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},e.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new cI("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},e.prototype.decodeFromImageUrl=function(e){if(!e)throw new cI("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},e.prototype.decodeFromVideoUrl=function(e){if(!e)throw new cI("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},e.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new cI("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r},e.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,r){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,r)},e.addEventListener("load",t.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(e){return iT(this,void 0,void 0,function(){return aT(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(e,t){return iT(this,void 0,void 0,function(){return aT(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},e.prototype.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.prototype.prepareImageElement=function(e){var t;return"undefined"===typeof e&&((t=document.createElement("img")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},e.prototype.prepareVideoElement=function(e){var t;return e||"undefined"===typeof document||((t=document.createElement("video")).width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},e.prototype.decodeOnce=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var o=function(i,a){if(r._stopAsyncDecode)return a(new GI("Video stream has ended before any code could be detected.")),void(r._stopAsyncDecode=void 0);try{i(r.decode(e))}catch(PP){if(t&&PP instanceof GI||(PP instanceof fI||PP instanceof kI)&&n)return setTimeout(o,r._timeBetweenDecodingAttempts,i,a);a(PP)}};return new Promise(function(e,t){return o(e,t)})},e.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var r=function(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var o=n.decode(e);t(o,null),setTimeout(r,n.timeBetweenScansMillis)}catch(PP){t(null,PP),(PP instanceof fI||PP instanceof kI||PP instanceof GI)&&setTimeout(r,n._timeBetweenDecodingAttempts)}};r()},e.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},e.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),r=new rT(n,t),o=new ZI(r);return new hI(o)},e.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch(PP){n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(e,t,n){void 0===t&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.drawImageOnCanvas=function(e,t,n){void 0===t&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},e.prototype.createCaptureCanvas=function(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;var t,n,r=document.createElement("canvas");return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(t=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(t=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),r.style.width=t+"px",r.style.height=n+"px",r.width=t,r.height=n,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}},e.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")},e}();const lT=function(){function e(e,t,n,r,o,i){void 0===n&&(n=null==t?0:8*t.length),void 0===i&&(i=mI.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=o,this.timestamp=i,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=o,this.resultMetadata=null,this.timestamp=void 0===i||null===i?mI.currentTimeMillis():i}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},e.prototype.putAllMetadata=function(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))},e.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var n=new Array(t.length+e.length);mI.arraycopy(t,0,n,0,t.length),mI.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}();var uT;!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(uT||(uT={}));const hT=uT;var dT;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(dT||(dT={}));const fT=dT;const pT=function(){function e(e,t,n,r,o,i){void 0===o&&(o=-1),void 0===i&&(i=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=i,this.numBits=void 0===e||null===e?0:8*e.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(e){this.numBits=e},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(e){this.erasures=e},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(e){this.other=e},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}();const gT=function(){function e(){}return e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new uI;return this.logTable[e]},e.addOrSubtract=function(e,t){return e^t},e}();var mT=function(){function e(e,t){if(0===t.length)throw new uI;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),mI.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var t,n=this.coefficients;if(1===e){t=0;for(var r=0,o=n.length;r!==o;r++){var i=n[r];t=gT.addOrSubtract(t,i)}return t}t=n[0];var a=n.length,s=this.field;for(r=1;r<a;r++)t=gT.addOrSubtract(s.multiply(e,t),n[r]);return t},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new uI("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;mI.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=gT.addOrSubtract(n[s-a],r[s]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new uI("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,o=t.coefficients,i=o.length,a=new Int32Array(r+i-1),s=this.field,c=0;c<r;c++)for(var l=n[c],u=0;u<i;u++)a[c+u]=gT.addOrSubtract(a[c+u],s.multiply(l,o[u]));return new e(s,a)},e.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var n=this.coefficients.length,r=this.field,o=new Int32Array(n),i=this.coefficients,a=0;a<n;a++)o[a]=r.multiply(i[a],t);return new e(r,o)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new uI;if(0===n)return this.field.getZero();for(var r=this.coefficients,o=r.length,i=new Int32Array(o+t),a=this.field,s=0;s<o;s++)i[s]=a.multiply(r[s],n);return new e(a,i)},e.prototype.divide=function(e){if(!this.field.equals(e.field))throw new uI("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new uI("Divide by 0");for(var t=this.field,n=t.getZero(),r=this,o=e.getCoefficient(e.getDegree()),i=t.inverse(o);r.getDegree()>=e.getDegree()&&!r.isZero();){var a=r.getDegree()-e.getDegree(),s=t.multiply(r.getCoefficient(r.getDegree()),i),c=e.multiplyByMonomial(a,s),l=t.buildMonomial(a,s);n=n.addOrSubtract(l),r=r.addOrSubtract(c)}return[n,r]},e.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){var r=this.field.log(n);0===r?e+="1":1===r?e+="a":(e+="a^",e+=r)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},e}();const yT=mT;var vT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vT(t,e),t.kind="ArithmeticException",t}(aI);var bT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ET=function(e){function t(t,n,r){var o=e.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=r;for(var i=new Int32Array(n),a=1,s=0;s<n;s++)i[s]=a,(a*=2)>=n&&(a^=t,a&=n-1);o.expTable=i;var c=new Int32Array(n);for(s=0;s<n-1;s++)c[i[s]]=s;return o.logTable=c,o.zero=new yT(o,Int32Array.from([0])),o.one=new yT(o,Int32Array.from([1])),o}return bT(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new uI;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new yT(this,n)},t.prototype.inverse=function(e){if(0===e)throw new wT;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+AI.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(gT);const _T=ET;var CT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ST=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return CT(t,e),t.kind="ReedSolomonException",t}(aI);var AT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const IT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return AT(t,e),t.kind="IllegalStateException",t}(aI);var TT=function(){function e(e){this.field=e}return e.prototype.decode=function(e,t){for(var n=this.field,r=new yT(n,e),o=new Int32Array(t),i=!0,a=0;a<t;a++){var s=r.evaluateAt(n.exp(a+n.getGeneratorBase()));o[o.length-1-a]=s,0!==s&&(i=!1)}if(!i){var c=new yT(n,o),l=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),u=l[0],h=l[1],d=this.findErrorLocations(u),f=this.findErrorMagnitudes(h,d);for(a=0;a<d.length;a++){var p=e.length-1-n.log(d[a]);if(p<0)throw new ST("Bad error location");e[p]=_T.addOrSubtract(e[p],f[a])}}},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var r=e;e=t,t=r}for(var o=this.field,i=e,a=t,s=o.getZero(),c=o.getOne();a.getDegree()>=(n/2|0);){var l=i,u=s;if(s=c,(i=a).isZero())throw new ST("r_{i-1} was zero");a=l;for(var h=o.getZero(),d=i.getCoefficient(i.getDegree()),f=o.inverse(d);a.getDegree()>=i.getDegree()&&!a.isZero();){var p=a.getDegree()-i.getDegree(),g=o.multiply(a.getCoefficient(a.getDegree()),f);h=h.addOrSubtract(o.buildMonomial(p,g)),a=a.addOrSubtract(i.multiplyByMonomial(p,g))}if(c=h.multiply(s).addOrSubtract(u),a.getDegree()>=i.getDegree())throw new IT("Division algorithm failed to reduce polynomial?")}var m=c.getCoefficient(0);if(0===m)throw new ST("sigmaTilde(0) was zero");var y=o.inverse(m);return[c.multiplyScalar(y),a.multiplyScalar(y)]},e.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),r=0,o=this.field,i=1;i<o.getSize()&&r<t;i++)0===e.evaluateAt(i)&&(n[r]=o.inverse(i),r++);if(r!==t)throw new ST("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,r=new Int32Array(n),o=this.field,i=0;i<n;i++){for(var a=o.inverse(t[i]),s=1,c=0;c<n;c++)if(i!==c){var l=o.multiply(t[c],a),u=0===(1&l)?1|l:-2&l;s=o.multiply(s,u)}r[i]=o.multiply(e.evaluateAt(a),o.inverse(s)),0!==o.getGeneratorBase()&&(r[i]=o.multiply(r[i],a))}return r},e}();const NT=TT;var OT;!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(OT||(OT={}));var RT=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),r=this.extractBits(n),o=this.correctBits(r),i=e.convertBoolArrayToByteArray(o),a=e.getEncodedData(o),s=new pT(i,a,null,null);return s.setNumBits(o.length),s},e.highLevelDecode=function(e){return this.getEncodedData(e)},e.getEncodedData=function(t){for(var n=t.length,r=OT.UPPER,o=OT.UPPER,i="",a=0;a<n;)if(o===OT.BINARY){if(n-a<5)break;var s=e.readCode(t,a,5);if(a+=5,0===s){if(n-a<11)break;s=e.readCode(t,a,11)+31,a+=11}for(var c=0;c<s;c++){if(n-a<8){a=n;break}var l=e.readCode(t,a,8);i+=jI.castAsNonUtf8Char(l),a+=8}o=r}else{var u=o===OT.DIGIT?4:5;if(n-a<u)break;l=e.readCode(t,a,u);a+=u;var h=e.getCharacter(o,l);h.startsWith("CTRL_")?(r=o,o=e.getTable(h.charAt(5)),"L"===h.charAt(6)&&(r=o)):(i+=h,o=r)}return i},e.getTable=function(e){switch(e){case"L":return OT.LOWER;case"P":return OT.PUNCT;case"M":return OT.MIXED;case"D":return OT.DIGIT;case"B":return OT.BINARY;default:return OT.UPPER}},e.getCharacter=function(t,n){switch(t){case OT.UPPER:return e.UPPER_TABLE[n];case OT.LOWER:return e.LOWER_TABLE[n];case OT.MIXED:return e.MIXED_TABLE[n];case OT.PUNCT:return e.PUNCT_TABLE[n];case OT.DIGIT:return e.DIGIT_TABLE[n];default:throw new IT("Bad table")}},e.prototype.correctBits=function(t){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=_T.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=_T.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=_T.AZTEC_DATA_10):(r=12,n=_T.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=t.length/r;if(i<o)throw new kI;for(var a=t.length%r,s=new Int32Array(i),c=0;c<i;c++,a+=r)s[c]=e.readCode(t,a,r);try{new NT(n).decode(s,i-o)}catch(g){throw new kI(g)}var l=(1<<r)-1,u=0;for(c=0;c<o;c++){if(0===(f=s[c])||f===l)throw new kI;1!==f&&f!==l-1||u++}var h=new Array(o*r-u),d=0;for(c=0;c<o;c++){var f;if(1===(f=s[c])||f===l-1)h.fill(f>1,d,d+r-1),d+=r-1;else for(var p=r-1;p>=0;--p)h[d++]=0!==(f&1<<p)}return h},e.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,o=new Int32Array(r),i=new Array(this.totalBitsInLayer(n,t));if(t)for(var a=0;a<o.length;a++)o[a]=a;else{var s=r+1+2*AI.truncDivision(AI.truncDivision(r,2)-1,15),c=r/2,l=AI.truncDivision(s,2);for(a=0;a<c;a++){var u=a+AI.truncDivision(a,15);o[c-a-1]=l-u-1,o[c+a]=l+u+1}}a=0;for(var h=0;a<n;a++){for(var d=4*(n-a)+(t?9:12),f=2*a,p=r-1-f,g=0;g<d;g++)for(var m=2*g,y=0;y<2;y++)i[h+m+y]=e.get(o[f+y],o[f+g]),i[h+2*d+m+y]=e.get(o[f+g],o[p-y]),i[h+4*d+m+y]=e.get(o[p-y],o[p-g]),i[h+6*d+m+y]=e.get(o[p-g],o[f+y]);h+=8*d}return i},e.readCode=function(e,t,n){for(var r=0,o=t;o<t+n;o++)r<<=1,e[o]&&(r|=1);return r},e.readByte=function(t,n){var r=t.length-n;return r>=8?e.readCode(t,n,8):e.readCode(t,n,r)<<8-r},e.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),r=0;r<n.length;r++)n[r]=e.readByte(t,8*r);return n},e.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}();const kT=RT;var xT=function(){function e(){}return e.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},e.distance=function(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)},e.sum=function(e){for(var t=0,n=0,r=e.length;n!==r;n++){t+=e[n]}return t},e}();const DT=xT;const PT=function(){function e(){}return e.floatToIntBits=function(e){return e},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}();var MT=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.x===n.x&&this.y===n.y}return!1},e.prototype.hashCode=function(){return 31*PT.floatToIntBits(this.x)+PT.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(e){var t,n,r,o=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]);if(i>=o&&i>=a?(n=e[0],t=e[1],r=e[2]):a>=i&&a>=o?(n=e[1],t=e[0],r=e[2]):(n=e[2],t=e[0],r=e[1]),this.crossProductZ(t,n,r)<0){var s=t;t=r,r=s}e[0]=t,e[1]=n,e[2]=r},e.distance=function(e,t){return DT.distance(e.x,e.y,t.x,t.y)},e.crossProductZ=function(e,t,n){var r=t.x,o=t.y;return(n.x-r)*(e.y-o)-(n.y-o)*(e.x-r)},e}();const LT=MT;const BT=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();var FT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jT=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n)||this;return a.compact=r,a.nbDatablocks=o,a.nbLayers=i,a}return FT(t,e),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(BT);var UT=function(){function e(t,n,r,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),void 0!==n&&null!==n||(n=e.INIT_SIZE),void 0!==r&&null!==r||(r=t.getWidth()/2|0),void 0!==o&&null!==o||(o=t.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new GI}return e.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,o=!1,i=!0,a=!1,s=!1,c=!1,l=!1,u=!1,h=this.width,d=this.height;i;){i=!1;for(var f=!0;(f||!s)&&t<h;)(f=this.containsBlackPoint(n,r,t,!1))?(t++,i=!0,s=!0):s||t++;if(t>=h){o=!0;break}for(var p=!0;(p||!c)&&r<d;)(p=this.containsBlackPoint(e,t,r,!0))?(r++,i=!0,c=!0):c||r++;if(r>=d){o=!0;break}for(var g=!0;(g||!l)&&e>=0;)(g=this.containsBlackPoint(n,r,e,!1))?(e--,i=!0,l=!0):l||e--;if(e<0){o=!0;break}for(var m=!0;(m||!u)&&n>=0;)(m=this.containsBlackPoint(e,t,n,!0))?(n--,i=!0,u=!0):u||n--;if(n<0){o=!0;break}i&&(a=!0)}if(!o&&a){for(var y=t-e,v=null,w=1;null===v&&w<y;w++)v=this.getBlackPointOnSegment(e,r-w,e+w,r);if(null==v)throw new GI;var b=null;for(w=1;null===b&&w<y;w++)b=this.getBlackPointOnSegment(e,n+w,e+w,n);if(null==b)throw new GI;var E=null;for(w=1;null===E&&w<y;w++)E=this.getBlackPointOnSegment(t,n+w,t-w,n);if(null==E)throw new GI;var _=null;for(w=1;null===_&&w<y;w++)_=this.getBlackPointOnSegment(t,r-w,t-w,r);if(null==_)throw new GI;return this.centerEdges(_,v,E,b)}throw new GI},e.prototype.getBlackPointOnSegment=function(e,t,n,r){for(var o=DT.round(DT.distance(e,t,n,r)),i=(n-e)/o,a=(r-t)/o,s=this.image,c=0;c<o;c++){var l=DT.round(e+c*i),u=DT.round(t+c*a);if(s.get(l,u))return new LT(l,u)}return null},e.prototype.centerEdges=function(t,n,r,o){var i=t.getX(),a=t.getY(),s=n.getX(),c=n.getY(),l=r.getX(),u=r.getY(),h=o.getX(),d=o.getY(),f=e.CORR;return i<this.width/2?[new LT(h-f,d+f),new LT(s+f,c+f),new LT(l-f,u-f),new LT(i+f,a-f)]:[new LT(h+f,d+f),new LT(s+f,c-f),new LT(l-f,u+f),new LT(i-f,a-f)]},e.prototype.containsBlackPoint=function(e,t,n,r){var o=this.image;if(r){for(var i=e;i<=t;i++)if(o.get(i,n))return!0}else for(var a=e;a<=t;a++)if(o.get(n,a))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}();const VT=UT;var zT=function(){function e(){}return e.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),r=e.getHeight(),o=!0,i=0;i<t.length&&o;i+=2){var a=Math.floor(t[i]),s=Math.floor(t[i+1]);if(a<-1||a>n||s<-1||s>r)throw new GI;o=!1,-1===a?(t[i]=0,o=!0):a===n&&(t[i]=n-1,o=!0),-1===s?(t[i+1]=0,o=!0):s===r&&(t[i+1]=r-1,o=!0)}o=!0;for(i=t.length-2;i>=0&&o;i-=2){a=Math.floor(t[i]),s=Math.floor(t[i+1]);if(a<-1||a>n||s<-1||s>r)throw new GI;o=!1,-1===a?(t[i]=0,o=!0):a===n&&(t[i]=n-1,o=!0),-1===s?(t[i+1]=0,o=!0):s===r&&(t[i+1]=r-1,o=!0)}},e}();const HT=zT;var WT=function(){function e(e,t,n,r,o,i,a,s,c){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=o,this.a32=i,this.a13=a,this.a23=s,this.a33=c}return e.quadrilateralToQuadrilateral=function(t,n,r,o,i,a,s,c,l,u,h,d,f,p,g,m){var y=e.quadrilateralToSquare(t,n,r,o,i,a,s,c);return e.squareToQuadrilateral(l,u,h,d,f,p,g,m).times(y)},e.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,r=this.a12,o=this.a13,i=this.a21,a=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,h=0;h<t;h+=2){var d=e[h],f=e[h+1],p=o*d+s*f+u;e[h]=(n*d+i*f+c)/p,e[h+1]=(r*d+a*f+l)/p}},e.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,r=this.a12,o=this.a13,i=this.a21,a=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,h=e.length,d=0;d<h;d++){var f=e[d],p=t[d],g=o*f+s*p+u;e[d]=(n*f+i*p+c)/g,t[d]=(r*f+a*p+l)/g}},e.squareToQuadrilateral=function(t,n,r,o,i,a,s,c){var l=t-r+i-s,u=n-o+a-c;if(0===l&&0===u)return new e(r-t,i-r,t,o-n,a-o,n,0,0,1);var h=r-i,d=s-i,f=o-a,p=c-a,g=h*p-d*f,m=(l*p-d*u)/g,y=(h*u-l*f)/g;return new e(r-t+m*r,s-t+y*s,t,o-n+m*o,c-n+y*c,n,m,y,1)},e.quadrilateralToSquare=function(t,n,r,o,i,a,s,c){return e.squareToQuadrilateral(t,n,r,o,i,a,s,c).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}();const GT=WT;var qT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qT(t,e),t.prototype.sampleGrid=function(e,t,n,r,o,i,a,s,c,l,u,h,d,f,p,g,m,y,v){var w=GT.quadrilateralToQuadrilateral(r,o,i,a,s,c,l,u,h,d,f,p,g,m,y,v);return this.sampleGridWithTransform(e,t,n,w)},t.prototype.sampleGridWithTransform=function(e,t,n,r){if(t<=0||n<=0)throw new GI;for(var o=new HI(t,n),i=new Float32Array(2*t),a=0;a<n;a++){for(var s=i.length,c=a+.5,l=0;l<s;l+=2)i[l]=l/2+.5,i[l+1]=c;r.transformPoints(i),HT.checkAndNudgePoints(e,i);try{for(l=0;l<s;l+=2)e.get(Math.floor(i[l]),Math.floor(i[l+1]))&&o.set(l/2,a)}catch(u){throw new GI}}return o},t}(HT);const KT=XT;const YT=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new KT,e}();var QT=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toResultPoint=function(){return new LT(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),ZT=function(){function e(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),i=this.getMatrixCornerPoints(n);return new jT(o,i,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new GI;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var r=0,o=0;o<4;o++){var i=n[(this.shift+o)%4];this.compact?(r<<=7,r+=i>>1&127):(r<<=10,r+=(i>>2&992)+(i>>1&31))}var a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},e.prototype.getRotation=function(e,t){var n=0;e.forEach(function(e,r,o){n=(n<<3)+((e>>t-2<<1)+(1&e))}),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(AI.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new GI},e.prototype.getCorrectedParameterData=function(e,t){var n,r;t?(n=7,r=2):(n=10,r=4);for(var o=n-r,i=new Int32Array(n),a=n-1;a>=0;--a)i[a]=15&e,e>>=4;try{new NT(_T.AZTEC_PARAM).decode(i,o)}catch(c){throw new GI}var s=0;for(a=0;a<r;a++)s=(s<<4)+i[a];return s},e.prototype.getBullsEyeCorners=function(e){var t=e,n=e,r=e,o=e,i=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(t,i,1,-1),s=this.getFirstDifferent(n,i,1,1),c=this.getFirstDifferent(r,i,-1,1),l=this.getFirstDifferent(o,i,-1,-1);if(this.nbCenterLayers>2){var u=this.distancePoint(l,a)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(u<.75||u>1.25||!this.isWhiteOrBlackRectangle(a,s,c,l))break}t=a,n=s,r=c,o=l,i=!i}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new GI;this.compact=5===this.nbCenterLayers;var h=new LT(t.getX()+.5,t.getY()-.5),d=new LT(n.getX()+.5,n.getY()+.5),f=new LT(r.getX()-.5,r.getY()+.5),p=new LT(o.getX()-.5,o.getY()-.5);return this.expandSquare([h,d,f,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var e,t,n,r;try{e=(c=new VT(this.image).detect())[0],t=c[1],n=c[2],r=c[3]}catch(PP){var o=this.image.getWidth()/2,i=this.image.getHeight()/2;e=this.getFirstDifferent(new QT(o+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new QT(o+7,i+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new QT(o-7,i+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new QT(o-7,i-7),!1,-1,-1).toResultPoint()}var a=DT.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=DT.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{var c;e=(c=new VT(this.image,15,a,s).detect())[0],t=c[1],n=c[2],r=c[3]}catch(PP){e=this.getFirstDifferent(new QT(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new QT(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new QT(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new QT(a-7,s-7),!1,-1,-1).toResultPoint()}return a=DT.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=DT.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new QT(a,s)},e.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(e,t,n,r,o){var i=YT.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,c=a/2+this.nbCenterLayers;return i.sampleGrid(e,a,a,s,s,c,s,c,c,s,c,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY())},e.prototype.sampleLine=function(e,t,n){for(var r=0,o=this.distanceResultPoint(e,t),i=o/n,a=e.getX(),s=e.getY(),c=i*(t.getX()-e.getX())/o,l=i*(t.getY()-e.getY())/o,u=0;u<n;u++)this.image.get(DT.round(a+u*c),DT.round(s+u*l))&&(r|=1<<n-u-1);return r},e.prototype.isWhiteOrBlackRectangle=function(e,t,n,r){e=new QT(e.getX()-3,e.getY()+3),t=new QT(t.getX()-3,t.getY()-3),n=new QT(n.getX()+3,n.getY()-3),r=new QT(r.getX()+3,r.getY()+3);var o=this.getColor(r,e);if(0===o)return!1;var i=this.getColor(e,t);return i===o&&((i=this.getColor(t,n))===o&&(i=this.getColor(n,r))===o)},e.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,i=0,a=e.getX(),s=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(n),u=0;u<l;u++)a+=r,s+=o,this.image.get(DT.round(a),DT.round(s))!==c&&i++;var h=i/n;return h>.1&&h<.9?0:h<=.1===c?1:-1},e.prototype.getFirstDifferent=function(e,t,n,r){for(var o=e.getX()+n,i=e.getY()+r;this.isValid(o,i)&&this.image.get(o,i)===t;)o+=n,i+=r;for(o-=n,i-=r;this.isValid(o,i)&&this.image.get(o,i)===t;)o+=n;for(o-=n;this.isValid(o,i)&&this.image.get(o,i)===t;)i+=r;return new QT(o,i-=r)},e.prototype.expandSquare=function(e,t,n){var r=n/(2*t),o=e[0].getX()-e[2].getX(),i=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,c=new LT(a+r*o,s+r*i),l=new LT(a-r*o,s-r*i);return o=e[1].getX()-e[3].getX(),i=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[c,new LT(a+r*o,s+r*i),l,new LT(a-r*o,s-r*i)]},e.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},e.prototype.isValidPoint=function(e){var t=DT.round(e.getX()),n=DT.round(e.getY());return this.isValid(t,n)},e.prototype.distancePoint=function(e,t){return DT.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.distanceResultPoint=function(e,t){return DT.distance(e.getX(),e.getY(),t.getX(),t.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(AI.truncDivision(this.nbLayers-4,8)+1)+15},e}();const JT=ZT;const $T=function(){function e(){}return e.prototype.decode=function(e,t){void 0===t&&(t=null);var n=null,r=new JT(e.getBlackMatrix()),o=null,i=null;try{o=(a=r.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,o),i=(new kT).decode(a)}catch(PP){n=PP}if(null==i)try{var a;o=(a=r.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,o),i=(new kT).decode(a)}catch(PP){if(null!=n)throw n;throw PP}var s=new lT(i.getText(),i.getRawBytes(),i.getNumBits(),o,hT.AZTEC,mI.currentTimeMillis()),c=i.getByteSegments();null!=c&&s.putMetadata(fT.BYTE_SEGMENTS,c);var l=i.getECLevel();return null!=l&&s.putMetadata(fT.ERROR_CORRECTION_LEVEL,l),s},e.prototype.reportFoundResultPoints=function(e,t){if(null!=e){var n=e.get(OI.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach(function(e,t,r){n.foundPossibleResultPoint(e)})}},e.prototype.reset=function(){},e}();var eN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tN=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new $T,t)||this}eN(t,e)}(cT),function(){function e(){}return e.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(l){if(t&&!0===t.get(OI.TRY_HARDER)&&e.isRotateSupported()){var n=e.rotateCounterClockwise(),r=this.doDecode(n,t),o=r.getResultMetadata(),i=270;null!==o&&!0===o.get(fT.ORIENTATION)&&(i+=o.get(fT.ORIENTATION)%360),r.putMetadata(fT.ORIENTATION,i);var a=r.getResultPoints();if(null!==a)for(var s=n.getHeight(),c=0;c<a.length;c++)a[c]=new LT(s-a[c].getY()-1,a[c].getX());return r}throw new GI}},e.prototype.reset=function(){},e.prototype.doDecode=function(e,t){var n,r=e.getWidth(),o=e.getHeight(),i=new TI(r),a=t&&!0===t.get(OI.TRY_HARDER),s=Math.max(1,o>>(a?8:5));n=a?o:15;for(var c=Math.trunc(o/2),l=0;l<n;l++){var u=Math.trunc((l+1)/2),h=c+s*(0===(1&l)?u:-u);if(h<0||h>=o)break;try{i=e.getBlackRow(h,i)}catch(m){continue}for(var d=function(e){if(1===e&&(i.reverse(),t&&!0===t.get(OI.NEED_RESULT_POINT_CALLBACK))){var n=new Map;t.forEach(function(e,t){return n.set(t,e)}),n.delete(OI.NEED_RESULT_POINT_CALLBACK),t=n}try{var o=f.decodeRow(h,i,t);if(1===e){o.putMetadata(fT.ORIENTATION,180);var a=o.getResultPoints();null!==a&&(a[0]=new LT(r-a[0].getX()-1,a[0].getY()),a[1]=new LT(r-a[1].getX()-1,a[1].getY()))}return{value:o}}catch(s){}},f=this,p=0;p<2;p++){var g=d(p);if("object"===typeof g)return g.value}}throw new GI},e.recordPattern=function(e,t,n){for(var r=n.length,o=0;o<r;o++)n[o]=0;var i=e.getSize();if(t>=i)throw new GI;for(var a=!e.get(t),s=0,c=t;c<i;){if(e.get(c)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}c++}if(s!==r&&(s!==r-1||c!==i))throw new GI},e.recordPatternInReverse=function(t,n,r){for(var o=r.length,i=t.get(n);n>0&&o>=0;)t.get(--n)!==i&&(o--,i=!i);if(o>=0)throw new GI;e.recordPattern(t,n+1,r)},e.patternMatchVariance=function(e,t,n){for(var r=e.length,o=0,i=0,a=0;a<r;a++)o+=e[a],i+=t[a];if(o<i)return Number.POSITIVE_INFINITY;var s=o/i;n*=s;for(var c=0,l=0;l<r;l++){var u=e[l],h=t[l]*s,d=u>h?u-h:h-u;if(d>n)return Number.POSITIVE_INFINITY;c+=d}return c/o},e}());const nN=tN;var rN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const oN=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rN(t,e),t.findStartPattern=function(e){for(var n=e.getSize(),r=e.getNextSet(0),o=0,i=Int32Array.from([0,0,0,0,0,0]),a=r,s=!1,c=r;c<n;c++)if(e.get(c)!==s)i[o]++;else{if(5===o){for(var l=t.MAX_AVG_VARIANCE,u=-1,h=t.CODE_START_A;h<=t.CODE_START_C;h++){var d=nN.patternMatchVariance(i,t.CODE_PATTERNS[h],t.MAX_INDIVIDUAL_VARIANCE);d<l&&(l=d,u=h)}if(u>=0&&e.isRange(Math.max(0,a-(c-a)/2),a,!1))return Int32Array.from([a,c,u]);a+=i[0]+i[1],(i=i.slice(2,i.length))[o-1]=0,i[o]=0,o--}else o++;i[o]=1,s=!s}throw new GI},t.decodeCode=function(e,n,r){nN.recordPattern(e,r,n);for(var o=t.MAX_AVG_VARIANCE,i=-1,a=0;a<t.CODE_PATTERNS.length;a++){var s=t.CODE_PATTERNS[a],c=this.patternMatchVariance(n,s,t.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,i=a)}if(i>=0)return i;throw new GI},t.prototype.decodeRow=function(e,n,r){var o,i=r&&!0===r.get(OI.ASSUME_GS1),a=t.findStartPattern(n),s=a[2],c=0,l=new Uint8Array(20);switch(l[c++]=s,s){case t.CODE_START_A:o=t.CODE_CODE_A;break;case t.CODE_START_B:o=t.CODE_CODE_B;break;case t.CODE_START_C:o=t.CODE_CODE_C;break;default:throw new kI}for(var u=!1,h=!1,d="",f=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,y=0,v=s,w=0,b=!0,E=!1,_=!1;!u;){var C=h;switch(h=!1,m=y,y=t.decodeCode(n,g,p),l[c++]=y,y!==t.CODE_STOP&&(b=!0),y!==t.CODE_STOP&&(v+=++w*y),f=p,p+=g.reduce(function(e,t){return e+t},0),y){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new kI}switch(o){case t.CODE_CODE_A:if(y<64)d+=_===E?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),_=!1;else if(y<96)d+=_===E?String.fromCharCode(y-64):String.fromCharCode(y+64),_=!1;else switch(y!==t.CODE_STOP&&(b=!1),y){case t.CODE_FNC_1:i&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!E&&_?(E=!0,_=!1):E&&_?(E=!1,_=!1):_=!0;break;case t.CODE_SHIFT:h=!0,o=t.CODE_CODE_B;break;case t.CODE_CODE_B:o=t.CODE_CODE_B;break;case t.CODE_CODE_C:o=t.CODE_CODE_C;break;case t.CODE_STOP:u=!0}break;case t.CODE_CODE_B:if(y<96)d+=_===E?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),_=!1;else switch(y!==t.CODE_STOP&&(b=!1),y){case t.CODE_FNC_1:i&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!E&&_?(E=!0,_=!1):E&&_?(E=!1,_=!1):_=!0;break;case t.CODE_SHIFT:h=!0,o=t.CODE_CODE_A;break;case t.CODE_CODE_A:o=t.CODE_CODE_A;break;case t.CODE_CODE_C:o=t.CODE_CODE_C;break;case t.CODE_STOP:u=!0}break;case t.CODE_CODE_C:if(y<100)y<10&&(d+="0"),d+=y;else switch(y!==t.CODE_STOP&&(b=!1),y){case t.CODE_FNC_1:i&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case t.CODE_CODE_A:o=t.CODE_CODE_A;break;case t.CODE_CODE_B:o=t.CODE_CODE_B;break;case t.CODE_STOP:u=!0}}C&&(o=o===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var S=p-f;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-f)/2),!1))throw new GI;if((v-=w*m)%103!==m)throw new fI;var A=d.length;if(0===A)throw new GI;A>0&&b&&(d=o===t.CODE_CODE_C?d.substring(0,A-2):d.substring(0,A-1));for(var I=(a[1]+a[0])/2,T=f+S/2,N=l.length,O=new Uint8Array(N),R=0;R<N;R++)O[R]=l[R];var k=[new LT(I,e),new LT(T,e)];return new lT(d,O,0,k,hT.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(nN);var iN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sN=function(e){function t(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.call(this)||this;return r.usingCheckDigit=t,r.extendedMode=n,r.decodeRowResult="",r.counters=new Int32Array(9),r}return iN(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a,s,c=this.counters;c.fill(0),this.decodeRowResult="";var l,u,h=t.findAsteriskPattern(n,c),d=n.getNextSet(h[1]),f=n.getSize();do{t.recordPattern(n,d,c);var p=t.toNarrowWidePattern(c);if(p<0)throw new GI;l=t.patternToChar(p),this.decodeRowResult+=l,u=d;try{for(var g=(o=void 0,aN(c)),m=g.next();!m.done;m=g.next()){d+=m.value}}catch(I){o={error:I}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}d=n.getNextSet(d)}while("*"!==l);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y,v=0;try{for(var w=aN(c),b=w.next();!b.done;b=w.next()){v+=b.value}}catch(T){a={error:T}}finally{try{b&&!b.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}if(d!==f&&2*(d-u-v)<v)throw new GI;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,_=0,C=0;C<E;C++)_+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(C));if(this.decodeRowResult.charAt(E)!==t.ALPHABET_STRING.charAt(_%43))throw new fI;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(0===this.decodeRowResult.length)throw new GI;y=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var S=(h[1]+h[0])/2,A=u+v/2;return new lT(y,null,0,[new LT(S,e),new LT(A,e)],hT.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,n){for(var r=e.getSize(),o=e.getNextSet(0),i=0,a=o,s=!1,c=n.length,l=o;l<r;l++)if(e.get(l)!==s)n[i]++;else{if(i===c-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=n[0]+n[1],n.copyWithin(0,2,2+i-1),n[i-1]=0,n[i]=0,i--}else i++;n[i]=1,s=!s}throw new GI},t.toNarrowWidePattern=function(e){var t,n,r,o=e.length,i=0;do{var a=2147483647;try{for(var s=(t=void 0,aN(e)),c=s.next();!c.done;c=s.next()){(d=c.value)<a&&d>i&&(a=d)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}i=a,r=0;for(var l=0,u=0,h=0;h<o;h++){(d=e[h])>i&&(u|=1<<o-1-h,r++,l+=d)}if(3===r){for(h=0;h<o&&r>0;h++){var d;if((d=e[h])>i&&(r--,2*d>=l))return-1}return u}}while(r>3);return-1},t.patternToChar=function(e){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===e)return t.ALPHABET_STRING.charAt(n);if(e===t.ASTERISK_ENCODING)return"*";throw new GI},t.decodeExtended=function(e){for(var t=e.length,n="",r=0;r<t;r++){var o=e.charAt(r);if("+"===o||"$"===o||"%"===o||"/"===o){var i=e.charAt(r+1),a="\0";switch(o){case"+":if(!(i>="A"&&i<="Z"))throw new kI;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new kI;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new kI;a="\x7f"}break;case"/":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new kI;a=":"}}n+=a,r++}else n+=o}return n},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(nN);const cN=sN;var lN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hN=function(e){function t(){var t=e.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return lN(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a,s,c,l,u=this.findAsteriskPattern(n),h=n.getNextSet(u[1]),d=n.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";do{t.recordPattern(n,h,f);var p=this.toPattern(f);if(p<0)throw new GI;c=this.patternToChar(p),this.decodeRowResult+=c,l=h;try{for(var g=(o=void 0,uN(f)),m=g.next();!m.done;m=g.next()){h+=m.value}}catch(C){o={error:C}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}h=n.getNextSet(h)}while("*"!==c);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var v=uN(f),w=v.next();!w.done;w=v.next()){y+=w.value}}catch(S){a={error:S}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(h===d||!n.get(h))throw new GI;if(this.decodeRowResult.length<2)throw new GI;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var b=this.decodeExtended(this.decodeRowResult),E=(u[1]+u[0])/2,_=l+y/2;return new lT(b,null,0,[new LT(E,e),new LT(_,e)],hT.CODE_93,(new Date).getTime())},t.prototype.findAsteriskPattern=function(e){var n=e.getSize(),r=e.getNextSet(0);this.counters.fill(0);for(var o=this.counters,i=r,a=!1,s=o.length,c=0,l=r;l<n;l++)if(e.get(l)!==a)o[c]++;else{if(c===s-1){if(this.toPattern(o)===t.ASTERISK_ENCODING)return new Int32Array([i,l]);i+=o[0]+o[1],o.copyWithin(0,2,2+c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,a=!a}throw new GI},t.prototype.toPattern=function(e){var t,n,r=0;try{for(var o=uN(e),i=o.next();!i.done;i=o.next()){r+=i.value}}catch(h){t={error:h}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}for(var a=0,s=e.length,c=0;c<s;c++){var l=Math.round(9*e[c]/r);if(l<1||l>4)return-1;if(0===(1&c))for(var u=0;u<l;u++)a=a<<1|1;else a<<=l}return a},t.prototype.patternToChar=function(e){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===e)return t.ALPHABET_STRING.charAt(n);throw new GI},t.prototype.decodeExtended=function(e){for(var t=e.length,n="",r=0;r<t;r++){var o=e.charAt(r);if(o>="a"&&o<="d"){if(r>=t-1)throw new kI;var i=e.charAt(r+1),a="\0";switch(o){case"d":if(!(i>="A"&&i<="Z"))throw new kI;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"a":if(!(i>="A"&&i<="Z"))throw new kI;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"b":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if(!(i>="X"&&i<="Z"))throw new kI;a=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new kI;a=":"}}n+=a,r++}else n+=o}return n},t.prototype.checkChecksums=function(e){var t=e.length;this.checkOneChecksum(e,t-2,20),this.checkOneChecksum(e,t-1,15)},t.prototype.checkOneChecksum=function(e,n,r){for(var o=1,i=0,a=n-1;a>=0;a--)i+=o*t.ALPHABET_STRING.indexOf(e.charAt(a)),++o>r&&(o=1);if(e.charAt(n)!==t.ALPHABET_STRING[i%47])throw new fI},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(nN);const dN=hN;var fN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return fN(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a=this.decodeStart(n),s=this.decodeEnd(n),c=new VI;t.decodeMiddle(n,a[1],s[0],c);var l=c.toString(),u=null;null!=r&&(u=r.get(OI.ALLOWED_LENGTHS)),null==u&&(u=t.DEFAULT_ALLOWED_LENGTHS);var h=l.length,d=!1,f=0;try{for(var p=pN(u),g=p.next();!g.done;g=p.next()){var m=g.value;if(h===m){d=!0;break}m>f&&(f=m)}}catch(v){o={error:v}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}if(!d&&h>f&&(d=!0),!d)throw new kI;var y=[new LT(a[1],e),new LT(s[0],e)];return new lT(l,null,0,y,hT.ITF,(new Date).getTime())},t.decodeMiddle=function(e,n,r,o){var i=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(i.fill(0),a.fill(0),s.fill(0);n<r;){nN.recordPattern(e,n,i);for(var c=0;c<5;c++){var l=2*c;a[c]=i[l],s[c]=i[l+1]}var u=t.decodeDigit(a);o.append(u.toString()),u=this.decodeDigit(s),o.append(u.toString()),i.forEach(function(e){n+=e})}},t.prototype.decodeStart=function(e){var n=t.skipWhiteSpace(e),r=t.findGuardPattern(e,n,t.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r},t.prototype.validateQuietZone=function(e,t){var n=10*this.narrowLineWidth;n=n<t?n:t;for(var r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new GI},t.skipWhiteSpace=function(e){var t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new GI;return n},t.prototype.decodeEnd=function(e){e.reverse();try{var n=t.skipWhiteSpace(e),r=void 0;try{r=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[0])}catch(i){i instanceof GI&&(r=t.findGuardPattern(e,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);var o=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-o,r}finally{e.reverse()}},t.findGuardPattern=function(e,n,r){var o=r.length,i=new Int32Array(o),a=e.getSize(),s=!1,c=0,l=n;i.fill(0);for(var u=n;u<a;u++)if(e.get(u)!==s)i[c]++;else{if(c===o-1){if(nN.patternMatchVariance(i,r,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[l,u];l+=i[0]+i[1],mI.arraycopy(i,2,i,0,c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,s=!s}throw new GI},t.decodeDigit=function(e){for(var n=t.MAX_AVG_VARIANCE,r=-1,o=t.PATTERNS.length,i=0;i<o;i++){var a=t.PATTERNS[i],s=nN.patternMatchVariance(e,a,t.MAX_INDIVIDUAL_VARIANCE);s<n?(n=s,r=i):s===n&&(r=-1)}if(r>=0)return r%10;throw new GI},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(nN);const mN=gN;var yN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return yN(t,e),t.findStartGuardPattern=function(e){for(var n,r=!1,o=0,i=Int32Array.from([0,0,0]);!r;){i=Int32Array.from([0,0,0]);var a=(n=t.findGuardPattern(e,o,!1,this.START_END_PATTERN,i))[0],s=a-((o=n[1])-a);s>=0&&(r=e.isRange(s,a,!1))}return n},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var r=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===r},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,r=t-1;r>=0;r-=2){if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new kI;n+=o}n*=3;for(r=t-2;r>=0;r-=2){var o;if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new kI;n+=o}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))},t.findGuardPattern=function(e,n,r,o,i){for(var a=e.getSize(),s=0,c=n=r?e.getNextUnset(n):e.getNextSet(n),l=o.length,u=r,h=n;h<a;h++)if(e.get(h)!==u)i[s]++;else{if(s===l-1){if(nN.patternMatchVariance(i,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=i[0]+i[1];for(var d=i.slice(2,i.length),f=0;f<s-1;f++)i[f]=d[f];i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,u=!u}throw new GI},t.decodeDigit=function(e,n,r,o){this.recordPattern(e,r,n);for(var i=this.MAX_AVG_VARIANCE,a=-1,s=o.length,c=0;c<s;c++){var l=o[c],u=nN.patternMatchVariance(n,l,t.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,a=c)}if(a>=0)return a;throw new GI},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(nN);const wN=vN;var bN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EN=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=e.parseExtensionString(a),c=[new LT((r[0]+r[1])/2,t),new LT(i,t)],l=new lT(a,null,0,c,hT.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},e.prototype.decodeMiddle=function(t,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=t.getSize(),c=n[1],l=0,u=0;u<5&&c<s;u++){var h=wN.decodeDigit(t,a,c,wN.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var d=(o=void 0,bN(a)),f=d.next();!f.done;f=d.next()){c+=f.value}}catch(g){o={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}h>=10&&(l|=1<<4-u),4!==u&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(5!==r.length)throw new GI;var p=this.determineCheckDigit(l);if(e.extensionChecksum(r.toString())!==p)throw new GI;return c},e.extensionChecksum=function(e){for(var t=e.length,n=0,r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new GI},e.parseExtensionString=function(t){if(5!==t.length)return null;var n=e.parseExtension5String(t);return null==n?null:new Map([[fT.SUGGESTED_PRICE,n]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())},e}();const _N=EN;var CN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SN=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=e.parseExtensionString(a),c=[new LT((r[0]+r[1])/2,t),new LT(i,t)],l=new lT(a,null,0,c,hT.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},e.prototype.decodeMiddle=function(e,t,n){var r,o,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=e.getSize(),s=t[1],c=0,l=0;l<2&&s<a;l++){var u=wN.decodeDigit(e,i,s,wN.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+u%10);try{for(var h=(r=void 0,CN(i)),d=h.next();!d.done;d=h.next()){s+=d.value}}catch(f){r={error:f}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}u>=10&&(c|=1<<1-l),1!==l&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(2!==n.length)throw new GI;if(parseInt(n.toString())%4!==c)throw new GI;return s},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[fT.ISSUE_NUMBER,parseInt(e)]])},e}();const AN=SN;const IN=function(){function e(){}return e.decodeRow=function(e,t,n){var r=wN.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new _N).decodeRow(e,t,r)}catch(o){return(new AN).decodeRow(e,t,r)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}();var TN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NN=function(e){function t(){var n=e.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(e){return Int32Array.from(e)});for(var r=10;r<20;r++){for(var o=t.L_PATTERNS[r-10],i=new Int32Array(o.length),a=0;a<o.length;a++)i[a]=o[o.length-a-1];t.L_AND_G_PATTERNS[r]=i}return n}return TN(t,e),t.prototype.decodeRow=function(e,n,r){var o=t.findStartGuardPattern(n),i=null==r?null:r.get(OI.NEED_RESULT_POINT_CALLBACK);if(null!=i){var a=new LT((o[0]+o[1])/2,e);i.foundPossibleResultPoint(a)}var s=this.decodeMiddle(n,o,this.decodeRowStringBuffer),c=s.rowOffset,l=s.resultString;if(null!=i){var u=new LT(c,e);i.foundPossibleResultPoint(u)}var h=t.decodeEnd(n,c);if(null!=i){var d=new LT((h[0]+h[1])/2,e);i.foundPossibleResultPoint(d)}var f=h[1],p=f+(f-h[0]);if(p>=n.getSize()||!n.isRange(f,p,!1))throw new GI;var g=l.toString();if(g.length<8)throw new kI;if(!t.checkChecksum(g))throw new fI;var m=(o[1]+o[0])/2,y=(h[1]+h[0])/2,v=this.getBarcodeFormat(),w=[new LT(m,e),new LT(y,e)],b=new lT(g,null,0,w,v,(new Date).getTime()),E=0;try{var _=IN.decodeRow(e,n,h[1]);b.putMetadata(fT.UPC_EAN_EXTENSION,_.getText()),b.putAllMetadata(_.getResultMetadata()),b.addResultPoints(_.getResultPoints()),E=_.getText().length}catch(I){}var C=null==r?null:r.get(OI.ALLOWED_EAN_EXTENSIONS);if(null!=C){var S=!1;for(var A in C)if(E.toString()===A){S=!0;break}if(!S)throw new GI}return v===hT.EAN_13||hT.UPC_A,b},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var n=e.length;if(0===n)return!1;var r=parseInt(e.charAt(n-1),10);return t.getStandardUPCEANChecksum(e.substring(0,n-1))===r},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,n=0,r=t-1;r>=0;r-=2){if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new kI;n+=o}n*=3;for(r=t-2;r>=0;r-=2){var o;if((o=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new kI;n+=o}return(1e3-n)%10},t.decodeEnd=function(e,n){return t.findGuardPattern(e,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(wN);const ON=NN;var RN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xN=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return RN(t,e),t.prototype.decodeMiddle=function(e,n,r){var o,i,a,s,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=e.getSize(),u=n[1],h=0,d=0;d<6&&u<l;d++){var f=ON.decodeDigit(e,c,u,ON.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var p=(o=void 0,kN(c)),g=p.next();!g.done;g=p.next()){u+=g.value}}catch(v){o={error:v}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}f>=10&&(h|=1<<5-d)}r=t.determineFirstDigit(r,h),u=ON.findGuardPattern(e,u,!0,ON.MIDDLE_PATTERN,new Int32Array(ON.MIDDLE_PATTERN.length).fill(0))[1];for(d=0;d<6&&u<l;d++){f=ON.decodeDigit(e,c,u,ON.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f);try{for(var m=(a=void 0,kN(c)),y=m.next();!y.done;y=m.next()){u+=y.value}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}return{rowOffset:u,resultString:r}},t.prototype.getBarcodeFormat=function(){return hT.EAN_13},t.determineFirstDigit=function(e,t){for(var n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new GI},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(ON);const DN=xN;var PN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LN=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return PN(t,e),t.prototype.decodeMiddle=function(e,t,n){var r,o,i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var c=e.getSize(),l=t[1],u=0;u<4&&l<c;u++){var h=ON.decodeDigit(e,s,l,ON.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var d=(r=void 0,MN(s)),f=d.next();!f.done;f=d.next()){l+=f.value}}catch(m){r={error:m}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}l=ON.findGuardPattern(e,l,!0,ON.MIDDLE_PATTERN,new Int32Array(ON.MIDDLE_PATTERN.length).fill(0))[1];for(u=0;u<4&&l<c;u++){h=ON.decodeDigit(e,s,l,ON.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(i=void 0,MN(s)),g=p.next();!g.done;g=p.next()){l+=g.value}}catch(y){i={error:y}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}return{rowOffset:l,resultString:n}},t.prototype.getBarcodeFormat=function(){return hT.EAN_8},t}(ON);const BN=LN;var FN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ean13Reader=new DN,t}return FN(t,e),t.prototype.getBarcodeFormat=function(){return hT.UPC_A},t.prototype.decode=function(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))},t.prototype.decodeMiddle=function(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)},t.prototype.maybeReturnResult=function(e){var t=e.getText();if("0"===t.charAt(0)){var n=new lT(t.substring(1),null,null,e.getResultPoints(),hT.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new GI},t.prototype.reset=function(){this.ean13Reader.reset()},t}(ON);var UN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zN=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return UN(t,e),t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters.map(function(e){return e});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),c=n[1],l=0,u=0;u<6&&c<s;u++){var h=t.decodeDigit(e,a,c,t.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var d=(o=void 0,VN(a)),f=d.next();!f.done;f=d.next()){c+=f.value}}catch(p){o={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}h>=10&&(l|=1<<5-u)}return t.determineNumSysAndCheckDigit(new VI(r),l),c},t.prototype.decodeEnd=function(e,n){return t.findGuardPatternWithoutCounters(e,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return ON.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,t){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return e.insert(0,"0"+n),void e.append("0"+r);throw GI.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return hT.UPC_E},t.convertUPCEtoUPCA=function(e){var t=e.slice(1,7).split("").map(function(e){return e.charCodeAt(0)}),n=new VI;n.append(e.charAt(0));var r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(ON);const HN=zN;var WN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qN=function(e){function t(t){var n=e.call(this)||this,r=null==t?null:t.get(OI.POSSIBLE_FORMATS),o=[];return null!=r&&(r.indexOf(hT.EAN_13)>-1&&o.push(new DN),r.indexOf(hT.UPC_A)>-1&&o.push(new jN),r.indexOf(hT.EAN_8)>-1&&o.push(new BN),r.indexOf(hT.UPC_E)>-1&&o.push(new HN)),0===o.length&&(o.push(new DN),o.push(new jN),o.push(new BN),o.push(new HN)),n.readers=o,n}return WN(t,e),t.prototype.decodeRow=function(e,t,n){var r,o;try{for(var i=GN(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{var c=s.decodeRow(e,t,n),l=c.getBarcodeFormat()===hT.EAN_13&&"0"===c.getText().charAt(0),u=null==n?null:n.get(OI.POSSIBLE_FORMATS),h=null==u||u.includes(hT.UPC_A);if(l&&h){var d=c.getRawBytes(),f=new lT(c.getText().substring(1),d,d?d.length:null,c.getResultPoints(),hT.UPC_A);return f.putAllMetadata(c.getResultMetadata()),f}return c}catch(p){}}}catch(g){r={error:g}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new GI},t.prototype.reset=function(){var e,t;try{for(var n=GN(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t}(nN);const XN=qN;var KN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return KN(t,e),t.prototype.decodeRow=function(e,t,n){var r=this.getValidRowData(t);if(!r)throw new GI;var o=this.codaBarDecodeRow(r.row);if(!o)throw new GI;return new lT(o,null,0,[new LT(r.left,e),new LT(r.right,e)],hT.CODABAR,(new Date).getTime())},t.prototype.getValidRowData=function(e){var t=e.toArray(),n=t.indexOf(!0);if(-1===n)return null;var r=t.lastIndexOf(!0);if(r<=n)return null;for(var o=[],i=(t=t.slice(n,r+1))[0],a=1,s=1;s<t.length;s++)t[s]===i?a++:(i=t[s],o.push(a),a=1);return o.push(a),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:n,right:r}},t.prototype.codaBarDecodeRow=function(e){for(var t=[],n=Math.ceil(e.reduce(function(e,t){return(e+t)/2},0));e.length>0;){var r=e.splice(0,8).splice(0,7).map(function(e){return e<n?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[r])return null;t.push(this.CODA_BAR_CHAR_SET[r])}var o=t.join("");return this.validCodaBarString(o)?o:null},t.prototype.validCodaBarString=function(e){return/^[A-D].{1,}[A-D]$/.test(e)},t}(nN);const QN=YN;var ZN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JN=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$N=function(e){function t(){var t=e.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return ZN(t,e),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,n){for(var r=0;r<n.length;r++)if(nN.patternMatchVariance(e,n[r],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return r;throw new GI},t.count=function(e){return DT.sum(new Int32Array(e))},t.increment=function(e,t){for(var n=0,r=t[0],o=1;o<e.length;o++)t[o]>r&&(r=t[o],n=o);e[n]++},t.decrement=function(e,t){for(var n=0,r=t[0],o=1;o<e.length;o++)t[o]<r&&(r=t[o],n=o);e[n]--},t.isFinderPattern=function(e){var n,r,o=e[0]+e[1],i=o/(o+e[2]+e[3]);if(i>=t.MIN_FINDER_PATTERN_RATIO&&i<=t.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var c=JN(e),l=c.next();!l.done;l=c.next()){var u=l.value;u>s&&(s=u),u<a&&(a=u)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return s<10*a}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(nN);const eO=$N;const tO=function(){function e(e,t){this.value=e,this.checksumPortion=t}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}();var nO=function(){function e(e,t,n,r,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new LT(n,o)),this.resultPoints.push(new LT(r,o))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.hashCode=function(){return this.value},e}();const rO=nO;var oO=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iO=function(){function e(){}return e.getRSSvalue=function(t,n,r){var o,i,a=0;try{for(var s=oO(t),c=s.next();!c.done;c=s.next()){a+=c.value}}catch(y){o={error:y}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}for(var l=0,u=0,h=t.length,d=0;d<h-1;d++){var f=void 0;for(f=1,u|=1<<d;f<t[d];f++,u&=~(1<<d)){var p=e.combins(a-f-1,h-d-2);if(r&&0===u&&a-f-(h-d-1)>=h-d-1&&(p-=e.combins(a-f-(h-d),h-d-2)),h-d-1>1){for(var g=0,m=a-f-(h-d-2);m>n;m--)g+=e.combins(a-f-m-1,h-d-3);p-=g*(h-1-d)}else a-f>n&&p--;l+=p}a-=f}return l},e.combins=function(e,t){var n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);for(var o=1,i=1,a=e;a>n;a--)o*=a,i<=r&&(o/=i,i++);for(;i<=r;)o/=i,i++;return o},e}();const aO=iO;var sO=function(){function e(){}return e.buildBitArray=function(e){var t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);for(var n=new TI(12*t),r=0,o=e[0].getRightChar().getValue(),i=11;i>=0;--i)0!==(o&1<<i)&&n.set(r),r++;for(i=1;i<e.length;++i){for(var a=e[i],s=a.getLeftChar().getValue(),c=11;c>=0;--c)0!==(s&1<<c)&&n.set(r),r++;if(null!==a.getRightChar()){var l=a.getRightChar().getValue();for(c=11;c>=0;--c)0!==(l&1<<c)&&n.set(r),r++}}return n},e}();const cO=sO;const lO=function(){function e(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}();const uO=function(){function e(e){this.newPosition=e}return e.prototype.getNewPosition=function(){return this.newPosition},e}();var hO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const dO=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return hO(t,e),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(uO);var fO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pO=function(e){function t(t,n,r){var o=e.call(this,t)||this;return r?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return fO(t,e),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(uO);var gO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const mO=function(e){function t(t,n,r){var o=e.call(this,t)||this;if(n<0||n>10||r<0||r>10)throw new kI;return o.firstDigit=n,o.secondDigit=r,o}return gO(t,e),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(uO);var yO=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vO=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var n,r,o,i,a,s,c,l;if(!t)return null;if(t.length<2)throw new GI;var u=t.substring(0,2);try{for(var h=yO(e.TWO_DIGIT_DATA_LENGTH),d=h.next();!d.done;d=h.next()){if((E=d.value)[0]===u)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,E[2],t):e.processFixedAI(2,E[1],t)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}if(t.length<3)throw new GI;var f=t.substring(0,3);try{for(var p=yO(e.THREE_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){if((E=g.value)[0]===f)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,E[2],t):e.processFixedAI(3,E[1],t)}}catch(C){o={error:C}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}try{for(var m=yO(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){if((E=y.value)[0]===f)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,E[2],t):e.processFixedAI(4,E[1],t)}}catch(S){a={error:S}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(t.length<4)throw new GI;var v=t.substring(0,4);try{for(var w=yO(e.FOUR_DIGIT_DATA_LENGTH),b=w.next();!b.done;b=w.next()){var E;if((E=b.value)[0]===v)return E[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,E[2],t):e.processFixedAI(4,E[1],t)}}catch(A){c={error:A}}finally{try{b&&!b.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}throw new GI},e.processFixedAI=function(t,n,r){if(r.length<t)throw new GI;var o=r.substring(0,t);if(r.length<t+n)throw new GI;var i=r.substring(t,t+n),a=r.substring(t+n),s="("+o+")"+i,c=e.parseFieldsInGeneralPurpose(a);return null==c?s:s+c},e.processVariableAI=function(t,n,r){var o,i=r.substring(0,t);o=r.length<t+n?r.length:t+n;var a=r.substring(t,o),s=r.substring(o),c="("+i+")"+a,l=e.parseFieldsInGeneralPurpose(s);return null==l?c:c+l},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}();const wO=vO;const bO=function(){function e(e){this.buffer=new VI,this.information=e}return e.prototype.decodeAllCodes=function(e,t){for(var n=t,r=null;;){var o=this.decodeGeneralPurposeField(n,r),i=wO.parseFieldsInGeneralPurpose(o.getNewString());if(null!=i&&e.append(i),r=o.isRemaining()?""+o.getRemainingValue():null,n===o.getNewPosition())break;n=o.getNewPosition()}return e.toString()},e.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},e.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new mO(this.information.getSize(),0===t?mO.FNC1:t-1,mO.FNC1)}var n=this.extractNumericValueFromBitArray(e,7);return new mO(e+7,(n-8)/11,(n-8)%11)},e.prototype.extractNumericValueFromBitArray=function(t,n){return e.extractNumericValueFromBitArray(this.information,t,n)},e.extractNumericValueFromBitArray=function(e,t,n){for(var r=0,o=0;o<n;++o)e.get(t+o)&&(r|=1<<n-o-1);return r},e.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new pO(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new pO(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new pO(this.current.getPosition(),this.buffer.toString()):new pO(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new lO(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){t=new pO(this.current.getPosition(),this.buffer.toString());return new lO(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new lO(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new pO(this.current.getPosition(),this.buffer.toString());return new lO(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new lO(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new pO(this.current.getPosition(),this.buffer.toString());return new lO(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new lO(!1)},e.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253},e.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new dO(e+5,dO.FNC1);if(t>=5&&t<15)return new dO(e+5,"0"+(t-5));var n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new dO(e+7,""+(r+1));if(r>=90&&r<116)return new dO(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new kI}return new dO(e+8,n)},e.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new dO(e+5,dO.FNC1);if(t>=5&&t<15)return new dO(e+5,"0"+(t-5));var n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new dO(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new IT("Decoding invalid alphanumeric value: "+r)}return new dO(e+6,n)},e.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},e}();const EO=function(){function e(e){this.information=e,this.generalDecoder=new bO(e)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}();var _O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const CO=function(e){function t(t){return e.call(this,t)||this}return _O(t,e),t.prototype.encodeCompressedGtin=function(e,t){e.append("(01)");var n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)},t.prototype.encodeCompressedGtinWithoutAI=function(e,n,r){for(var o=0;o<4;++o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}t.appendCheckDigit(e,r)},t.appendCheckDigit=function(e,t){for(var n=0,r=0;r<13;r++){var o=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*o:o}10===(n=10-n%10)&&(n=0),e.append(n)},t.GTIN_SIZE=40,t}(EO);var SO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const AO=function(e){function t(t){return e.call(this,t)||this}return SO(t,e),t.prototype.parseInformation=function(){var e=new VI;e.append("(01)");var n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(CO);var IO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const TO=function(e){function t(t){return e.call(this,t)||this}return IO(t,e),t.prototype.parseInformation=function(){var e=new VI;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(EO);var NO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const OO=function(e){function t(t){return e.call(this,t)||this}return NO(t,e),t.prototype.encodeCompressedWeight=function(e,t,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);for(var o=this.checkWeight(r),i=1e5,a=0;a<5;++a)o/i===0&&e.append("0"),i/=10;e.append(o)},t}(CO);var RO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const kO=function(e){function t(t){return e.call(this,t)||this}return RO(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+OO.GTIN_SIZE+t.WEIGHT_SIZE)throw new GI;var e=new VI;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+OO.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(OO);var xO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const DO=function(e){function t(t){return e.call(this,t)||this}return xO(t,e),t.prototype.addWeightCode=function(e,t){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(kO);var PO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const MO=function(e){function t(t){return e.call(this,t)||this}return PO(t,e),t.prototype.addWeightCode=function(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(kO);var LO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const BO=function(e){function t(t){return e.call(this,t)||this}return LO(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+CO.GTIN_SIZE)throw new GI;var e=new VI;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+CO.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+CO.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(CO);var FO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jO=function(e){function t(t){return e.call(this,t)||this}return FO(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+CO.GTIN_SIZE)throw new GI;var e=new VI;this.encodeCompressedGtin(e,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+CO.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+CO.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);r/100===0&&e.append("0"),r/10===0&&e.append("0"),e.append(r);var o=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+CO.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(CO);var UO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const VO=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dateCode=r,o.firstAIdigits=n,o}return UO(t,e),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new GI;var e=new VI;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(38400!==r){e.append("("),e.append(this.dateCode),e.append(")");var o=r%32,i=(r/=32)%12+1,a=r/=12;a/10===0&&e.append("0"),e.append(a),i/10===0&&e.append("0"),e.append(i),o/10===0&&e.append("0"),e.append(o)}},t.prototype.addWeightCode=function(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(OO);const zO=function(){function e(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return null==this.rightchar},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,n){return t instanceof e&&(e.equalsOrNull(t.leftchar,n.leftchar)&&e.equalsOrNull(t.rightchar,n.rightchar)&&e.equalsOrNull(t.finderpattern,n.finderpattern))},e.equalsOrNull=function(t,n){return null===t?null===n:e.equals(t,n)},e.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},e}();const HO=function(){function e(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,n){return t instanceof e&&(this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed)},e.prototype.checkEqualitity=function(e,t){var n;if(e&&t)return e.forEach(function(e,r){t.forEach(function(t){e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)})}),n},e}();var WO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GO=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return WO(t,e),t.prototype.decodeRow=function(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,n))}catch(PP){}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,t){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof GI){if(!this.pairs.length)throw new GI;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){var o=this.checkRowsBoolean(!1);if(null!=o)return o;if(null!=(o=this.checkRowsBoolean(!0)))return o}throw new GI},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var t=null;try{t=this.checkRows(new Array,0)}catch(PP){console.log(PP)}return e&&(this.rows=this.rows.reverse()),t},t.prototype.checkRows=function(e,n){for(var r,o,i=n;i<this.rows.length;i++){var a=this.rows[i];this.pairs.length=0;try{for(var s=(r=void 0,GO(e)),c=s.next();!c.done;c=s.next()){var l=c.value;this.pairs.push(l.getPairs())}}catch(h){r={error:h}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}if(this.pairs.push(a.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var u=new Array(e);u.push(a);try{return this.checkRows(u,i+1)}catch(PP){console.log(PP)}}}throw new GI},t.isValidSequence=function(e){var n,r;try{for(var o=GO(t.FINDER_PATTERN_SEQUENCES),i=o.next();!i.done;i=o.next()){var a=i.value;if(!(e.length>a.length)){for(var s=!0,c=0;c<e.length;c++)if(e[c].getFinderPattern().getValue()!==a[c]){s=!1;break}if(s)return!0}}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(e,n){for(var r=0,o=!1,i=!1;r<this.rows.length;){var a=this.rows[r];if(a.getRowNumber()>e){i=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),r++}i||o||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new HO(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,t){var n,r,o,i,a,s;try{for(var c=GO(t),l=c.next();!l.done;l=c.next()){var u=l.value;if(u.getPairs().length!==e.length){try{for(var h=(o=void 0,GO(u.getPairs())),d=h.next();!d.done;d=h.next()){var f=d.value,p=!1;try{for(var g=(a=void 0,GO(e)),m=g.next();!m.done;m=g.next()){var y=m.value;if(zO.equals(f,y)){p=!0;break}}}catch(v){a={error:v}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}p||!1}}catch(w){o={error:w}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}}}}catch(b){n={error:b}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}},t.isPartialRow=function(e,t){var n,r,o,i,a,s;try{for(var c=GO(t),l=c.next();!l.done;l=c.next()){var u=l.value,h=!0;try{for(var d=(o=void 0,GO(e)),f=d.next();!f.done;f=d.next()){var p=f.value,g=!1;try{for(var m=(a=void 0,GO(u.getPairs())),y=m.next();!y.done;y=m.next()){var v=y.value;if(p.equals(v)){g=!0;break}}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!g){h=!1;break}}}catch(b){o={error:b}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}if(h)return!0}}catch(E){n={error:E}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var t=function(e){try{if(e.get(1))return new AO(e);if(!e.get(2))return new TO(e);switch(bO.extractNumericValueFromBitArray(e,1,4)){case 4:return new DO(e);case 5:return new MO(e)}switch(bO.extractNumericValueFromBitArray(e,1,5)){case 12:return new BO(e);case 13:return new jO(e)}switch(bO.extractNumericValueFromBitArray(e,1,7)){case 56:return new VO(e,"310","11");case 57:return new VO(e,"320","11");case 58:return new VO(e,"310","13");case 59:return new VO(e,"320","13");case 60:return new VO(e,"310","15");case 61:return new VO(e,"320","15");case 62:return new VO(e,"310","17");case 63:return new VO(e,"320","17")}}catch(PP){throw console.log(PP),new IT("unknown decoder: "+e)}}(cO.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints(),o=[n[0],n[1],r[0],r[1]];return new lT(t,null,null,o,hT.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null===n)return!1;for(var r=n.getChecksumPortion(),o=2,i=1;i<this.pairs.size();++i){var a=this.pairs.get(i);r+=a.getLeftChar().getChecksumPortion(),o++;var s=a.getRightChar();null!=s&&(r+=s.getChecksumPortion(),o++)}return 211*(o-4)+(r%=211)===t.getValue()},t.getNextSecondBar=function(e,t){var n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n},t.prototype.retrieveNextPair=function(e,n,r){var o,i=n.length%2===0;this.startFromEven&&(i=!i);var a=!0,s=-1;do{this.findNextPair(e,n,s),null===(o=this.parseFoundFinderPattern(e,r,i))?s=t.getNextSecondBar(e,this.startEnd[0]):a=!1}while(a);var c,l=this.decodeDataCharacter(e,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new GI;try{c=this.decodeDataCharacter(e,o,i,!1)}catch(PP){c=null,console.log(PP)}return new zO(l,c,o,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,n,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var i,a=e.getSize();if(r>=0)i=r;else if(this.isEmptyPair(n))i=0;else{i=n[n.length-1].getFinderPattern().getStartEnd()[1]}var s=n.length%2!==0;this.startFromEven&&(s=!s);for(var c=!1;i<a&&(c=!e.get(i));)i++;for(var l=0,u=i,h=i;h<a;h++)if(e.get(h)!==c)o[l]++;else{if(3===l){if(s&&t.reverseCounters(o),t.isFinderPattern(o))return this.startEnd[0]=u,void(this.startEnd[1]=h);s&&t.reverseCounters(o),u+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,l--}else l++;o[l]=1,c=!c}throw new GI},t.reverseCounters=function(e){for(var t=e.length,n=0;n<t/2;++n){var r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}},t.prototype.parseFoundFinderPattern=function(e,n,r){var o,i,a;if(r){for(var s=this.startEnd[0]-1;s>=0&&!e.get(s);)s--;s++,o=this.startEnd[0]-s,i=s,a=this.startEnd[1]}else i=this.startEnd[0],o=(a=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var c,l=this.getDecodeFinderCounters();mI.arraycopy(l,0,l,1,l.length-1),l[0]=o;try{c=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch(PP){return null}return new rO(c,[i,a],i,a,n)},t.prototype.decodeDataCharacter=function(e,n,r,o){for(var i=this.getDataCharacterCounters(),a=0;a<i.length;a++)i[a]=0;if(o)t.recordPatternInReverse(e,n.getStartEnd()[0],i);else{t.recordPattern(e,n.getStartEnd()[1],i);for(var s=0,c=i.length-1;s<c;s++,c--){var l=i[s];i[s]=i[c],i[c]=l}}var u=DT.sum(new Int32Array(i))/17,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-h)/h>.3)throw new GI;var d=this.getOddCounts(),f=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<i.length;s++){var m=1*i[s]/u,y=m+.5;if(y<1){if(m<.3)throw new GI;y=1}else if(y>8){if(m>8.7)throw new GI;y=8}var v=s/2;0===(1&s)?(d[v]=y,p[v]=m-y):(f[v]=y,g[v]=m-y)}this.adjustOddEvenCounts(17);var w=4*n.getValue()+(r?0:2)+(o?0:1)-1,b=0,E=0;for(s=d.length-1;s>=0;s--){if(t.isNotA1left(n,r,o)){var _=t.WEIGHTS[w][2*s];E+=d[s]*_}b+=d[s]}var C=0;for(s=f.length-1;s>=0;s--)if(t.isNotA1left(n,r,o)){_=t.WEIGHTS[w][2*s+1];C+=f[s]*_}var S=E+C;if(0!==(1&b)||b>13||b<4)throw new GI;var A=(13-b)/2,I=t.SYMBOL_WIDEST[A],T=9-I,N=aO.getRSSvalue(d,I,!0),O=aO.getRSSvalue(f,T,!1),R=t.EVEN_TOTAL_SUBSET[A],k=t.GSUM[A];return new tO(N*R+O+k,S)},t.isNotA1left=function(e,t,n){return!(0===e.getValue()&&t&&n)},t.prototype.adjustOddEvenCounts=function(e){var n=DT.sum(new Int32Array(this.getOddCounts())),r=DT.sum(new Int32Array(this.getEvenCounts())),o=!1,i=!1;n>13?i=!0:n<4&&(o=!0);var a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var c=n+r-e,l=1===(1&n),u=0===(1&r);if(1===c)if(l){if(u)throw new GI;i=!0}else{if(!u)throw new GI;s=!0}else if(-1===c)if(l){if(u)throw new GI;o=!0}else{if(!u)throw new GI;a=!0}else{if(0!==c)throw new GI;if(l){if(!u)throw new GI;n<r?(o=!0,s=!0):(i=!0,a=!0)}else if(u)throw new GI}if(o){if(i)throw new GI;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new GI;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(eO);const XO=qO;var KO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const YO=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.count=0,o.finderPattern=r,o}return KO(t,e),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(tO);var QO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZO=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},JO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return QO(t,e),t.prototype.decodeRow=function(e,n,r){var o,i,a,s,c=this.decodePair(n,!1,e,r);t.addOrTally(this.possibleLeftPairs,c),n.reverse();var l=this.decodePair(n,!0,e,r);t.addOrTally(this.possibleRightPairs,l),n.reverse();try{for(var u=ZO(this.possibleLeftPairs),h=u.next();!h.done;h=u.next()){var d=h.value;if(d.getCount()>1)try{for(var f=(a=void 0,ZO(this.possibleRightPairs)),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.getCount()>1&&t.checkChecksum(d,g))return t.constructResult(d,g)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}}}catch(y){o={error:y}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}throw new GI},t.addOrTally=function(e,t){var n,r;if(null!=t){var o=!1;try{for(var i=ZO(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.getValue()===t.getValue()){s.incrementCount(),o=!0;break}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}o||e.push(t)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,t){for(var n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),o=new VI,i=13-r.length;i>0;i--)o.append("0");o.append(r);var a=0;for(i=0;i<13;i++){var s=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);a+=0===(1&i)?3*s:s}10===(a=10-a%10)&&(a=0),o.append(a.toString());var c=e.getFinderPattern().getResultPoints(),l=t.getFinderPattern().getResultPoints();return new lT(o.toString(),null,0,[c[0],c[1],l[0],l[1]],hT.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,t){var n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r},t.prototype.decodePair=function(e,t,n,r){try{var o=this.findFinderPattern(e,t),i=this.parseFoundFinderPattern(e,n,t,o),a=null==r?null:r.get(OI.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(o[0]+o[1])/2;t&&(s=e.getSize()-1-s),a.foundPossibleResultPoint(new LT(s,n))}var c=this.decodeDataCharacter(e,i,!0),l=this.decodeDataCharacter(e,i,!1);return new YO(1597*c.getValue()+l.getValue(),c.getChecksumPortion()+4*l.getChecksumPortion(),i)}catch(u){return null}},t.prototype.decodeDataCharacter=function(e,n,r){for(var o=this.getDataCharacterCounters(),i=0;i<o.length;i++)o[i]=0;if(r)nN.recordPatternInReverse(e,n.getStartEnd()[0],o);else{nN.recordPattern(e,n.getStartEnd()[1]+1,o);for(var a=0,s=o.length-1;a<s;a++,s--){var c=o[a];o[a]=o[s],o[s]=c}}var l=r?16:15,u=DT.sum(new Int32Array(o))/l,h=this.getOddCounts(),d=this.getEvenCounts(),f=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(a=0;a<o.length;a++){var g=o[a]/u,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var y=Math.floor(a/2);0===(1&a)?(h[y]=m,f[y]=g-m):(d[y]=m,p[y]=g-m)}this.adjustOddEvenCounts(r,l);var v=0,w=0;for(a=h.length-1;a>=0;a--)w*=9,w+=h[a],v+=h[a];var b=0,E=0;for(a=d.length-1;a>=0;a--)b*=9,b+=d[a],E+=d[a];var _=w+3*b;if(r){if(0!==(1&v)||v>12||v<4)throw new GI;var C=(12-v)/2,S=9-(O=t.OUTSIDE_ODD_WIDEST[C]),A=aO.getRSSvalue(h,O,!1),I=aO.getRSSvalue(d,S,!0),T=t.OUTSIDE_EVEN_TOTAL_SUBSET[C],N=t.OUTSIDE_GSUM[C];return new tO(A*T+I+N,_)}if(0!==(1&E)||E>10||E<4)throw new GI;C=(10-E)/2,S=9-(O=t.INSIDE_ODD_WIDEST[C]),A=aO.getRSSvalue(h,O,!0),I=aO.getRSSvalue(d,S,!1);var O,R=t.INSIDE_ODD_TOTAL_SUBSET[C];N=t.INSIDE_GSUM[C];return new tO(I*R+A+N,_)},t.prototype.findFinderPattern=function(e,t){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=e.getSize(),o=!1,i=0;i<r&&t!==(o=!e.get(i));)i++;for(var a=0,s=i,c=i;c<r;c++)if(e.get(c)!==o)n[a]++;else{if(3===a){if(eO.isFinderPattern(n))return[s,c];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,o=!o}throw new GI},t.prototype.parseFoundFinderPattern=function(e,n,r,o){for(var i=e.get(o[0]),a=o[0]-1;a>=0&&i!==e.get(a);)a--;a++;var s=o[0]-a,c=this.getDecodeFinderCounters(),l=new Int32Array(c.length);mI.arraycopy(c,0,l,1,c.length-1),l[0]=s;var u=this.parseFinderValue(l,t.FINDER_PATTERNS),h=a,d=o[1];return r&&(h=e.getSize()-1-h,d=e.getSize()-1-d),new rO(u,[a,o[1]],h,d,n)},t.prototype.adjustOddEvenCounts=function(e,t){var n=DT.sum(new Int32Array(this.getOddCounts())),r=DT.sum(new Int32Array(this.getEvenCounts())),o=!1,i=!1,a=!1,s=!1;e?(n>12?i=!0:n<4&&(o=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?i=!0:n<5&&(o=!0),r>10?s=!0:r<4&&(a=!0));var c=n+r-t,l=(1&n)===(e?1:0),u=1===(1&r);if(1===c)if(l){if(u)throw new GI;i=!0}else{if(!u)throw new GI;s=!0}else if(-1===c)if(l){if(u)throw new GI;o=!0}else{if(!u)throw new GI;a=!0}else{if(0!==c)throw new GI;if(l){if(!u)throw new GI;n<r?(o=!0,s=!0):(i=!0,a=!0)}else if(u)throw new GI}if(o){if(i)throw new GI;eO.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&eO.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new GI;eO.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&eO.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(eO);const $O=JO;var eR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tR=function(e){function t(t){var n=e.call(this)||this;n.readers=[];var r=t?t.get(OI.POSSIBLE_FORMATS):null,o=t&&void 0!==t.get(OI.ASSUME_CODE_39_CHECK_DIGIT),i=t&&void 0!==t.get(OI.ENABLE_CODE_39_EXTENDED_MODE);return r&&((r.includes(hT.EAN_13)||r.includes(hT.UPC_A)||r.includes(hT.EAN_8)||r.includes(hT.UPC_E))&&n.readers.push(new XN(t)),r.includes(hT.CODE_39)&&n.readers.push(new cN(o,i)),r.includes(hT.CODE_93)&&n.readers.push(new dN),r.includes(hT.CODE_128)&&n.readers.push(new oN),r.includes(hT.ITF)&&n.readers.push(new mN),r.includes(hT.CODABAR)&&n.readers.push(new QN),r.includes(hT.RSS_14)&&n.readers.push(new $O),r.includes(hT.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new XO))),0===n.readers.length&&(n.readers.push(new XN(t)),n.readers.push(new cN),n.readers.push(new dN),n.readers.push(new XN(t)),n.readers.push(new oN),n.readers.push(new mN),n.readers.push(new $O)),n}return eR(t,e),t.prototype.decodeRow=function(e,t,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch(o){}throw new GI},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t}(nN);var nR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rR=(function(e){function t(t,n){return void 0===t&&(t=500),e.call(this,new tR(n),t,n)||this}nR(t,e)}(cT),function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),oR=function(){function e(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),iR=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),aR=function(){function e(e,t,n,r,o,i){var a,s;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=o,this.ecBlocks=i;var c=0,l=i.getECCodewords(),u=i.getECBlocks();try{for(var h=rR(u),d=h.next();!d.done;d=h.next()){var f=d.value;c+=f.getCount()*(f.getDataCodewords()+l)}}catch(p){a={error:p}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}this.totalCodewords=c}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,n){var r,o;if(0!==(1&t)||0!==(1&n))throw new kI;try{for(var i=rR(e.VERSIONS),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===n)return s}}catch(c){r={error:c}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new kI},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new oR(5,new iR(1,3))),new e(2,12,12,10,10,new oR(7,new iR(1,5))),new e(3,14,14,12,12,new oR(10,new iR(1,8))),new e(4,16,16,14,14,new oR(12,new iR(1,12))),new e(5,18,18,16,16,new oR(14,new iR(1,18))),new e(6,20,20,18,18,new oR(18,new iR(1,22))),new e(7,22,22,20,20,new oR(20,new iR(1,30))),new e(8,24,24,22,22,new oR(24,new iR(1,36))),new e(9,26,26,24,24,new oR(28,new iR(1,44))),new e(10,32,32,14,14,new oR(36,new iR(1,62))),new e(11,36,36,16,16,new oR(42,new iR(1,86))),new e(12,40,40,18,18,new oR(48,new iR(1,114))),new e(13,44,44,20,20,new oR(56,new iR(1,144))),new e(14,48,48,22,22,new oR(68,new iR(1,174))),new e(15,52,52,24,24,new oR(42,new iR(2,102))),new e(16,64,64,14,14,new oR(56,new iR(2,140))),new e(17,72,72,16,16,new oR(36,new iR(4,92))),new e(18,80,80,18,18,new oR(48,new iR(4,114))),new e(19,88,88,20,20,new oR(56,new iR(4,144))),new e(20,96,96,22,22,new oR(68,new iR(4,174))),new e(21,104,104,24,24,new oR(56,new iR(6,136))),new e(22,120,120,18,18,new oR(68,new iR(6,175))),new e(23,132,132,20,20,new oR(62,new iR(8,163))),new e(24,144,144,22,22,new oR(62,new iR(8,156),new iR(2,155))),new e(25,8,18,6,16,new oR(7,new iR(1,5))),new e(26,8,32,6,14,new oR(11,new iR(1,10))),new e(27,12,26,10,24,new oR(14,new iR(1,16))),new e(28,12,36,10,16,new oR(18,new iR(1,22))),new e(29,16,36,14,16,new oR(24,new iR(1,32))),new e(30,16,48,14,22,new oR(28,new iR(1,49)))]},e.VERSIONS=e.buildVersions(),e}();const sR=aR;var cR=function(){function e(t){var n=t.getHeight();if(n<8||n>144||0!==(1&n))throw new kI;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new HI(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return sR.getVersionForDimensions(t,n)},e.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,r=0,o=this.mappingBitMatrix.getHeight(),i=this.mappingBitMatrix.getWidth(),a=!1,s=!1,c=!1,l=!1;do{if(n!==o||0!==r||a)if(n!==o-2||0!==r||0===(3&i)||s)if(n!==o+4||2!==r||0!==(7&i)||c)if(n!==o-2||0!==r||4!==(7&i)||l){do{n<o&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,o,i)),n-=2,r+=2}while(n>=0&&r<i);n+=1,r+=3;do{n>=0&&r<i&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,o,i)),n+=2,r-=2}while(n<o&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(o,i),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner3(o,i),n-=2,r+=2,c=!0;else e[t++]=255&this.readCorner2(o,i),n-=2,r+=2,s=!0;else e[t++]=255&this.readCorner1(o,i),n-=2,r+=2,a=!0}while(n<o||r<i);if(t!==this.version.getTotalCodewords())throw new kI;return e},e.prototype.readModule=function(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},e.prototype.readUtah=function(e,t,n,r){var o=0;return this.readModule(e-2,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t,n,r)&&(o|=1),o<<=1,this.readModule(e,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e,t,n,r)&&(o|=1),o},e.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},e.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},e.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new uI("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),i=t/r|0,a=n/o|0,s=new HI(a*o,i*r),c=0;c<i;++c)for(var l=c*r,u=0;u<a;++u)for(var h=u*o,d=0;d<r;++d)for(var f=c*(r+2)+1+d,p=l+d,g=0;g<o;++g){var m=u*(o+2)+1+g;if(e.get(m,f)){var y=h+g;s.set(y,p)}}return s},e}();const lR=cR;var uR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hR=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n){var r,o,i,a,s=n.getECBlocks(),c=0,l=s.getECBlocks();try{for(var u=uR(l),h=u.next();!h.done;h=u.next()){c+=(m=h.value).getCount()}}catch(O){r={error:O}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}var d=new Array(c),f=0;try{for(var p=uR(l),g=p.next();!g.done;g=p.next())for(var m=g.value,y=0;y<m.getCount();y++){var v=m.getDataCodewords(),w=s.getECCodewords()+v;d[f++]=new e(v,new Uint8Array(w))}}catch(R){i={error:R}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var b=d[0].codewords.length-s.getECCodewords(),E=b-1,_=0;for(y=0;y<E;y++)for(var C=0;C<f;C++)d[C].codewords[y]=t[_++];var S=24===n.getVersionNumber(),A=S?8:f;for(C=0;C<A;C++)d[C].codewords[b-1]=t[_++];var I=d[0].codewords.length;for(y=b;y<I;y++)for(C=0;C<f;C++){var T=S?(C+8)%f:C,N=S&&T>7?y-1:y;d[T].codewords[N]=t[_++]}if(_!==t.length)throw new uI;return d},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();const dR=hR;const fR=function(){function e(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new uI(""+e);var t=0,n=this.bitOffset,r=this.byteOffset,o=this.bytes;if(n>0){var i=8-n,a=e<i?e:i,s=255>>8-a<<(c=i-a);t=(o[r]&s)>>c,e-=a,8===(n+=a)&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&o[r],r++,e-=8;if(e>0){var c;s=255>>(c=8-e)<<c;t=t<<e|(o[r]&s)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=r,t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();var pR;!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(pR||(pR={}));var gR=function(){function e(){}return e.decode=function(e){var t=new fR(e),n=new VI,r=new VI,o=new Array,i=pR.ASCII_ENCODE;do{if(i===pR.ASCII_ENCODE)i=this.decodeAsciiSegment(t,n,r);else{switch(i){case pR.C40_ENCODE:this.decodeC40Segment(t,n);break;case pR.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case pR.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case pR.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case pR.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new kI}i=pR.ASCII_ENCODE}}while(i!==pR.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new pT(e,n.toString(),0===o.length?null:o,null)},e.decodeAsciiSegment=function(e,t,n){var r=!1;do{var o=e.readBits(8);if(0===o)throw new kI;if(o<=128)return r&&(o+=128),t.append(String.fromCharCode(o-1)),pR.ASCII_ENCODE;if(129===o)return pR.PAD_ENCODE;if(o<=229){var i=o-130;i<10&&t.append("0"),t.append(""+i)}else switch(o){case 230:return pR.C40_ENCODE;case 231:return pR.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return pR.ANSIX12_ENCODE;case 239:return pR.TEXT_ENCODE;case 240:return pR.EDIFACT_ENCODE;default:if(254!==o||0!==e.available())throw new kI}}while(e.available()>0);return pR.ASCII_ENCODE},e.decodeC40Segment=function(e,t){var n=!1,r=[],o=0;do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(o){case 0:if(s<3)o=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new kI;var c=this.C40_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),o=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){c=this.C40_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new kI}o=0;break;case 3:n?(t.append(String.fromCharCode(s+224)),n=!1):t.append(String.fromCharCode(s+96)),o=0;break;default:throw new kI}}}while(e.available()>0)},e.decodeTextSegment=function(e,t){var n=!1,r=[],o=0;do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(o){case 0:if(s<3)o=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new kI;var c=this.TEXT_BASIC_SET_CHARS[s];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}break;case 1:n?(t.append(String.fromCharCode(s+128)),n=!1):t.append(String.fromCharCode(s)),o=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){c=this.TEXT_SHIFT2_SET_CHARS[s];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c)}else switch(s){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new kI}o=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new kI;c=this.TEXT_SHIFT3_SET_CHARS[s];n?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):t.append(c),o=0;break;default:throw new kI}}}while(e.available()>0)},e.decodeAnsiX12Segment=function(e,t){var n=[];do{if(8===e.available())return;var r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(var o=0;o<3;o++){var i=n[o];switch(i){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(i<14)t.append(String.fromCharCode(i+44));else{if(!(i<40))throw new kI;t.append(String.fromCharCode(i+51))}}}}while(e.available()>0)},e.parseTwoBytes=function(e,t,n){var r=(e<<8)+t-1,o=Math.floor(r/1600);n[0]=o,r-=1600*o,o=Math.floor(r/40),n[1]=o,n[2]=r-40*o},e.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var r=e.readBits(6);if(31===r){var o=8-e.getBitOffset();return void(8!==o&&e.readBits(o))}0===(32&r)&&(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)},e.decodeBase256Segment=function(e,t,n){var r,o=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),o++);if((r=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),o++))<0)throw new kI;for(var a=new Uint8Array(r),s=0;s<r;s++){if(e.available()<8)throw new kI;a[s]=this.unrandomize255State(e.readBits(8),o++)}n.push(a);try{t.append(FI.decode(a,jI.ISO88591))}catch(c){throw new IT("Platform does not support required encoding: "+c.message)}},e.unrandomize255State=function(e,t){var n=e-(149*t%255+1);return n>=0?n:n+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}();const mR=gR;var yR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vR=function(){function e(){this.rsDecoder=new NT(_T.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){var t,n,r=new lR(e),o=r.getVersion(),i=r.readCodewords(),a=dR.getDataBlocks(i,o),s=0;try{for(var c=yR(a),l=c.next();!l.done;l=c.next()){s+=l.value.getNumDataCodewords()}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var u=new Uint8Array(s),h=a.length,d=0;d<h;d++){var f=a[d],p=f.getCodewords(),g=f.getNumDataCodewords();this.correctErrors(p,g);for(var m=0;m<g;m++)u[m*h+d]=p[m]}return mR.decode(u)},e.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(o){throw new fI}for(var r=0;r<t;r++)e[r]=n[r]},e}();const wR=vR;var bR=function(){function e(e){this.image=e,this.rectangleDetector=new VT(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new GI;var r=(n=this.shiftToModuleCenter(n))[0],o=n[1],i=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,c=this.transitionsBetween(i,a)+1;1===(1&s)&&(s+=1),1===(1&c)&&(c+=1),4*s<7*c&&4*c<7*s&&(s=c=Math.max(s,c));var l=e.sampleGrid(this.image,r,o,i,a,s,c);return new BT(l,[r,o,i,a])},e.shiftPoint=function(e,t,n){var r=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new LT(e.getX()+r,e.getY()+o)},e.moveAway=function(e,t,n){var r=e.getX(),o=e.getY();return r<t?r-=1:r+=1,o<n?o-=1:o+=1,new LT(r,o)},e.prototype.detectSolid1=function(e){var t=e[0],n=e[1],r=e[3],o=e[2],i=this.transitionsBetween(t,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,o),c=this.transitionsBetween(o,t),l=i,u=[o,t,n,r];return l>a&&(l=a,u[0]=t,u[1]=n,u[2]=r,u[3]=o),l>s&&(l=s,u[0]=n,u[1]=r,u[2]=o,u[3]=t),l>c&&(u[0]=r,u[1]=o,u[2]=t,u[3]=n),u},e.prototype.detectSolid2=function(t){var n=t[0],r=t[1],o=t[2],i=t[3],a=this.transitionsBetween(n,i),s=e.shiftPoint(r,o,4*(a+1)),c=e.shiftPoint(o,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(c,i)?(t[0]=n,t[1]=r,t[2]=o,t[3]=i):(t[0]=r,t[1]=o,t[2]=i,t[3]=n),t},e.prototype.correctTopRight=function(t){var n=t[0],r=t[1],o=t[2],i=t[3],a=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),c=e.shiftPoint(n,r,4*(s+1)),l=e.shiftPoint(o,r,4*(a+1));a=this.transitionsBetween(c,i),s=this.transitionsBetween(l,i);var u=new LT(i.getX()+(o.getX()-r.getX())/(a+1),i.getY()+(o.getY()-r.getY())/(a+1)),h=new LT(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(u)?this.isValid(h)?this.transitionsBetween(c,u)+this.transitionsBetween(l,u)>this.transitionsBetween(c,h)+this.transitionsBetween(l,h)?u:h:u:this.isValid(h)?h:null},e.prototype.shiftToModuleCenter=function(t){var n=t[0],r=t[1],o=t[2],i=t[3],a=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(o,i)+1,c=e.shiftPoint(n,r,4*s),l=e.shiftPoint(o,r,4*a);1===(1&(a=this.transitionsBetween(c,i)+1))&&(a+=1),1===(1&(s=this.transitionsBetween(l,i)+1))&&(s+=1);var u,h,d=(n.getX()+r.getX()+o.getX()+i.getX())/4,f=(n.getY()+r.getY()+o.getY()+i.getY())/4;return n=e.moveAway(n,d,f),r=e.moveAway(r,d,f),o=e.moveAway(o,d,f),i=e.moveAway(i,d,f),c=e.shiftPoint(n,r,4*s),c=e.shiftPoint(c,i,4*a),u=e.shiftPoint(r,n,4*s),u=e.shiftPoint(u,o,4*a),l=e.shiftPoint(o,i,4*s),l=e.shiftPoint(l,r,4*a),h=e.shiftPoint(i,o,4*s),[c,u,l,h=e.shiftPoint(h,n,4*a)]},e.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},e.sampleGrid=function(e,t,n,r,o,i,a){return YT.getInstance().sampleGrid(e,i,a,.5,.5,i-.5,.5,i-.5,a-.5,.5,a-.5,t.getX(),t.getY(),o.getX(),o.getY(),r.getX(),r.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),o=Math.trunc(t.getX()),i=Math.trunc(t.getY()),a=Math.abs(i-r)>Math.abs(o-n);if(a){var s=n;n=r,r=s,s=o,o=i,i=s}for(var c=Math.abs(o-n),l=Math.abs(i-r),u=-c/2,h=r<i?1:-1,d=n<o?1:-1,f=0,p=this.image.get(a?r:n,a?n:r),g=n,m=r;g!==o;g+=d){var y=this.image.get(a?m:g,a?g:m);if(y!==p&&(f++,p=y),(u+=l)>0){if(m===i)break;m+=h,u-=c}}return f},e}();const ER=bR;var _R=function(){function e(){this.decoder=new wR}return e.prototype.decode=function(t,n){var r,o;if(void 0===n&&(n=null),null!=n&&n.has(OI.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(i),o=e.NO_POINTS}else{var a=new ER(t.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),o=a.getPoints()}var s=r.getRawBytes(),c=new lT(r.getText(),s,8*s.length,o,hT.DATA_MATRIX,mI.currentTimeMillis()),l=r.getByteSegments();null!=l&&c.putMetadata(fT.BYTE_SEGMENTS,l);var u=r.getECLevel();return null!=u&&c.putMetadata(fT.ERROR_CORRECTION_LEVEL,u),c},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new GI;var r=this.moduleSize(t,e),o=t[1],i=n[1],a=t[0],s=(n[0]-a+1)/r,c=(i-o+1)/r;if(s<=0||c<=0)throw new GI;var l=r/2;o+=l,a+=l;for(var u=new HI(s,c),h=0;h<c;h++)for(var d=o+h*r,f=0;f<s;f++)e.get(a+f*r,d)&&u.set(f,h);return u},e.moduleSize=function(e,t){for(var n=t.getWidth(),r=e[0],o=e[1];r<n&&t.get(r,o);)r++;if(r===n)throw new GI;var i=r-e[0];if(0===i)throw new GI;return i},e.NO_POINTS=[],e}();const CR=_R;var SR,AR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new CR,t)||this}AR(t,e)}(cT);!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(SR||(SR={}));const IR=function(){function e(t,n,r){this.value=t,this.stringValue=n,this.bits=r,e.FOR_BITS.set(r,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new cI(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new uI;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(SR.L,"L",1),e.M=new e(SR.M,"M",0),e.Q=new e(SR.Q,"Q",3),e.H=new e(SR.H,"H",2),e}();var TR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NR=function(){function e(e){this.errorCorrectionLevel=IR.forBits(e>>3&3),this.dataMask=7&e}return e.numBitsDiffering=function(e,t){return AI.bitCount(e^t)},e.decodeFormatInformation=function(t,n){var r=e.doDecodeFormatInformation(t,n);return null!==r?r:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,n^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,n){var r,o,i=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=TR(e.FORMAT_INFO_DECODE_LOOKUP),c=s.next();!c.done;c=s.next()){var l=c.value,u=l[0];if(u===t||u===n)return new e(l[1]);var h=e.numBitsDiffering(t,u);h<i&&(a=l[1],i=h),t!==n&&(h=e.numBitsDiffering(n,u))<i&&(a=l[1],i=h)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i<=3?new e(a):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}();const OR=NR;var RR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kR=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var e,t,n=0,r=this.ecBlocks;try{for(var o=RR(r),i=o.next();!i.done;i=o.next()){n+=i.value.getCount()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}();const xR=kR;var DR=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}();const PR=DR;var MR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LR=function(){function e(e,t){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var a=0,s=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();try{for(var l=MR(c),u=l.next();!u.done;u=l.next()){var h=u.value;a+=h.getCount()*(h.getDataCodewords()+s)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}this.totalCodewords=a}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},e.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new kI;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new kI}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new uI;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=0,o=0;o<e.VERSION_DECODE_INFO.length;o++){var i=e.VERSION_DECODE_INFO[o];if(i===t)return e.getVersionForNumber(o+7);var a=OR.numBitsDiffering(t,i);a<n&&(r=o+7,n=a)}return n<=3?e.getVersionForNumber(r):null},e.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new HI(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var o=this.alignmentPatternCenters[r]-2,i=0;i<n;i++)0===r&&(0===i||i===n-1)||r===n-1&&0===i||t.setRegion(this.alignmentPatternCenters[i]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new xR(7,new PR(1,19)),new xR(10,new PR(1,16)),new xR(13,new PR(1,13)),new xR(17,new PR(1,9))),new e(2,Int32Array.from([6,18]),new xR(10,new PR(1,34)),new xR(16,new PR(1,28)),new xR(22,new PR(1,22)),new xR(28,new PR(1,16))),new e(3,Int32Array.from([6,22]),new xR(15,new PR(1,55)),new xR(26,new PR(1,44)),new xR(18,new PR(2,17)),new xR(22,new PR(2,13))),new e(4,Int32Array.from([6,26]),new xR(20,new PR(1,80)),new xR(18,new PR(2,32)),new xR(26,new PR(2,24)),new xR(16,new PR(4,9))),new e(5,Int32Array.from([6,30]),new xR(26,new PR(1,108)),new xR(24,new PR(2,43)),new xR(18,new PR(2,15),new PR(2,16)),new xR(22,new PR(2,11),new PR(2,12))),new e(6,Int32Array.from([6,34]),new xR(18,new PR(2,68)),new xR(16,new PR(4,27)),new xR(24,new PR(4,19)),new xR(28,new PR(4,15))),new e(7,Int32Array.from([6,22,38]),new xR(20,new PR(2,78)),new xR(18,new PR(4,31)),new xR(18,new PR(2,14),new PR(4,15)),new xR(26,new PR(4,13),new PR(1,14))),new e(8,Int32Array.from([6,24,42]),new xR(24,new PR(2,97)),new xR(22,new PR(2,38),new PR(2,39)),new xR(22,new PR(4,18),new PR(2,19)),new xR(26,new PR(4,14),new PR(2,15))),new e(9,Int32Array.from([6,26,46]),new xR(30,new PR(2,116)),new xR(22,new PR(3,36),new PR(2,37)),new xR(20,new PR(4,16),new PR(4,17)),new xR(24,new PR(4,12),new PR(4,13))),new e(10,Int32Array.from([6,28,50]),new xR(18,new PR(2,68),new PR(2,69)),new xR(26,new PR(4,43),new PR(1,44)),new xR(24,new PR(6,19),new PR(2,20)),new xR(28,new PR(6,15),new PR(2,16))),new e(11,Int32Array.from([6,30,54]),new xR(20,new PR(4,81)),new xR(30,new PR(1,50),new PR(4,51)),new xR(28,new PR(4,22),new PR(4,23)),new xR(24,new PR(3,12),new PR(8,13))),new e(12,Int32Array.from([6,32,58]),new xR(24,new PR(2,92),new PR(2,93)),new xR(22,new PR(6,36),new PR(2,37)),new xR(26,new PR(4,20),new PR(6,21)),new xR(28,new PR(7,14),new PR(4,15))),new e(13,Int32Array.from([6,34,62]),new xR(26,new PR(4,107)),new xR(22,new PR(8,37),new PR(1,38)),new xR(24,new PR(8,20),new PR(4,21)),new xR(22,new PR(12,11),new PR(4,12))),new e(14,Int32Array.from([6,26,46,66]),new xR(30,new PR(3,115),new PR(1,116)),new xR(24,new PR(4,40),new PR(5,41)),new xR(20,new PR(11,16),new PR(5,17)),new xR(24,new PR(11,12),new PR(5,13))),new e(15,Int32Array.from([6,26,48,70]),new xR(22,new PR(5,87),new PR(1,88)),new xR(24,new PR(5,41),new PR(5,42)),new xR(30,new PR(5,24),new PR(7,25)),new xR(24,new PR(11,12),new PR(7,13))),new e(16,Int32Array.from([6,26,50,74]),new xR(24,new PR(5,98),new PR(1,99)),new xR(28,new PR(7,45),new PR(3,46)),new xR(24,new PR(15,19),new PR(2,20)),new xR(30,new PR(3,15),new PR(13,16))),new e(17,Int32Array.from([6,30,54,78]),new xR(28,new PR(1,107),new PR(5,108)),new xR(28,new PR(10,46),new PR(1,47)),new xR(28,new PR(1,22),new PR(15,23)),new xR(28,new PR(2,14),new PR(17,15))),new e(18,Int32Array.from([6,30,56,82]),new xR(30,new PR(5,120),new PR(1,121)),new xR(26,new PR(9,43),new PR(4,44)),new xR(28,new PR(17,22),new PR(1,23)),new xR(28,new PR(2,14),new PR(19,15))),new e(19,Int32Array.from([6,30,58,86]),new xR(28,new PR(3,113),new PR(4,114)),new xR(26,new PR(3,44),new PR(11,45)),new xR(26,new PR(17,21),new PR(4,22)),new xR(26,new PR(9,13),new PR(16,14))),new e(20,Int32Array.from([6,34,62,90]),new xR(28,new PR(3,107),new PR(5,108)),new xR(26,new PR(3,41),new PR(13,42)),new xR(30,new PR(15,24),new PR(5,25)),new xR(28,new PR(15,15),new PR(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new xR(28,new PR(4,116),new PR(4,117)),new xR(26,new PR(17,42)),new xR(28,new PR(17,22),new PR(6,23)),new xR(30,new PR(19,16),new PR(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new xR(28,new PR(2,111),new PR(7,112)),new xR(28,new PR(17,46)),new xR(30,new PR(7,24),new PR(16,25)),new xR(24,new PR(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new xR(30,new PR(4,121),new PR(5,122)),new xR(28,new PR(4,47),new PR(14,48)),new xR(30,new PR(11,24),new PR(14,25)),new xR(30,new PR(16,15),new PR(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new xR(30,new PR(6,117),new PR(4,118)),new xR(28,new PR(6,45),new PR(14,46)),new xR(30,new PR(11,24),new PR(16,25)),new xR(30,new PR(30,16),new PR(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new xR(26,new PR(8,106),new PR(4,107)),new xR(28,new PR(8,47),new PR(13,48)),new xR(30,new PR(7,24),new PR(22,25)),new xR(30,new PR(22,15),new PR(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new xR(28,new PR(10,114),new PR(2,115)),new xR(28,new PR(19,46),new PR(4,47)),new xR(28,new PR(28,22),new PR(6,23)),new xR(30,new PR(33,16),new PR(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new xR(30,new PR(8,122),new PR(4,123)),new xR(28,new PR(22,45),new PR(3,46)),new xR(30,new PR(8,23),new PR(26,24)),new xR(30,new PR(12,15),new PR(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new xR(30,new PR(3,117),new PR(10,118)),new xR(28,new PR(3,45),new PR(23,46)),new xR(30,new PR(4,24),new PR(31,25)),new xR(30,new PR(11,15),new PR(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new xR(30,new PR(7,116),new PR(7,117)),new xR(28,new PR(21,45),new PR(7,46)),new xR(30,new PR(1,23),new PR(37,24)),new xR(30,new PR(19,15),new PR(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new xR(30,new PR(5,115),new PR(10,116)),new xR(28,new PR(19,47),new PR(10,48)),new xR(30,new PR(15,24),new PR(25,25)),new xR(30,new PR(23,15),new PR(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new xR(30,new PR(13,115),new PR(3,116)),new xR(28,new PR(2,46),new PR(29,47)),new xR(30,new PR(42,24),new PR(1,25)),new xR(30,new PR(23,15),new PR(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new xR(30,new PR(17,115)),new xR(28,new PR(10,46),new PR(23,47)),new xR(30,new PR(10,24),new PR(35,25)),new xR(30,new PR(19,15),new PR(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new xR(30,new PR(17,115),new PR(1,116)),new xR(28,new PR(14,46),new PR(21,47)),new xR(30,new PR(29,24),new PR(19,25)),new xR(30,new PR(11,15),new PR(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new xR(30,new PR(13,115),new PR(6,116)),new xR(28,new PR(14,46),new PR(23,47)),new xR(30,new PR(44,24),new PR(7,25)),new xR(30,new PR(59,16),new PR(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new xR(30,new PR(12,121),new PR(7,122)),new xR(28,new PR(12,47),new PR(26,48)),new xR(30,new PR(39,24),new PR(14,25)),new xR(30,new PR(22,15),new PR(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new xR(30,new PR(6,121),new PR(14,122)),new xR(28,new PR(6,47),new PR(34,48)),new xR(30,new PR(46,24),new PR(10,25)),new xR(30,new PR(2,15),new PR(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new xR(30,new PR(17,122),new PR(4,123)),new xR(28,new PR(29,46),new PR(14,47)),new xR(30,new PR(49,24),new PR(10,25)),new xR(30,new PR(24,15),new PR(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new xR(30,new PR(4,122),new PR(18,123)),new xR(28,new PR(13,46),new PR(32,47)),new xR(30,new PR(48,24),new PR(14,25)),new xR(30,new PR(42,15),new PR(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new xR(30,new PR(20,117),new PR(4,118)),new xR(28,new PR(40,47),new PR(7,48)),new xR(30,new PR(43,24),new PR(22,25)),new xR(30,new PR(10,15),new PR(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new xR(30,new PR(19,118),new PR(6,119)),new xR(28,new PR(18,47),new PR(31,48)),new xR(30,new PR(34,24),new PR(34,25)),new xR(30,new PR(20,15),new PR(61,16)))],e}();const BR=LR;var FR;!function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(FR||(FR={}));var jR=function(){function e(e,t){this.value=e,this.isMasked=t}return e.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},e.values=new Map([[FR.DATA_MASK_000,new e(FR.DATA_MASK_000,function(e,t){return 0===(e+t&1)})],[FR.DATA_MASK_001,new e(FR.DATA_MASK_001,function(e,t){return 0===(1&e)})],[FR.DATA_MASK_010,new e(FR.DATA_MASK_010,function(e,t){return t%3===0})],[FR.DATA_MASK_011,new e(FR.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[FR.DATA_MASK_100,new e(FR.DATA_MASK_100,function(e,t){return 0===(Math.floor(e/2)+Math.floor(t/3)&1)})],[FR.DATA_MASK_101,new e(FR.DATA_MASK_101,function(e,t){return e*t%6===0})],[FR.DATA_MASK_110,new e(FR.DATA_MASK_110,function(e,t){return e*t%6<3})],[FR.DATA_MASK_111,new e(FR.DATA_MASK_111,function(e,t){return 0===(e+t+e*t%3&1)})]]),e}();const UR=jR;var VR=function(){function e(e){var t=e.getHeight();if(t<21||1!==(3&t))throw new kI;this.bitMatrix=e}return e.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);var r=this.bitMatrix.getHeight(),o=0,i=r-7;for(n=r-1;n>=i;n--)o=this.copyBit(8,n,o);for(t=r-8;t<r;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=OR.decodeFormatInformation(e,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new kI},e.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return BR.getVersionForNumber(t);for(var n=0,r=e-11,o=5;o>=0;o--)for(var i=e-9;i>=r;i--)n=this.copyBit(i,o,n);var a=BR.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;n=0;for(i=5;i>=0;i--)for(o=e-9;o>=r;o--)n=this.copyBit(i,o,n);if(null!==(a=BR.decodeVersionInformation(n))&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new kI},e.prototype.copyBit=function(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1},e.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=UR.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var o=t.buildFunctionPattern(),i=!0,a=new Uint8Array(t.getTotalCodewords()),s=0,c=0,l=0,u=r-1;u>0;u-=2){6===u&&u--;for(var h=0;h<r;h++)for(var d=i?r-1-h:h,f=0;f<2;f++)o.get(u-f,d)||(l++,c<<=1,this.bitMatrix.get(u-f,d)&&(c|=1),8===l&&(a[s++]=c,l=0,c=0));i=!i}if(s!==t.getTotalCodewords())throw new kI;return a},e.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=UR.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},e.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},e.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var r=t+1,o=e.getHeight();r<o;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))},e}();const zR=VR;var HR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WR=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,n,r){var o,i,a,s;if(t.length!==n.getTotalCodewords())throw new uI;var c=n.getECBlocksForLevel(r),l=0,u=c.getECBlocks();try{for(var h=HR(u),d=h.next();!d.done;d=h.next()){l+=(y=d.value).getCount()}}catch(N){o={error:N}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}var f=new Array(l),p=0;try{for(var g=HR(u),m=g.next();!m.done;m=g.next())for(var y=m.value,v=0;v<y.getCount();v++){var w=y.getDataCodewords(),b=c.getECCodewordsPerBlock()+w;f[p++]=new e(w,new Uint8Array(b))}}catch(O){a={error:O}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var E=f[0].codewords.length,_=f.length-1;_>=0;){if(f[_].codewords.length===E)break;_--}_++;var C=E-c.getECCodewordsPerBlock(),S=0;for(v=0;v<C;v++)for(var A=0;A<p;A++)f[A].codewords[v]=t[S++];for(A=_;A<p;A++)f[A].codewords[C]=t[S++];var I=f[0].codewords.length;for(v=C;v<I;v++)for(A=0;A<p;A++){var T=A<_?v:v+1;f[A].codewords[T]=t[S++]}return f},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();const GR=WR;var qR;!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(qR||(qR={}));var XR=function(){function e(t,n,r,o){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,e.FOR_BITS.set(o,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var n=e.FOR_BITS.get(t);if(void 0===n)throw new uI;return n},e.prototype.getCharacterCountBits=function(e){var t,n=e.getVersionNumber();return t=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[t]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.value===n.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(qR.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(qR.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(qR.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(qR.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(qR.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(qR.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(qR.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(qR.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(qR.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(qR.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}();const KR=XR;var YR=function(){function e(){}return e.decode=function(t,n,r,o){var i=new fR(t),a=new VI,s=new Array,c=-1,l=-1;try{var u=null,h=!1,d=void 0;do{if(i.available()<4)d=KR.TERMINATOR;else{var f=i.readBits(4);d=KR.forBits(f)}switch(d){case KR.TERMINATOR:break;case KR.FNC1_FIRST_POSITION:case KR.FNC1_SECOND_POSITION:h=!0;break;case KR.STRUCTURED_APPEND:if(i.available()<16)throw new kI;c=i.readBits(8),l=i.readBits(8);break;case KR.ECI:var p=e.parseECIValue(i);if(null===(u=MI.getCharacterSetECIByValue(p)))throw new kI;break;case KR.HANZI:var g=i.readBits(4),m=i.readBits(d.getCharacterCountBits(n));g===e.GB2312_SUBSET&&e.decodeHanziSegment(i,a,m);break;default:var y=i.readBits(d.getCharacterCountBits(n));switch(d){case KR.NUMERIC:e.decodeNumericSegment(i,a,y);break;case KR.ALPHANUMERIC:e.decodeAlphanumericSegment(i,a,y,h);break;case KR.BYTE:e.decodeByteSegment(i,a,y,u,s,o);break;case KR.KANJI:e.decodeKanjiSegment(i,a,y);break;default:throw new kI}}}while(d!==KR.TERMINATOR)}catch(v){throw new kI}return new pT(t,a.toString(),0===s.length?null:s,null===r?null:r.toString(),c,l)},e.decodeHanziSegment=function(e,t,n){if(13*n>e.available())throw new kI;for(var r=new Uint8Array(2*n),o=0;n>0;){var i=e.readBits(13),a=i/96<<8&4294967295|i%96;a+=a<959?41377:42657,r[o]=a>>8&255,r[o+1]=255&a,o+=2,n--}try{t.append(FI.decode(r,jI.GB2312))}catch(s){throw new kI(s)}},e.decodeKanjiSegment=function(e,t,n){if(13*n>e.available())throw new kI;for(var r=new Uint8Array(2*n),o=0;n>0;){var i=e.readBits(13),a=i/192<<8&4294967295|i%192;a+=a<7936?33088:49472,r[o]=a>>8,r[o+1]=a,o+=2,n--}try{t.append(FI.decode(r,jI.SHIFT_JIS))}catch(s){throw new kI(s)}},e.decodeByteSegment=function(e,t,n,r,o,i){if(8*n>e.available())throw new kI;for(var a,s=new Uint8Array(n),c=0;c<n;c++)s[c]=e.readBits(8);a=null===r?jI.guessEncoding(s,i):r.getName();try{t.append(FI.decode(s,a))}catch(l){throw new kI(l)}o.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new kI;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,n,r,o){for(var i=n.length();r>1;){if(t.available()<11)throw new kI;var a=t.readBits(11);n.append(e.toAlphaNumericChar(Math.floor(a/45))),n.append(e.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(t.available()<6)throw new kI;n.append(e.toAlphaNumericChar(t.readBits(6)))}if(o)for(var s=i;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,n,r){for(;r>=3;){if(t.available()<10)throw new kI;var o=t.readBits(10);if(o>=1e3)throw new kI;n.append(e.toAlphaNumericChar(Math.floor(o/100))),n.append(e.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(e.toAlphaNumericChar(o%10)),r-=3}if(2===r){if(t.available()<7)throw new kI;var i=t.readBits(7);if(i>=100)throw new kI;n.append(e.toAlphaNumericChar(Math.floor(i/10))),n.append(e.toAlphaNumericChar(i%10))}else if(1===r){if(t.available()<4)throw new kI;var a=t.readBits(4);if(a>=10)throw new kI;n.append(e.toAlphaNumericChar(a))}},e.parseECIValue=function(e){var t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new kI},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}();const QR=YR;const ZR=function(){function e(e){this.mirrored=e}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},e}();var JR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$R=function(){function e(){this.rsDecoder=new NT(_T.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(HI.parseFromBooleanArray(e),t)},e.prototype.decodeBitMatrix=function(e,t){var n=new zR(e),r=null;try{return this.decodeBitMatrixParser(n,t)}catch(PP){r=PP}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new ZR(!0)),o}catch(PP){if(null!==r)throw r;throw PP}},e.prototype.decodeBitMatrixParser=function(e,t){var n,r,o,i,a=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),l=GR.getDataBlocks(c,a,s),u=0;try{for(var h=JR(l),d=h.next();!d.done;d=h.next()){u+=(y=d.value).getNumDataCodewords()}}catch(E){n={error:E}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var f=new Uint8Array(u),p=0;try{for(var g=JR(l),m=g.next();!m.done;m=g.next()){var y,v=(y=m.value).getCodewords(),w=y.getNumDataCodewords();this.correctErrors(v,w);for(var b=0;b<w;b++)f[p++]=v[b]}}catch(_){o={error:_}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}return QR.decode(f,a,s,t)},e.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(o){throw new fI}for(var r=0;r<t;r++)e[r]=n[r]},e}();const ek=$R;var tk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nk=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.estimatedModuleSize=r,o}return tk(t,e),t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,r){return new t((this.getX()+n)/2,(this.getY()+e)/2,(this.estimatedModuleSize+r)/2)},t}(LT);const rk=nk;var ok=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ik=function(){function e(e,t,n,r,o,i,a){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=o,this.moduleSize=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,o=new Int32Array(3),i=this.image,a=0;a<t;a++){var s=r+(0===(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<n&&!i.get(c,s);)c++;for(var l=0;c<n;){if(i.get(c,s))if(1===l)o[1]++;else if(2===l){var u;if(this.foundPatternCross(o))if(null!==(u=this.handlePossibleCenter(o,s,c)))return u;o[0]=o[2],o[1]=1,o[2]=0,l=1}else o[++l]++;else 1===l&&l++,o[l]++;c++}if(this.foundPatternCross(o))if(null!==(u=this.handlePossibleCenter(o,s,n)))return u}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new GI},e.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},e.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,n,r,o){var i=this.image,a=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var c=t;c>=0&&i.get(n,c)&&s[1]<=r;)s[1]++,c--;if(c<0||s[1]>r)return NaN;for(;c>=0&&!i.get(n,c)&&s[0]<=r;)s[0]++,c--;if(s[0]>r)return NaN;for(c=t+1;c<a&&i.get(n,c)&&s[1]<=r;)s[1]++,c++;if(c===a||s[1]>r)return NaN;for(;c<a&&!i.get(n,c)&&s[2]<=r;)s[2]++,c++;if(s[2]>r)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-o)>=2*o?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,c):NaN},e.prototype.handlePossibleCenter=function(t,n,r){var o,i,a=t[0]+t[1]+t[2],s=e.centerFromEnd(t,r),c=this.crossCheckVertical(n,s,2*t[1],a);if(!isNaN(c)){var l=(t[0]+t[1]+t[2])/3;try{for(var u=ok(this.possibleCenters),h=u.next();!h.done;h=u.next()){var d=h.value;if(d.aboutEquals(l,c,s))return d.combineEstimate(c,s,l)}}catch(p){o={error:p}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}var f=new rk(s,c,l);this.possibleCenters.push(f),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},e}();const ak=ik;var sk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ck=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.estimatedModuleSize=r,i.count=o,void 0===o&&(i.count=1),i}return sk(t,e),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,n,r){var o=this.count+1;return new t((this.count*this.getX()+n)/o,(this.count*this.getY()+e)/o,(this.count*this.estimatedModuleSize+r)/o,o)},t}(LT);const lk=ck;const uk=function(){function e(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}();var hk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dk=function(){function e(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var n=null!==t&&void 0!==t&&void 0!==t.get(OI.TRY_HARDER),r=null!==t&&void 0!==t&&void 0!==t.get(OI.PURE_BARCODE),o=this.image,i=o.getHeight(),a=o.getWidth(),s=Math.floor(3*i/(4*e.MAX_MODULES));(s<e.MIN_SKIP||n)&&(s=e.MIN_SKIP);for(var c=!1,l=new Int32Array(5),u=s-1;u<i&&!c;u+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var h=0,d=0;d<a;d++)if(o.get(d,u))1===(1&h)&&h++,l[h]++;else if(0===(1&h))if(4===h)if(e.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,d,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;continue}if(s=2,!0===this.hasSkipped)c=this.haveMultiplyConfirmedCenters();else{var f=this.findRowSkip();f>l[2]&&(u+=f-l[2]-s,d=a-1)}h=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;else l[++h]++;else l[h]++;if(e.foundPatternCross(l))!0===this.handlePossibleCenter(l,u,a,r)&&(s=l[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return LT.orderBestPatterns(p),new uk(p)},e.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},e.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var r=e[n];if(0===r)return!1;t+=r}if(t<7)return!1;var o=t/7,i=o/2;return Math.abs(o-e[0])<i&&Math.abs(o-e[1])<i&&Math.abs(3*o-e[2])<3*i&&Math.abs(o-e[3])<i&&Math.abs(o-e[4])<i},e.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},e.prototype.crossCheckDiagonal=function(t,n,r,o){for(var i=this.getCrossCheckStateCount(),a=0,s=this.image;t>=a&&n>=a&&s.get(n-a,t-a);)i[2]++,a++;if(t<a||n<a)return!1;for(;t>=a&&n>=a&&!s.get(n-a,t-a)&&i[1]<=r;)i[1]++,a++;if(t<a||n<a||i[1]>r)return!1;for(;t>=a&&n>=a&&s.get(n-a,t-a)&&i[0]<=r;)i[0]++,a++;if(i[0]>r)return!1;var c=s.getHeight(),l=s.getWidth();for(a=1;t+a<c&&n+a<l&&s.get(n+a,t+a);)i[2]++,a++;if(t+a>=c||n+a>=l)return!1;for(;t+a<c&&n+a<l&&!s.get(n+a,t+a)&&i[3]<r;)i[3]++,a++;if(t+a>=c||n+a>=l||i[3]>=r)return!1;for(;t+a<c&&n+a<l&&s.get(n+a,t+a)&&i[4]<r;)i[4]++,a++;if(i[4]>=r)return!1;var u=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(u-o)<2*o&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,n,r,o){for(var i=this.image,a=i.getHeight(),s=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(n,c);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(n,c)&&s[1]<=r;)s[1]++,c--;if(c<0||s[1]>r)return NaN;for(;c>=0&&i.get(n,c)&&s[0]<=r;)s[0]++,c--;if(s[0]>r)return NaN;for(c=t+1;c<a&&i.get(n,c);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!i.get(n,c)&&s[3]<r;)s[3]++,c++;if(c===a||s[3]>=r)return NaN;for(;c<a&&i.get(n,c)&&s[4]<r;)s[4]++,c++;if(s[4]>=r)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-o)>=2*o?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,c):NaN},e.prototype.crossCheckHorizontal=function(t,n,r,o){for(var i=this.image,a=i.getWidth(),s=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(c,n);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,n)&&s[1]<=r;)s[1]++,c--;if(c<0||s[1]>r)return NaN;for(;c>=0&&i.get(c,n)&&s[0]<=r;)s[0]++,c--;if(s[0]>r)return NaN;for(c=t+1;c<a&&i.get(c,n);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!i.get(c,n)&&s[3]<r;)s[3]++,c++;if(c===a||s[3]>=r)return NaN;for(;c<a&&i.get(c,n)&&s[4]<r;)s[4]++,c++;if(s[4]>=r)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-o)>=o?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,c):NaN},e.prototype.handlePossibleCenter=function(t,n,r,o){var i=t[0]+t[1]+t[2]+t[3]+t[4],a=e.centerFromEnd(t,r),s=this.crossCheckVertical(n,Math.floor(a),t[2],i);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),t[2],i),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),t[2],i)))){for(var c=i/7,l=!1,u=this.possibleCenters,h=0,d=u.length;h<d;h++){var f=u[h];if(f.aboutEquals(c,s,a)){u[h]=f.combineEstimate(s,a,c),l=!0;break}}if(!l){var p=new lk(a,s,c);u.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var o=hk(this.possibleCenters),i=o.next();!i.done;i=o.next()){var a=i.value;if(a.getCount()>=e.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);r=a}}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,n,r,o,i=0,a=0,s=this.possibleCenters.length;try{for(var c=hk(this.possibleCenters),l=c.next();!l.done;l=c.next()){(p=l.value).getCount()>=e.CENTER_QUORUM&&(i++,a+=p.getEstimatedModuleSize())}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(i<3)return!1;var u=a/s,h=0;try{for(var d=hk(this.possibleCenters),f=d.next();!f.done;f=d.next()){var p=f.value;h+=Math.abs(p.getEstimatedModuleSize()-u)}}catch(m){r={error:m}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return h<=.05*a},e.prototype.selectBestPatterns=function(){var e,t,n,r,o=this.possibleCenters.length;if(o<3)throw new GI;var i,a=this.possibleCenters;if(o>3){var s=0,c=0;try{for(var l=hk(this.possibleCenters),u=l.next();!u.done;u=l.next()){var h=u.value.getEstimatedModuleSize();s+=h,c+=h*h}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}i=s/o;var d=Math.sqrt(c/o-i*i);a.sort(function(e,t){var n=Math.abs(t.getEstimatedModuleSize()-i),r=Math.abs(e.getEstimatedModuleSize()-i);return n<r?-1:n>r?1:0});for(var f=Math.max(.2*i,d),p=0;p<a.length&&a.length>3;p++){var g=a[p];Math.abs(g.getEstimatedModuleSize()-i)>f&&(a.splice(p,1),p--)}}if(a.length>3){s=0;try{for(var m=hk(a),y=m.next();!y.done;y=m.next()){s+=y.value.getEstimatedModuleSize()}}catch(w){n={error:w}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}i=s/a.length,a.sort(function(e,t){if(t.getCount()===e.getCount()){var n=Math.abs(t.getEstimatedModuleSize()-i),r=Math.abs(e.getEstimatedModuleSize()-i);return n<r?1:n>r?-1:0}return t.getCount()-e.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}();const fk=dk;var pk=function(){function e(e){this.image=e}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(e){this.resultPointCallback=null===e||void 0===e?null:e.get(OI.NEED_RESULT_POINT_CALLBACK);var t=new fk(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},e.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),r=t.getTopRight(),o=t.getBottomLeft(),i=this.calculateModuleSize(n,r,o);if(i<1)throw new GI("No pattern found in proccess finder.");var a=e.computeDimension(n,r,o,i),s=BR.getProvisionalVersionForDimension(a),c=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var u=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),d=1-3/c,f=Math.floor(n.getX()+d*(u-n.getX())),p=Math.floor(n.getY()+d*(h-n.getY())),g=4;g<=16;g<<=1)try{l=this.findAlignmentInRegion(i,f,p,g);break}catch(v){if(!(v instanceof GI))throw v}var m=e.createTransform(n,r,o,l,a),y=e.sampleGrid(this.image,m,a);return new BT(y,null===l?[o,n,r]:[o,n,r,l])},e.createTransform=function(e,t,n,r,o){var i,a,s,c,l=o-3.5;return null!==r?(i=r.getX(),a=r.getY(),c=s=l-3):(i=t.getX()-e.getX()+n.getX(),a=t.getY()-e.getY()+n.getY(),s=l,c=l),GT.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,s,c,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),i,a,n.getX(),n.getY())},e.sampleGrid=function(e,t,n){return YT.getInstance().sampleGridWithTransform(e,n,n,t)},e.computeDimension=function(e,t,n,r){var o=DT.round(LT.distance(e,t)/r),i=DT.round(LT.distance(e,n)/r),a=Math.floor((o+i)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new GI("Dimensions could be not found.")}return a},e.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},e.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,r){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,r),i=1,a=e-(n-e);a<0?(i=e/(e-a),a=0):a>=this.image.getWidth()&&(i=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var s=Math.floor(t-(r-t)*i);return i=1,s<0?(i=t/(t-s),s=0):s>=this.image.getHeight()&&(i=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),a=Math.floor(e+(a-e)*i),(o+=this.sizeOfBlackWhiteBlackRun(e,t,a,s))-1},e.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,r){var o=Math.abs(r-t)>Math.abs(n-e);if(o){var i=e;e=t,t=i,i=n,n=r,r=i}for(var a=Math.abs(n-e),s=Math.abs(r-t),c=-a/2,l=e<n?1:-1,u=t<r?1:-1,h=0,d=n+l,f=e,p=t;f!==d;f+=l){var g=o?p:f,m=o?f:p;if(1===h===this.image.get(g,m)){if(2===h)return DT.distance(f,p,e,t);h++}if((c+=s)>0){if(p===r)break;p+=u,c-=a}}return 2===h?DT.distance(n+l,r,e,t):NaN},e.prototype.findAlignmentInRegion=function(e,t,n,r){var o=Math.floor(r*e),i=Math.max(0,t-o),a=Math.min(this.image.getWidth()-1,t+o);if(a-i<3*e)throw new GI("Alignment top exceeds estimated module size.");var s=Math.max(0,n-o),c=Math.min(this.image.getHeight()-1,n+o);if(c-s<3*e)throw new GI("Alignment bottom exceeds estimated module size.");return new ak(this.image,i,s,a-i,c-s,e,this.resultPointCallback).find()},e}();const gk=pk;var mk=function(){function e(){this.decoder=new ek}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,n){var r,o;if(void 0!==n&&null!==n&&void 0!==n.get(OI.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),o=e.NO_POINTS}else{var a=new gk(t.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),o=a.getPoints()}r.getOther()instanceof ZR&&r.getOther().applyMirroredCorrection(o);var s=new lT(r.getText(),r.getRawBytes(),void 0,o,hT.QR_CODE,void 0),c=r.getByteSegments();null!==c&&s.putMetadata(fT.BYTE_SEGMENTS,c);var l=r.getECLevel();return null!==l&&s.putMetadata(fT.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(s.putMetadata(fT.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(fT.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new GI;var r=this.moduleSize(t,e),o=t[1],i=n[1],a=t[0],s=n[0];if(a>=s||o>=i)throw new GI;if(i-o!==s-a&&(s=a+(i-o))>=e.getWidth())throw new GI;var c=Math.round((s-a+1)/r),l=Math.round((i-o+1)/r);if(c<=0||l<=0)throw new GI;if(l!==c)throw new GI;var u=Math.floor(r/2);o+=u;var h=(a+=u)+Math.floor((c-1)*r)-s;if(h>0){if(h>u)throw new GI;a-=h}var d=o+Math.floor((l-1)*r)-i;if(d>0){if(d>u)throw new GI;o-=d}for(var f=new HI(c,l),p=0;p<l;p++)for(var g=o+Math.floor(p*r),m=0;m<c;m++)e.get(a+Math.floor(m*r),g)&&f.set(m,p);return f},e.moduleSize=function(e,t){for(var n=t.getHeight(),r=t.getWidth(),o=e[0],i=e[1],a=!0,s=0;o<r&&i<n;){if(a!==t.get(o,i)){if(5===++s)break;a=!a}o++,i++}if(o===r||i===n)throw new GI;return(o-e[0])/7},e.NO_POINTS=new Array,e}();const yk=mk;var vk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wk=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(e){return DT.sum(e)},e.toIntArray=function(t){var n,r;if(null==t||!t.length)return e.EMPTY_INT_ARRAY;var o=new Int32Array(t.length),i=0;try{for(var a=vk(t),s=a.next();!s.done;s=a.next()){var c=s.value;o[i++]=c}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},e.getCodeword=function(t){var n=CI.binarySearch(e.SYMBOL_TABLE,262143&t);return n<0?-1:(e.CODEWORD_TABLE[n]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}();const bk=wk;const Ek=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();var _k=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ck=function(){function e(){}return e.detectMultiple=function(t,n,r){var o=t.getBlackMatrix(),i=e.detect(r,o);return i.length||((o=o.clone()).rotate180(),i=e.detect(r,o)),new Ek(o,i)},e.detect=function(t,n){for(var r,o,i=new Array,a=0,s=0,c=!1;a<n.getHeight();){var l=e.findVertices(n,a,s);if(null!=l[0]||null!=l[3]){if(c=!0,i.push(l),!t)break;null!=l[2]?(s=Math.trunc(l[2].getX()),a=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY()))}else{if(!c)break;c=!1,s=0;try{for(var u=(r=void 0,_k(i)),h=u.next();!h.done;h=u.next()){var d=h.value;null!=d[1]&&(a=Math.trunc(Math.max(a,d[1].getY()))),null!=d[3]&&(a=Math.max(a,Math.trunc(d[3].getY())))}}catch(f){r={error:f}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}a+=e.ROW_STEP}}return i},e.findVertices=function(t,n,r){var o=t.getHeight(),i=t.getWidth(),a=new Array(8);return e.copyToResult(a,e.findRowsWithPattern(t,o,i,n,r,e.START_PATTERN),e.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),e.copyToResult(a,e.findRowsWithPattern(t,o,i,n,r,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),a},e.copyToResult=function(e,t,n){for(var r=0;r<n.length;r++)e[n[r]]=t[r]},e.findRowsWithPattern=function(t,n,r,o,i,a){for(var s=new Array(4),c=!1,l=new Int32Array(a.length);o<n;o+=e.ROW_STEP){if(null!=(f=e.findGuardPattern(t,i,o,r,!1,a,l))){for(;o>0;){if(null==(d=e.findGuardPattern(t,i,--o,r,!1,a,l))){o++;break}f=d}s[0]=new LT(f[0],o),s[1]=new LT(f[1],o),c=!0;break}}var u=o+1;if(c){for(var h=0,d=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);u<n;u++){var f;if(null!=(f=e.findGuardPattern(t,d[0],u,r,!1,a,l))&&Math.abs(d[0]-f[0])<e.MAX_PATTERN_DRIFT&&Math.abs(d[1]-f[1])<e.MAX_PATTERN_DRIFT)d=f,h=0;else{if(h>e.SKIPPED_ROW_COUNT_MAX)break;h++}}u-=h+1,s[2]=new LT(d[0],u),s[3]=new LT(d[1],u)}return u-o<e.BARCODE_MIN_HEIGHT&&CI.fill(s,null),s},e.findGuardPattern=function(t,n,r,o,i,a,s){CI.fillWithin(s,0,s.length,0);for(var c=n,l=0;t.get(c,r)&&c>0&&l++<e.MAX_PIXEL_DRIFT;)c--;for(var u=c,h=0,d=a.length,f=i;u<o;u++){if(t.get(u,r)!==f)s[h]++;else{if(h===d-1){if(e.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([c,u]);c+=s[0]+s[1],mI.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,f=!f}}return h===d-1&&e.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([c,u-1]):null},e.patternMatchVariance=function(e,t,n){for(var r=e.length,o=0,i=0,a=0;a<r;a++)o+=e[a],i+=t[a];if(o<i)return 1/0;var s=o/i;n*=s;for(var c=0,l=0;l<r;l++){var u=e[l],h=t[l]*s,d=u>h?u-h:h-u;if(d>n)return 1/0;c+=d}return c/o},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}();const Sk=Ck;var Ak=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ik=function(){function e(e,t){if(0===t.length)throw new uI;this.field=e;var n=t.length;if(n>1&&0===t[0]){for(var r=1;r<n&&0===t[r];)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),mI.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){var t,n;if(0===e)return this.getCoefficient(0);if(1===e){var r=0;try{for(var o=Ak(this.coefficients),i=o.next();!i.done;i=o.next()){var a=i.value;r=this.field.add(r,a)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}for(var s=this.coefficients[0],c=this.coefficients.length,l=1;l<c;l++)s=this.field.add(this.field.multiply(e,s),this.coefficients[l]);return s},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new uI("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;mI.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=this.field.add(n[s-a],r[s]);return new e(this.field,i)},e.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new uI("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new uI("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,o=t.coefficients,i=o.length,a=new Int32Array(r+i-1),s=0;s<r;s++)for(var c=n[s],l=0;l<i;l++)a[s+l]=this.field.add(a[s+l],this.field.multiply(c,o[l]));return new e(this.field,a)},e.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),r=0;r<t;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new e(this.field,n)},e.prototype.multiplyScalar=function(t){if(0===t)return new e(this.field,new Int32Array([0]));if(1===t)return this;for(var n=this.coefficients.length,r=new Int32Array(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],t);return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new uI;if(0===n)return new e(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+t),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new e(this.field,o)},e.prototype.toString=function(){for(var e=new VI,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},e}();const Tk=Ik;const Nk=function(){function e(){}return e.prototype.add=function(e,t){return(e+t)%this.modulus},e.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new uI;return this.logTable[e]},e.prototype.inverse=function(e){if(0===e)throw new wT;return this.expTable[this.modulus-this.logTable[e]-1]},e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(e){return e===this},e}();var Ok=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rk=function(e){function t(t,n){var r=e.call(this)||this;r.modulus=t,r.expTable=new Int32Array(t),r.logTable=new Int32Array(t);for(var o=1,i=0;i<t;i++)r.expTable[i]=o,o=o*n%t;for(i=0;i<t-1;i++)r.logTable[r.expTable[i]]=i;return r.zero=new Tk(r,new Int32Array([0])),r.one=new Tk(r,new Int32Array([1])),r}return Ok(t,e),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,t){if(e<0)throw new uI;if(0===t)return this.zero;var n=new Int32Array(e+1);return n[0]=t,new Tk(this,n)},t.PDF417_GF=new t(bk.NUMBER_OF_CODEWORDS,3),t}(Nk);const kk=Rk;var xk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dk=function(){function e(){this.field=kk.PDF417_GF}return e.prototype.decode=function(e,t,n){for(var r,o,i=new Tk(this.field,e),a=new Int32Array(t),s=!1,c=t;c>0;c--){var l=i.evaluateAt(this.field.exp(c));a[t-c]=l,0!==l&&(s=!0)}if(!s)return 0;var u=this.field.getOne();if(null!=n)try{for(var h=xk(n),d=h.next();!d.done;d=h.next()){var f=d.value,p=this.field.exp(e.length-1-f),g=new Tk(this.field,new Int32Array([this.field.subtract(0,p),1]));u=u.multiply(g)}}catch(C){r={error:C}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}var m=new Tk(this.field,a),y=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),m,t),v=y[0],w=y[1],b=this.findErrorLocations(v),E=this.findErrorMagnitudes(w,v,b);for(c=0;c<b.length;c++){var _=e.length-1-this.field.log(b[c]);if(_<0)throw fI.getChecksumInstance();e[_]=this.field.subtract(e[_],E[c])}return b.length},e.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var r=e;e=t,t=r}for(var o=e,i=t,a=this.field.getZero(),s=this.field.getOne();i.getDegree()>=Math.round(n/2);){var c=o,l=a;if(a=s,(o=i).isZero())throw fI.getChecksumInstance();i=c;for(var u=this.field.getZero(),h=o.getCoefficient(o.getDegree()),d=this.field.inverse(h);i.getDegree()>=o.getDegree()&&!i.isZero();){var f=i.getDegree()-o.getDegree(),p=this.field.multiply(i.getCoefficient(i.getDegree()),d);u=u.add(this.field.buildMonomial(f,p)),i=i.subtract(o.multiplyByMonomial(f,p))}s=u.multiply(a).subtract(l).negative()}var g=s.getCoefficient(0);if(0===g)throw fI.getChecksumInstance();var m=this.field.inverse(g);return[s.multiply(m),i.multiply(m)]},e.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),r=0,o=1;o<this.field.getSize()&&r<t;o++)0===e.evaluateAt(o)&&(n[r]=this.field.inverse(o),r++);if(r!==t)throw fI.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(e,t,n){for(var r=t.getDegree(),o=new Int32Array(r),i=1;i<=r;i++)o[r-i]=this.field.multiply(i,t.getCoefficient(i));var a=new Tk(this.field,o),s=n.length,c=new Int32Array(s);for(i=0;i<s;i++){var l=this.field.inverse(n[i]),u=this.field.subtract(0,e.evaluateAt(l)),h=this.field.inverse(a.evaluateAt(l));c[i]=this.field.multiply(u,h)}return c},e}();const Pk=Dk;const Mk=function(){function e(t,n,r,o,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,n,r,o,i)}return e.prototype.constructor_1=function(e,t,n,r,o){var i=null==t||null==n,a=null==r||null==o;if(i&&a)throw new GI;i?(t=new LT(0,r.getY()),n=new LT(0,o.getY())):a&&(r=new LT(e.getWidth()-1,t.getY()),o=new LT(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},e.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},e.merge=function(t,n){return null==t?n:null==n?t:new e(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},e.prototype.addMissingRows=function(t,n,r){var o=this.topLeft,i=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(t>0){var c=r?this.topLeft:this.topRight,l=Math.trunc(c.getY()-t);l<0&&(l=0);var u=new LT(c.getX(),l);r?o=u:a=u}if(n>0){var h=r?this.bottomLeft:this.bottomRight,d=Math.trunc(h.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var f=new LT(h.getX(),d);r?i=f:s=f}return new e(this.image,o,i,a,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}();const Lk=function(){function e(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}();const Bk=function(){function e(){this.buffer=""}return e.form=function(e,t){var n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,r,o,i,a,s){if("%%"===e)return"%";if(void 0!==t[++n]){e=i?parseInt(i.substr(1)):void 0;var c,l=a?parseInt(a.substr(1)):void 0;switch(s){case"s":c=t[n];break;case"c":c=t[n][0];break;case"f":c=parseFloat(t[n]).toFixed(e);break;case"p":c=parseFloat(t[n]).toPrecision(e);break;case"e":c=parseFloat(t[n]).toExponential(e);break;case"x":c=parseInt(t[n]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[n],l||10).toPrecision(e)).toFixed(0)}c="object"===typeof c?JSON.stringify(c):(+c).toString(l);for(var u=parseInt(o),h=o&&o[0]+""==="0"?"0":" ";c.length<u;)c=void 0!==r?c+h:h+c;return c}})},e.prototype.format=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=e.form(t,n)},e.prototype.toString=function(){return this.buffer},e}();var Fk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jk=function(){function e(e){this.boundingBox=new Mk(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(null!=n)return n;for(var r=1;r<e.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(t)-r;if(o>=0&&null!=(n=this.codewords[o]))return n;if((o=this.imageRowToCodewordIndex(t)+r)<this.codewords.length&&null!=(n=this.codewords[o]))return n}return null},e.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},e.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},e.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var e,t,n=new Bk,r=0;try{for(var o=Fk(this.codewords),i=o.next();!i.done;i=o.next()){var a=i.value;null!=a?n.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue()):n.format("%3d:    |   %n",r++)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}();const Uk=jk;var Vk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zk=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Hk=function(){function e(){this.values=new Map}return e.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)},e.prototype.getValue=function(){var e,t,n=-1,r=new Array,o=function(e,t){var o=function(){return e},i=function(){return t};i()>n?(n=i(),(r=[]).push(o())):i()===n&&r.push(o())};try{for(var i=Vk(this.values.entries()),a=i.next();!a.done;a=i.next()){var s=zk(a.value,2);o(s[0],s[1])}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return bk.toIntArray(r)},e.prototype.getConfidence=function(e){return this.values.get(e)},e}();const Wk=Hk;var Gk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xk=function(e){function t(t,n){var r=e.call(this,t)||this;return r._isLeft=n,r}return Gk(t,e),t.prototype.setRowNumbers=function(){var e,t;try{for(var n=qk(this.getCodewords()),r=n.next();!r.done;r=n.next()){var o=r.value;null!=o&&o.setRowNumberAsRowIndicatorColumn()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),s=-1,c=1,l=0,u=i;u<a;u++)if(null!=t[u]){var h=t[u],d=h.getRowNumber()-s;if(0===d)l++;else if(1===d)c=Math.max(c,l),l=1,s=h.getRowNumber();else if(d<0||h.getRowNumber()>=e.getRowCount()||d>u)t[u]=null;else{for(var f=void 0,p=(f=c>2?(c-2)*d:d)>=u,g=1;g<=f&&!p;g++)p=null!=t[u-g];p?t[u]=null:(s=h.getRowNumber(),l=1)}}},t.prototype.getRowHeights=function(){var e,t,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var r=new Int32Array(n.getRowCount());try{for(var o=qk(this.getCodewords()),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=a){var s=a.getRowNumber();if(s>=r.length)continue;r[s]++}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1,c=1,l=0,u=o;u<i;u++)if(null!=a[u]){var h=a[u];h.setRowNumberAsRowIndicatorColumn();var d=h.getRowNumber()-s;0===d?l++:1===d?(c=Math.max(c,l),l=1,s=h.getRowNumber()):h.getRowNumber()>=e.getRowCount()?a[u]=null:(s=h.getRowNumber(),l=1)}},t.prototype.getBarcodeMetadata=function(){var e,t,n=this.getCodewords(),r=new Wk,o=new Wk,i=new Wk,a=new Wk;try{for(var s=qk(n),c=s.next();!c.done;c=s.next()){var l=c.value;if(null!=l){l.setRowNumberAsRowIndicatorColumn();var u=l.getValue()%30,h=l.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:o.setValue(3*u+1);break;case 1:a.setValue(u/3),i.setValue(u%3);break;case 2:r.setValue(u+1)}}}}catch(f){e={error:f}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(0===r.getValue().length||0===o.getValue().length||0===i.getValue().length||0===a.getValue().length||r.getValue()[0]<1||o.getValue()[0]+i.getValue()[0]<bk.MIN_ROWS_IN_BARCODE||o.getValue()[0]+i.getValue()[0]>bk.MAX_ROWS_IN_BARCODE)return null;var d=new Lk(r.getValue()[0],o.getValue()[0],i.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(n,d),d},t.prototype.removeIncorrectCodewords=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(null!=e[n]){var o=r.getValue()%30,i=r.getRowNumber();if(i>t.getRowCount())e[n]=null;else switch(this._isLeft||(i+=2),i%3){case 0:3*o+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(o/3)===t.getErrorCorrectionLevel()&&o%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:o+1!==t.getColumnCount()&&(e[n]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+e.prototype.toString.call(this)},t}(Uk);const Kk=Xk;var Yk=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qk=function(){function e(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=bk.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,n));return e},e.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var o=this.detectionResultColumns[r].getCodewords()[n];null!=o&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}},e.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var o=n[r].getRowNumber(),i=0,a=this.barcodeColumnCount+1;a>0&&i<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(i=e.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var o=n[r].getRowNumber(),i=0,a=1;a<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(i=e.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},e.prototype.adjustRowNumbers=function(t,n,r){var o,i;if(null!=this.detectionResultColumns[t-1]){var a=r[n],s=this.detectionResultColumns[t-1].getCodewords(),c=s;null!=this.detectionResultColumns[t+1]&&(c=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=s[n],l[3]=c[n],n>0&&(l[0]=r[n-1],l[4]=s[n-1],l[5]=c[n-1]),n>1&&(l[8]=r[n-2],l[10]=s[n-2],l[11]=c[n-2]),n<r.length-1&&(l[1]=r[n+1],l[6]=s[n+1],l[7]=c[n+1]),n<r.length-2&&(l[9]=r[n+2],l[12]=s[n+2],l[13]=c[n+2]);try{for(var u=Yk(l),h=u.next();!h.done;h=u.next()){var d=h.value;if(e.adjustRowNumber(a,d))return}}catch(f){o={error:f}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}},e.adjustRowNumber=function(e,t){return null!=t&&(!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0))},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(e){this.boundingBox=e},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},e.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},e.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Bk,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var o=this.detectionResultColumns[r].getCodewords()[n];null!=o?t.format(" %3d|%3d",o.getRowNumber(),o.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},e}();const Zk=Qk;const Jk=function(){function e(t,n,r,o){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(e){this.rowNumber=e},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}();var $k=function(){function e(){}return e.initialize=function(){for(var t=0;t<bk.SYMBOL_TABLE.length;t++)for(var n=bk.SYMBOL_TABLE[t],r=1&n,o=0;o<bk.BARS_IN_MODULE;o++){for(var i=0;(1&n)===r;)i+=1,n>>=1;r=1&n,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(bk.BARS_IN_MODULE)),e.RATIOS_TABLE[t][bk.BARS_IN_MODULE-o-1]=Math.fround(i/bk.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var n=e.getDecodedCodewordValue(e.sampleBitCounts(t));return-1!==n?n:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(e){for(var t=DT.sum(e),n=new Int32Array(bk.BARS_IN_MODULE),r=0,o=0,i=0;i<bk.MODULES_IN_CODEWORD;i++){var a=t/(2*bk.MODULES_IN_CODEWORD)+i*t/bk.MODULES_IN_CODEWORD;o+e[r]<=a&&(o+=e[r],r++),n[r]++}return n},e.getDecodedCodewordValue=function(t){var n=e.getBitValue(t);return-1===bk.getCodeword(n)?-1:n},e.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},e.getClosestDecodedValue=function(t){var n=DT.sum(t),r=new Array(bk.BARS_IN_MODULE);if(n>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(t[o]/n);var i=PT.MAX_VALUE,a=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var c=0,l=e.RATIOS_TABLE[s],u=0;u<bk.BARS_IN_MODULE;u++){var h=Math.fround(l[u]-r[u]);if((c+=Math.fround(h*h))>=i)break}c<i&&(i=c,a=bk.SYMBOL_TABLE[s])}return a},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(bk.SYMBOL_TABLE.length).map(function(e){return new Array(bk.BARS_IN_MODULE)}),e}();const ex=$k;const tx=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(e){this.segmentIndex=e},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(e){this.fileId=e},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(e){this.optionalData=e},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(e){this.lastSegment=e},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(e){this.segmentCount=e},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(e){this.sender=e},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(e){this.addressee=e},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(e){this.fileName=e},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(e){this.fileSize=e},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(e){this.checksum=e},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(e){this.timestamp=e},e}();const nx=function(){function e(){}return e.parseLong=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},e}();var rx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ox=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rx(t,e),t.kind="NullPointerException",t}(aI);const ix=function(){function e(){}return e.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},e.prototype.writeBytesOffset=function(e,t,n){if(null==e)throw new ox;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new vI;if(0!==n)for(var r=0;r<n;r++)this.write(e[t+r])},e.prototype.flush=function(){},e.prototype.close=function(){},e}();var ax=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const sx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ax(t,e),t}(aI);var cx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const lx=function(e){function t(t){void 0===t&&(t=32);var n=e.call(this)||this;if(n.count=0,t<0)throw new uI("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return cx(t,e),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new sx;t=AI.MAX_VALUE}this.buf=CI.copyOfUint8Array(this.buf,t)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new vI;this.ensureCapacity(this.count+n),mI.arraycopy(e,t,this.buf,this.count,n),this.count+=n},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return CI.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(ix);var ux,hx;function dx(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function fx(e){if("undefined"===typeof hx&&(hx=dx()),null===hx)throw new Error("BigInt is not supported!");return hx(e)}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(ux||(ux={}));var px=function(){function e(){}return e.decode=function(t,n){var r=new VI(""),o=MI.ISO8859_1;r.enableDecoding(o);for(var i=1,a=t[i++],s=new tx;i<t[0];){switch(a){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,r);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(a,t,o,i,r);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,r);break;case e.ECI_CHARSET:MI.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new kI;default:i--,i=e.textCompaction(t,i,r)}if(!(i<t.length))throw kI.getFormatInstance();a=t[i++]}if(0===r.length())throw kI.getFormatInstance();var c=new pT(null,r.toString(),null,n);return c.setOther(s),c},e.decodeMacroBlock=function(t,n,r){if(n+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw kI.getFormatInstance();for(var o=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)o[i]=t[n];r.setSegmentIndex(AI.parseInt(e.decodeBase900toBase10(o,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new VI;n=e.textCompaction(t,n,a),r.setFileId(a.toString());var s=-1;for(t[n]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<t[0];)switch(t[n]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++n]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new VI;n=e.textCompaction(t,n+1,c),r.setFileName(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new VI;n=e.textCompaction(t,n+1,l),r.setSender(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new VI;n=e.textCompaction(t,n+1,u),r.setAddressee(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new VI;n=e.numericCompaction(t,n+1,h),r.setSegmentCount(AI.parseInt(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new VI;n=e.numericCompaction(t,n+1,d),r.setTimestamp(nx.parseLong(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new VI;n=e.numericCompaction(t,n+1,f),r.setChecksum(AI.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new VI;n=e.numericCompaction(t,n+1,p),r.setFileSize(nx.parseLong(p.toString()));break;default:throw kI.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw kI.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(CI.copyOfRange(t,s,s+g))}return n},e.textCompaction=function(t,n,r){for(var o=new Int32Array(2*(t[0]-n)),i=new Int32Array(2*(t[0]-n)),a=0,s=!1;n<t[0]&&!s;){var c=t[n++];if(c<e.TEXT_COMPACTION_MODE_LATCH)o[a]=c/30,o[a+1]=c%30,a+=2;else switch(c){case e.TEXT_COMPACTION_MODE_LATCH:o[a++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[n++],i[a]=c,a++}}return e.decodeTextCompaction(o,i,a,r),n},e.decodeTextCompaction=function(t,n,r,o){for(var i=ux.ALPHA,a=ux.ALPHA,s=0;s<r;){var c=t[s],l="";switch(i){case ux.ALPHA:if(c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case e.LL:i=ux.LOWER;break;case e.ML:i=ux.MIXED;break;case e.PS:a=i,i=ux.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ux.ALPHA}break;case ux.LOWER:if(c<26)l=String.fromCharCode(97+c);else switch(c){case 26:l=" ";break;case e.AS:a=i,i=ux.ALPHA_SHIFT;break;case e.ML:i=ux.MIXED;break;case e.PS:a=i,i=ux.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ux.ALPHA}break;case ux.MIXED:if(c<e.PL)l=e.MIXED_CHARS[c];else switch(c){case e.PL:i=ux.PUNCT;break;case 26:l=" ";break;case e.LL:i=ux.LOWER;break;case e.AL:i=ux.ALPHA;break;case e.PS:a=i,i=ux.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ux.ALPHA}break;case ux.PUNCT:if(c<e.PAL)l=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=ux.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ux.ALPHA}break;case ux.ALPHA_SHIFT:if(i=a,c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=ux.ALPHA}break;case ux.PUNCT_SHIFT:if(i=a,c<e.PAL)l=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=ux.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=ux.ALPHA}}""!==l&&o.append(l),s++}},e.byteCompaction=function(t,n,r,o,i){var a=new lx,s=0,c=0,l=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),h=n[o++];o<n[0]&&!l;)switch(u[s++]=h,c=900*c+h,h=n[o++]){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,l=!0;break;default:if(s%5===0&&s>0){for(var d=0;d<6;++d)a.write(Number(fx(c)>>fx(8*(5-d))));c=0,s=0}}o===n[0]&&h<e.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=h);for(var f=0;f<s;f++)a.write(u[f]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!l;){var p=n[o++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,c=900*c+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,l=!0}if(s%5===0&&s>0){for(d=0;d<6;++d)a.write(Number(fx(c)>>fx(8*(5-d))));c=0,s=0}}}return i.append(FI.decode(a.toByteArray(),r)),o},e.numericCompaction=function(t,n,r){for(var o=0,i=!1,a=new Int32Array(e.MAX_NUMERIC_CODEWORDS);n<t[0]&&!i;){var s=t[n++];if(n===t[0]&&(i=!0),s<e.TEXT_COMPACTION_MODE_LATCH)a[o]=s,o++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:n--,i=!0}(o%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(r.append(e.decodeBase900toBase10(a,o)),o=0)}return n},e.decodeBase900toBase10=function(t,n){for(var r=fx(0),o=0;o<n;o++)r+=e.EXP900[n-o-1]*fx(t[o]);var i=r.toString();if("1"!==i.charAt(0))throw new kI;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",e.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",e.EXP900=dx()?function(){var e=[];e[0]=fx(1);var t=fx(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e}():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}();const gx=px;var mx=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yx=function(){function e(){}return e.decode=function(t,n,r,o,i,a,s){for(var c,l=new Mk(t,n,r,o,i),u=null,h=null,d=!0;;d=!1){if(null!=n&&(u=e.getRowIndicatorColumn(t,l,n,!0,a,s)),null!=o&&(h=e.getRowIndicatorColumn(t,l,o,!1,a,s)),null==(c=e.merge(u,h)))throw GI.getNotFoundInstance();var f=c.getBoundingBox();if(!d||null==f||!(f.getMinY()<l.getMinY()||f.getMaxY()>l.getMaxY()))break;l=f}c.setBoundingBox(l);var p=c.getBarcodeColumnCount()+1;c.setDetectionResultColumn(0,u),c.setDetectionResultColumn(p,h);for(var g=null!=u,m=1;m<=p;m++){var y=g?m:p-m;if(void 0===c.getDetectionResultColumn(y)){var v=void 0;v=0===y||y===p?new Kk(l,0===y):new Uk(l),c.setDetectionResultColumn(y,v);for(var w=-1,b=w,E=l.getMinY();E<=l.getMaxY();E++){if((w=e.getStartColumn(c,y,E,g))<0||w>l.getMaxX()){if(-1===b)continue;w=b}var _=e.detectCodeword(t,l.getMinX(),l.getMaxX(),g,w,E,a,s);null!=_&&(v.setCodeword(E,_),b=w,a=Math.min(a,_.getWidth()),s=Math.max(s,_.getWidth()))}}}return e.createDecoderResult(c)},e.merge=function(t,n){if(null==t&&null==n)return null;var r=e.getBarcodeMetadata(t,n);if(null==r)return null;var o=Mk.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(n));return new Zk(r,o)},e.adjustBoundingBox=function(t){var n,r;if(null==t)return null;var o=t.getRowHeights();if(null==o)return null;var i=e.getMax(o),a=0;try{for(var s=mx(o),c=s.next();!c.done;c=s.next()){var l=c.value;if(a+=i-l,l>0)break}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var u=t.getCodewords(),h=0;a>0&&null==u[h];h++)a--;var d=0;for(h=o.length-1;h>=0&&(d+=i-o[h],!(o[h]>0));h--);for(h=u.length-1;d>0&&null==u[h];h--)d--;return t.getBoundingBox().addMissingRows(a,d,t.isLeft())},e.getMax=function(e){var t,n,r=-1;try{for(var o=mx(e),i=o.next();!i.done;i=o.next()){var a=i.value;r=Math.max(r,a)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.getBarcodeMetadata=function(e,t){var n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,n,r,o,i,a){for(var s=new Kk(n,o),c=0;c<2;c++)for(var l=0===c?1:-1,u=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=l){var d=e.detectCodeword(t,0,t.getWidth(),o,u,h,i,a);null!=d&&(s.setCodeword(h,d),u=o?d.getStartX():d.getEndX())}return s},e.adjustCodewordCount=function(t,n){var r=n[0][1],o=r.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===o.length){if(i<1||i>bk.MAX_CODEWORDS_IN_BARCODE)throw GI.getNotFoundInstance();r.setValue(i)}else o[0]!==i&&r.setValue(i)},e.createDecoderResult=function(t){var n=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,n);for(var r=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],a=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var c=0;c<t.getBarcodeColumnCount();c++){var l=n[s][c+1].getValue(),u=s*t.getBarcodeColumnCount()+c;0===l.length?r.push(u):1===l.length?o[u]=l[0]:(a.push(u),i.push(l))}for(var h=new Array(i.length),d=0;d<h.length;d++)h[d]=i[d];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,bk.toIntArray(r),bk.toIntArray(a),h)},e.createDecoderResultFromAmbiguousValues=function(t,n,r,o,i){for(var a=new Int32Array(o.length),s=100;s-- >0;){for(var c=0;c<a.length;c++)n[o[c]]=i[c][a[c]];try{return e.decodeCodewords(n,t,r)}catch(l){if(!(l instanceof fI))throw l}if(0===a.length)throw fI.getChecksumInstance();for(c=0;c<a.length;c++){if(a[c]<i[c].length-1){a[c]++;break}if(a[c]=0,c===a.length-1)throw fI.getChecksumInstance()}}throw fI.getChecksumInstance()},e.createBarcodeMatrix=function(e){for(var t,n,r,o,i=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<i.length;a++)for(var s=0;s<i[a].length;s++)i[a][s]=new Wk;var c=0;try{for(var l=mx(e.getDetectionResultColumns()),u=l.next();!u.done;u=l.next()){var h=u.value;if(null!=h)try{for(var d=(r=void 0,mx(h.getCodewords())),f=d.next();!f.done;f=d.next()){var p=f.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=i.length)continue;i[g][c].setValue(p.getValue())}}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}c++}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return i},e.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},e.getStartColumn=function(t,n,r,o){var i,a,s=o?1:-1,c=null;if(e.isValidBarcodeColumn(t,n-s)&&(c=t.getDetectionResultColumn(n-s).getCodeword(r)),null!=c)return o?c.getEndX():c.getStartX();if(null!=(c=t.getDetectionResultColumn(n).getCodewordNearby(r)))return o?c.getStartX():c.getEndX();if(e.isValidBarcodeColumn(t,n-s)&&(c=t.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=c)return o?c.getEndX():c.getStartX();for(var l=0;e.isValidBarcodeColumn(t,n-s);){n-=s;try{for(var u=(i=void 0,mx(t.getDetectionResultColumn(n).getCodewords())),h=u.next();!h.done;h=u.next()){var d=h.value;if(null!=d)return(o?d.getEndX():d.getStartX())+s*l*(d.getEndX()-d.getStartX())}}catch(f){i={error:f}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}l++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,n,r,o,i,a,s,c){i=e.adjustCodewordStartColumn(t,n,r,o,i,a);var l,u=e.getModuleBitCount(t,n,r,o,i,a);if(null==u)return null;var h=DT.sum(u);if(o)l=i+h;else{for(var d=0;d<u.length/2;d++){var f=u[d];u[d]=u[u.length-1-d],u[u.length-1-d]=f}i=(l=i)-h}if(!e.checkCodewordSkew(h,s,c))return null;var p=ex.getDecodedValue(u),g=bk.getCodeword(p);return-1===g?null:new Jk(i,l,e.getCodewordBucketNumber(p),g)},e.getModuleBitCount=function(e,t,n,r,o,i){for(var a=o,s=new Int32Array(8),c=0,l=r?1:-1,u=r;(r?a<n:a>=t)&&c<s.length;)e.get(a,i)===u?(s[c]++,a+=l):(c++,u=!u);return c===s.length||a===(r?n:t)&&c===s.length-1?s:null},e.getNumberOfECCodeWords=function(e){return 2<<e},e.adjustCodewordStartColumn=function(t,n,r,o,i,a){for(var s=i,c=o?-1:1,l=0;l<2;l++){for(;(o?s>=n:s<r)&&o===t.get(s,a);){if(Math.abs(i-s)>e.CODEWORD_SKEW_SIZE)return i;s+=c}c=-c,o=!o}return s},e.checkCodewordSkew=function(t,n,r){return n-e.CODEWORD_SKEW_SIZE<=t&&t<=r+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,n,r){if(0===t.length)throw kI.getFormatInstance();var o=1<<n+1,i=e.correctErrors(t,r,o);e.verifyCodewordCount(t,o);var a=gx.decode(t,""+n);return a.setErrorsCorrected(i),a.setErasures(r.length),a},e.correctErrors=function(t,n,r){if(null!=n&&n.length>r/2+e.MAX_ERRORS||r<0||r>e.MAX_EC_CODEWORDS)throw fI.getChecksumInstance();return e.errorCorrection.decode(t,r,n)},e.verifyCodewordCount=function(e,t){if(e.length<4)throw kI.getFormatInstance();var n=e[0];if(n>e.length)throw kI.getFormatInstance();if(0===n){if(!(t<e.length))throw kI.getFormatInstance();e[0]=e.length-t}},e.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,r=t.length-1;!((1&e)!==n&&(n=1&e,--r<0));)t[r]++,e>>=1;return t},e.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},e.toString=function(e){for(var t=new Bk,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var r=0;r<e[n].length;r++){var o=e[n][r];0===o.getValue().length?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new Pk,e}();const vx=yx;var wx=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bx=function(){function e(){}return e.prototype.decode=function(t,n){void 0===n&&(n=null);var r=e.decode(t,n,!1);if(null==r||0===r.length||null==r[0])throw GI.getNotFoundInstance();return r[0]},e.prototype.decodeMultiple=function(t,n){void 0===n&&(n=null);try{return e.decode(t,n,!0)}catch(r){if(r instanceof kI||r instanceof fI)throw GI.getNotFoundInstance();throw r}},e.decode=function(t,n,r){var o,i,a=new Array,s=Sk.detectMultiple(t,n,r);try{for(var c=wx(s.getPoints()),l=c.next();!l.done;l=c.next()){var u=l.value,h=vx.decode(s.getBits(),u[4],u[5],u[6],u[7],e.getMinCodewordWidth(u),e.getMaxCodewordWidth(u)),d=new lT(h.getText(),h.getRawBytes(),void 0,u,hT.PDF_417);d.putMetadata(fT.ERROR_CORRECTION_LEVEL,h.getECLevel());var f=h.getOther();null!=f&&d.putMetadata(fT.PDF417_EXTRA_METADATA,f),a.push(d)}}catch(p){o={error:p}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return a.map(function(e){return e})},e.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMinWidth=function(e,t){return null==e||null==t?AI.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*bk.MODULES_IN_CODEWORD/bk.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*bk.MODULES_IN_CODEWORD/bk.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*bk.MODULES_IN_CODEWORD/bk.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*bk.MODULES_IN_CODEWORD/bk.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}();const Ex=bx;var _x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Cx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _x(t,e),t.kind="ReaderException",t}(aI);var Sx=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ax=function(){function e(){}return e.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},e.prototype.decodeWithState=function(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)},e.prototype.setHints=function(e){this.hints=e;var t=null!==e&&void 0!==e&&void 0!==e.get(OI.TRY_HARDER),n=null===e||void 0===e?null:e.get(OI.POSSIBLE_FORMATS),r=new Array;if(null!==n&&void 0!==n){var o=n.some(function(e){return e===hT.UPC_A||e===hT.UPC_E||e===hT.EAN_13||e===hT.EAN_8||e===hT.CODABAR||e===hT.CODE_39||e===hT.CODE_93||e===hT.CODE_128||e===hT.ITF||e===hT.RSS_14||e===hT.RSS_EXPANDED});o&&!t&&r.push(new tR(e)),n.includes(hT.QR_CODE)&&r.push(new yk),n.includes(hT.DATA_MATRIX)&&r.push(new CR),n.includes(hT.AZTEC)&&r.push(new $T),n.includes(hT.PDF_417)&&r.push(new Ex),o&&t&&r.push(new tR(e))}0===r.length&&(t||r.push(new tR(e)),r.push(new yk),r.push(new CR),r.push(new $T),r.push(new Ex),t&&r.push(new tR(e))),this.readers=r},e.prototype.reset=function(){var e,t;if(null!==this.readers)try{for(var n=Sx(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.decodeInternal=function(e){var t,n;if(null===this.readers)throw new Cx("No readers where selected, nothing can be read.");try{for(var r=Sx(this.readers),o=r.next();!o.done;o=r.next()){var i=o.value;try{return i.decode(e,this.hints)}catch(a){if(a instanceof Cx)continue}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}throw new GI("No MultiFormat Readers were able to detect the code.")},e}();const Ix=Ax;var Tx,Nx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ox=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=500);var r=new Ix;return r.setHints(t),e.call(this,r,n)||this}return Nx(t,e),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t}(cT),Rx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kx=(function(e){function t(t){return void 0===t&&(t=500),e.call(this,new Ex,t)||this}Rx(t,e)}(cT),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());!function(e){function t(t){return void 0===t&&(t=500),e.call(this,new yk,t)||this}kx(t,e)}(cT);!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"}(Tx||(Tx={}));const xx=Tx;const Dx=function(){function e(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new yT(e,Int32Array.from([1])))}return e.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],r=this.field,o=t.length;o<=e;o++){var i=n.multiply(new yT(r,Int32Array.from([1,r.exp(o-1+r.getGeneratorBase())])));t.push(i),n=i}return t[e]},e.prototype.encode=function(e,t){if(0===t)throw new uI("No error correction bytes");var n=e.length-t;if(n<=0)throw new uI("No data bytes provided");var r=this.buildGenerator(t),o=new Int32Array(n);mI.arraycopy(e,0,o,0,n);for(var i=new yT(this.field,o),a=(i=i.multiplyByMonomial(t,1)).divide(r)[1].getCoefficients(),s=t-a.length,c=0;c<s;c++)e[n+c]=0;mI.arraycopy(a,0,e,n+s,a.length)},e}();var Px=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var n=0,r=t.getArray(),o=t.getWidth(),i=t.getHeight(),a=0;a<i-1;a++)for(var s=r[a],c=0;c<o-1;c++){var l=s[c];l===s[c+1]&&l===r[a+1][c]&&l===r[a+1][c+1]&&n++}return e.N2*n},e.applyMaskPenaltyRule3=function(t){for(var n=0,r=t.getArray(),o=t.getWidth(),i=t.getHeight(),a=0;a<i;a++)for(var s=0;s<o;s++){var c=r[a];s+6<o&&1===c[s]&&0===c[s+1]&&1===c[s+2]&&1===c[s+3]&&1===c[s+4]&&0===c[s+5]&&1===c[s+6]&&(e.isWhiteHorizontal(c,s-4,s)||e.isWhiteHorizontal(c,s+7,s+11))&&n++,a+6<i&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(e.isWhiteVertical(r,s,a-4,a)||e.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*e.N3},e.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var r=t;r<n;r++)if(1===e[r])return!1;return!0},e.isWhiteVertical=function(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var o=n;o<r;o++)if(1===e[o][t])return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var n=0,r=t.getArray(),o=t.getWidth(),i=t.getHeight(),a=0;a<i;a++)for(var s=r[a],c=0;c<o;c++)1===s[c]&&n++;var l=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*n-l)/l)*e.N4},e.getDataMaskBit=function(e,t,n){var r,o;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:r=(1&(o=n*t))+o%3;break;case 6:r=(1&(o=n*t))+o%3&1;break;case 7:r=(o=n*t)%3+(n+t&1)&1;break;default:throw new uI("Invalid mask pattern: "+e)}return 0===r},e.applyMaskPenaltyRule1Internal=function(t,n){for(var r=0,o=n?t.getHeight():t.getWidth(),i=n?t.getWidth():t.getHeight(),a=t.getArray(),s=0;s<o;s++){for(var c=0,l=-1,u=0;u<i;u++){var h=n?a[s][u]:a[u][s];h===l?c++:(c>=5&&(r+=e.N1+(c-5)),c=1,l=h)}c>=5&&(r+=e.N1+(c-5))}return r},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}();const Mx=Px;var Lx=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bx=function(){function e(e,t){this.width=e,this.height=t;for(var n=new Array(t),r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(e,t){return this.bytes[t][e]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},e.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},e.prototype.clear=function(e){var t,n;try{for(var r=Lx(this.bytes),o=r.next();!o.done;o=r.next()){var i=o.value;CI.fill(i,e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,o=this.height;r<o;++r)for(var i=this.bytes[r],a=n.bytes[r],s=0,c=this.width;s<c;++s)if(i[s]!==a[s])return!1;return!0},e.prototype.toString=function(){for(var e=new VI,t=0,n=this.height;t<n;++t){for(var r=this.bytes[t],o=0,i=this.width;o<i;++o)switch(r[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},e}();const Fx=Bx;var jx=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var e=new VI;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setECLevel=function(e){this.ecLevel=e},e.prototype.setVersion=function(e){this.version=e},e.prototype.setMaskPattern=function(e){this.maskPattern=e},e.prototype.setMatrix=function(e){this.matrix=e},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}();const Ux=jx;var Vx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const zx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vx(t,e),t.kind="WriterException",t}(aI);var Hx=function(){function e(){}return e.clearMatrix=function(e){e.clear(255)},e.buildMatrix=function(t,n,r,o,i){e.clearMatrix(i),e.embedBasicPatterns(r,i),e.embedTypeInfo(n,o,i),e.maybeEmbedVersionInfo(r,i),e.embedDataBits(t,o,i)},e.embedBasicPatterns=function(t,n){e.embedPositionDetectionPatternsAndSeparators(n),e.embedDarkDotAtLeftBottomCorner(n),e.maybeEmbedPositionAdjustmentPatterns(t,n),e.embedTimingPatterns(n)},e.embedTypeInfo=function(t,n,r){var o=new TI;e.makeTypeInfoBits(t,n,o);for(var i=0,a=o.getSize();i<a;++i){var s=o.get(o.getSize()-1-i),c=e.TYPE_INFO_COORDINATES[i],l=c[0],u=c[1];if(r.setBoolean(l,u,s),i<8){var h=r.getWidth()-i-1,d=8;r.setBoolean(h,d,s)}else{h=8,d=r.getHeight()-7+(i-8);r.setBoolean(h,d,s)}}},e.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var r=new TI;e.makeVersionInfoBits(t,r);for(var o=17,i=0;i<6;++i)for(var a=0;a<3;++a){var s=r.get(o);o--,n.setBoolean(i,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,i,s)}}},e.embedDataBits=function(t,n,r){for(var o=0,i=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var c=0;c<2;++c){var l=a-c;if(e.isEmpty(r.get(l,s))){var u=void 0;o<t.getSize()?(u=t.get(o),++o):u=!1,255!==n&&Mx.getDataMaskBit(n,l,s)&&(u=!u),r.setBoolean(l,s,u)}}s+=i}s+=i=-i,a-=2}if(o!==t.getSize())throw new zx("Not all bits consumed: "+o+"/"+t.getSize())},e.findMSBSet=function(e){return 32-AI.numberOfLeadingZeros(e)},e.calculateBCHCode=function(t,n){if(0===n)throw new uI("0 polynomial");var r=e.findMSBSet(n);for(t<<=r-1;e.findMSBSet(t)>=r;)t^=n<<e.findMSBSet(t)-r;return t},e.makeTypeInfoBits=function(t,n,r){if(!Ux.isValidMaskPattern(n))throw new zx("Invalid mask pattern");var o=t.getBits()<<3|n;r.appendBits(o,5);var i=e.calculateBCHCode(o,e.TYPE_INFO_POLY);r.appendBits(i,10);var a=new TI;if(a.appendBits(e.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new zx("should not happen but we got: "+r.getSize())},e.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var r=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new zx("should not happen but we got: "+n.getSize())},e.isEmpty=function(e){return 255===e},e.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var r=(n+1)%2;e.isEmpty(t.get(n,6))&&t.setNumber(n,6,r),e.isEmpty(t.get(6,n))&&t.setNumber(6,n,r)}},e.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new zx;e.setNumber(8,e.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,n,r){for(var o=0;o<8;++o){if(!e.isEmpty(r.get(t+o,n)))throw new zx;r.setNumber(t+o,n,0)}},e.embedVerticalSeparationPattern=function(t,n,r){for(var o=0;o<7;++o){if(!e.isEmpty(r.get(t,n+o)))throw new zx;r.setNumber(t,n+o,0)}},e.embedPositionAdjustmentPattern=function(t,n,r){for(var o=0;o<5;++o)for(var i=e.POSITION_ADJUSTMENT_PATTERN[o],a=0;a<5;++a)r.setNumber(t+a,n+o,i[a])},e.embedPositionDetectionPattern=function(t,n,r){for(var o=0;o<7;++o)for(var i=e.POSITION_DETECTION_PATTERN[o],a=0;a<7;++a)r.setNumber(t+a,n+o,i[a])},e.embedPositionDetectionPatternsAndSeparators=function(t){var n=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-n,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-n,t);e.embedHorizontalSeparationPattern(0,7,t),e.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-8,t);e.embedVerticalSeparationPattern(7,0,t),e.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),e.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,o=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,a=o.length;i!==a;i++){var s=o[i];if(s>=0)for(var c=0;c!==a;c++){var l=o[c];l>=0&&e.isEmpty(n.get(l,s))&&e.embedPositionAdjustmentPattern(l-2,s-2,n)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}();const Wx=Hx;const Gx=function(){function e(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}();var qx=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xx=function(){function e(){}return e.calculateMaskPenalty=function(e){return Mx.applyMaskPenaltyRule1(e)+Mx.applyMaskPenaltyRule2(e)+Mx.applyMaskPenaltyRule3(e)+Mx.applyMaskPenaltyRule4(e)},e.encode=function(t,n,r){void 0===r&&(r=null);var o=e.DEFAULT_BYTE_MODE_ENCODING,i=null!==r&&void 0!==r.get(xx.CHARACTER_SET);i&&(o=r.get(xx.CHARACTER_SET).toString());var a=this.chooseMode(t,o),s=new TI;if(a===KR.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==o)){var c=MI.getCharacterSetECIByName(o);void 0!==c&&this.appendECI(c,s)}this.appendModeInfo(a,s);var l,u=new TI;if(this.appendBytes(t,a,u,o),null!==r&&void 0!==r.get(xx.QR_VERSION)){var h=Number.parseInt(r.get(xx.QR_VERSION).toString(),10);l=BR.getVersionForNumber(h);var d=this.calculateBitsNeeded(a,s,u,l);if(!this.willFit(d,l,n))throw new zx("Data too big for requested version")}else l=this.recommendVersion(n,a,s,u);var f=new TI;f.appendBitArray(s);var p=a===KR.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(p,l,a,f),f.appendBitArray(u);var g=l.getECBlocksForLevel(n),m=l.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,f);var y=this.interleaveWithECBytes(f,l.getTotalCodewords(),m,g.getNumBlocks()),v=new Ux;v.setECLevel(n),v.setMode(a),v.setVersion(l);var w=l.getDimensionForVersion(),b=new Fx(w,w),E=this.chooseMaskPattern(y,n,l,b);return v.setMaskPattern(E),Wx.buildMatrix(y,n,l,E,b),v.setMatrix(b),v},e.recommendVersion=function(e,t,n,r){var o=this.calculateBitsNeeded(t,n,r,BR.getVersionForNumber(1)),i=this.chooseVersion(o,e),a=this.calculateBitsNeeded(t,n,r,i);return this.chooseVersion(a,e)},e.calculateBitsNeeded=function(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,n){if(void 0===n&&(n=null),MI.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return KR.KANJI;for(var r=!1,o=!1,i=0,a=t.length;i<a;++i){var s=t.charAt(i);if(e.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return KR.BYTE;o=!0}}return o?KR.ALPHANUMERIC:r?KR.NUMERIC:KR.BYTE},e.isOnlyDoubleByteKanji=function(e){var t;try{t=FI.encode(e,MI.SJIS)}catch(i){return!1}var n=t.length;if(n%2!==0)return!1;for(var r=0;r<n;r+=2){var o=255&t[r];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},e.chooseMaskPattern=function(e,t,n,r){for(var o=Number.MAX_SAFE_INTEGER,i=-1,a=0;a<Ux.NUM_MASK_PATTERNS;a++){Wx.buildMatrix(e,t,n,a,r);var s=this.calculateMaskPenalty(r);s<o&&(o=s,i=a)}return i},e.chooseVersion=function(t,n){for(var r=1;r<=40;r++){var o=BR.getVersionForNumber(r);if(e.willFit(t,o,n))return o}throw new zx("Data too big")},e.willFit=function(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8},e.terminateBits=function(e,t){var n=8*e;if(t.getSize()>n)throw new zx("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var r=0;r<4&&t.getSize()<n;++r)t.appendBit(!1);var o=7&t.getSize();if(o>0)for(r=o;r<8;r++)t.appendBit(!1);var i=e-t.getSizeInBytes();for(r=0;r<i;++r)t.appendBits(0===(1&r)?236:17,8);if(t.getSize()!==n)throw new zx("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,r,o,i){if(r>=n)throw new zx("Block ID too large");var a=e%n,s=n-a,c=Math.floor(e/n),l=c+1,u=Math.floor(t/n),h=u+1,d=c-u,f=l-h;if(d!==f)throw new zx("EC bytes mismatch");if(n!==s+a)throw new zx("RS blocks mismatch");if(e!==(u+d)*s+(h+f)*a)throw new zx("Total bytes mismatch");r<s?(o[0]=u,i[0]=d):(o[0]=h,i[0]=f)},e.interleaveWithECBytes=function(t,n,r,o){var i,a,s,c;if(t.getSizeInBytes()!==r)throw new zx("Number of bits and data bytes does not match");for(var l=0,u=0,h=0,d=new Array,f=0;f<o;++f){var p=new Int32Array(1),g=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(n,r,o,f,p,g);var m=p[0],y=new Uint8Array(m);t.toBytes(8*l,y,0,m);var v=e.generateECBytes(y,g[0]);d.push(new Gx(y,v)),u=Math.max(u,m),h=Math.max(h,v.length),l+=p[0]}if(r!==l)throw new zx("Data bytes does not match offset");var w=new TI;for(f=0;f<u;++f)try{for(var b=(i=void 0,qx(d)),E=b.next();!E.done;E=b.next()){f<(y=E.value.getDataBytes()).length&&w.appendBits(y[f],8)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}for(f=0;f<h;++f)try{for(var _=(s=void 0,qx(d)),C=_.next();!C.done;C=_.next()){f<(v=C.value.getErrorCorrectionBytes()).length&&w.appendBits(v[f],8)}}catch(A){s={error:A}}finally{try{C&&!C.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}if(n!==w.getSizeInBytes())throw new zx("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},e.generateECBytes=function(e,t){for(var n=e.length,r=new Int32Array(n+t),o=0;o<n;o++)r[o]=255&e[o];new Dx(_T.QR_CODE_FIELD_256).encode(r,t);var i=new Uint8Array(t);for(o=0;o<t;o++)i[o]=r[n+o];return i},e.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},e.appendLengthInfo=function(e,t,n,r){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new zx(e+" is bigger than "+((1<<o)-1));r.appendBits(e,o)},e.appendBytes=function(t,n,r,o){switch(n){case KR.NUMERIC:e.appendNumericBytes(t,r);break;case KR.ALPHANUMERIC:e.appendAlphanumericBytes(t,r);break;case KR.BYTE:e.append8BitBytes(t,r,o);break;case KR.KANJI:e.appendKanjiBytes(t,r);break;default:throw new zx("Invalid mode: "+n)}},e.getDigit=function(e){return e.charCodeAt(0)-48},e.isDigit=function(t){var n=e.getDigit(t);return n>=0&&n<=9},e.appendNumericBytes=function(t,n){for(var r=t.length,o=0;o<r;){var i=e.getDigit(t.charAt(o));if(o+2<r){var a=e.getDigit(t.charAt(o+1)),s=e.getDigit(t.charAt(o+2));n.appendBits(100*i+10*a+s,10),o+=3}else if(o+1<r){a=e.getDigit(t.charAt(o+1));n.appendBits(10*i+a,7),o+=2}else n.appendBits(i,4),o++}},e.appendAlphanumericBytes=function(t,n){for(var r=t.length,o=0;o<r;){var i=e.getAlphanumericCode(t.charCodeAt(o));if(-1===i)throw new zx;if(o+1<r){var a=e.getAlphanumericCode(t.charCodeAt(o+1));if(-1===a)throw new zx;n.appendBits(45*i+a,11),o+=2}else n.appendBits(i,6),o++}},e.append8BitBytes=function(e,t,n){var r;try{r=FI.encode(e,n)}catch(s){throw new zx(s)}for(var o=0,i=r.length;o!==i;o++){var a=r[o];t.appendBits(a,8)}},e.appendKanjiBytes=function(e,t){var n;try{n=FI.encode(e,MI.SJIS)}catch(c){throw new zx(c)}for(var r=n.length,o=0;o<r;o+=2){var i=(255&n[o])<<8&4294967295|255&n[o+1],a=-1;if(i>=33088&&i<=40956?a=i-33088:i>=57408&&i<=60351&&(a=i-49472),-1===a)throw new zx("Invalid byte sequence");var s=192*(a>>8)+(255&a);t.appendBits(s,13)}},e.appendECI=function(e,t){t.appendBits(KR.ECI.getBits(),4),t.appendBits(e.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=MI.UTF8.getName(),e}();const Kx=Xx;!function(){function e(){}e.prototype.write=function(t,n,r,o){if(void 0===o&&(o=null),0===t.length)throw new uI("Found empty contents");if(n<0||r<0)throw new uI("Requested dimensions are too small: "+n+"x"+r);var i=IR.L,a=e.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(xx.ERROR_CORRECTION)&&(i=IR.fromString(o.get(xx.ERROR_CORRECTION).toString())),void 0!==o.get(xx.MARGIN)&&(a=Number.parseInt(o.get(xx.MARGIN).toString(),10)));var s=Kx.encode(t,i,o);return this.renderResult(s,n,r,a)},e.prototype.writeToDom=function(e,t,n,r,o){void 0===o&&(o=null),"string"===typeof e&&(e=document.querySelector(e));var i=this.write(t,n,r,o);e&&e.appendChild(i)},e.prototype.renderResult=function(e,t,n,r){var o=e.getMatrix();if(null===o)throw new IT;for(var i=o.getWidth(),a=o.getHeight(),s=i+2*r,c=a+2*r,l=Math.max(t,s),u=Math.max(n,c),h=Math.min(Math.floor(l/s),Math.floor(u/c)),d=Math.floor((l-i*h)/2),f=Math.floor((u-a*h)/2),p=this.createSVGElement(l,u),g=0,m=f;g<a;g++,m+=h)for(var y=0,v=d;y<i;y++,v+=h)if(1===o.get(y,g)){var w=this.createSvgRectElement(v,m,h,h);p.appendChild(w)}return p},e.prototype.createSVGElement=function(t,n){var r=document.createElementNS(e.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",n.toString()),r},e.prototype.createSvgRectElement=function(t,n,r,o){var i=document.createElementNS(e.SVG_NS,"rect");return i.setAttributeNS(null,"x",t.toString()),i.setAttributeNS(null,"y",n.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",o.toString()),i.setAttributeNS(null,"fill","#000000"),i},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg"}();const Yx=function(){function e(){}return e.prototype.encode=function(t,n,r,o,i){if(0===t.length)throw new uI("Found empty contents");if(n!==hT.QR_CODE)throw new uI("Can only encode QR_CODE, but got "+n);if(r<0||o<0)throw new uI("Requested dimensions are too small: "+r+"x"+o);var a=IR.L,s=e.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(xx.ERROR_CORRECTION)&&(a=IR.fromString(i.get(xx.ERROR_CORRECTION).toString())),void 0!==i.get(xx.MARGIN)&&(s=Number.parseInt(i.get(xx.MARGIN).toString(),10)));var c=Kx.encode(t,a,i);return e.renderResult(c,r,o,s)},e.renderResult=function(e,t,n,r){var o=e.getMatrix();if(null===o)throw new IT;for(var i=o.getWidth(),a=o.getHeight(),s=i+2*r,c=a+2*r,l=Math.max(t,s),u=Math.max(n,c),h=Math.min(Math.floor(l/s),Math.floor(u/c)),d=Math.floor((l-i*h)/2),f=Math.floor((u-a*h)/2),p=new HI(l,u),g=0,m=f;g<a;g++,m+=h)for(var y=0,v=d;y<i;y++,v+=h)1===o.get(y,g)&&p.setRegion(v,m,h,h);return p},e.QUIET_ZONE_SIZE=4,e}();!function(){function e(){}e.prototype.encode=function(e,t,n,r,o){if(t!==hT.QR_CODE)throw new uI("No encoder available for format "+t);return(new Yx).encode(e,t,n,r,o)}}();var Qx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t,n,r,o,i,a,s,c){var l=e.call(this,a,s)||this;if(l.yuvData=t,l.dataWidth=n,l.dataHeight=r,l.left=o,l.top=i,o+a>n||i+s>r)throw new uI("Crop rectangle does not fit within image data.");return c&&l.reverseHorizontal(a,s),l}Qx(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new uI("Requested row is outside the image: "+e);var n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));var r=(e+this.top)*this.dataWidth+this.left;return mI.arraycopy(this.yuvData,r,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;var n=e*t,r=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return mI.arraycopy(this.yuvData,o,r,0,n),r;for(var i=0;i<t;i++){var a=i*e;mI.arraycopy(this.yuvData,o,r,a,e),o+=this.dataWidth}return r},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,r,o){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,o,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),o=this.yuvData,i=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var s=a*e,c=0;c<e;c++){var l=255&o[i+c*t.THUMBNAIL_SCALE_FACTOR];r[s+c]=4278190080|65793*l}i+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return r},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,t){for(var n=this.yuvData,r=0,o=this.top*this.dataWidth+this.left;r<t;r++,o+=this.dataWidth)for(var i=o+e/2,a=o,s=o+e-1;a<i;a++,s--){var c=n[a];n[a]=n[s],n[s]=c}},t.prototype.invert=function(){return new tT(this)},t.THUMBNAIL_SCALE_FACTOR=2}($I);var Zx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t,n,r,o,i,a,s){var c=e.call(this,n,r)||this;if(c.dataWidth=o,c.dataHeight=i,c.left=a,c.top=s,4===t.BYTES_PER_ELEMENT){for(var l=n*r,u=new Uint8ClampedArray(l),h=0;h<l;h++){var d=t[h],f=d>>16&255,p=d>>7&510,g=255&d;u[h]=(f+p+g)/4&255}c.luminances=u}else c.luminances=t;if(void 0===o&&(c.dataWidth=n),void 0===i&&(c.dataHeight=r),void 0===a&&(c.left=0),void 0===s&&(c.top=0),c.left+n>c.dataWidth||c.top+r>c.dataHeight)throw new uI("Crop rectangle does not fit within image data.");return c}Zx(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new uI("Requested row is outside the image: "+e);var n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));var r=(e+this.top)*this.dataWidth+this.left;return mI.arraycopy(this.luminances,r,t,0,n),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;var n=e*t,r=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return mI.arraycopy(this.luminances,o,r,0,n),r;for(var i=0;i<t;i++){var a=i*e;mI.arraycopy(this.luminances,o,r,a,e),o+=this.dataWidth}return r},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,n,r,o){return new t(this.luminances,r,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)},t.prototype.invert=function(){return new tT(this)}}($I);var Jx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const $x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jx(t,e),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(MI);const eD=function(){function e(){}return e.ISO_8859_1=MI.ISO8859_1,e}();const tD=function(){function e(e,t,n){this.codewords=e,this.numcols=t,this.numrows=n,this.bits=new Uint8Array(t*n),CI.fill(this.bits,2)}return e.prototype.getNumrows=function(){return this.numrows},e.prototype.getNumcols=function(){return this.numcols},e.prototype.getBits=function(){return this.bits},e.prototype.getBit=function(e,t){return 1===this.bits[t*this.numcols+e]},e.prototype.setBit=function(e,t,n){this.bits[t*this.numcols+e]=n?1:0},e.prototype.noBit=function(e,t){return 2===this.bits[t*this.numcols+e]},e.prototype.place=function(){var e=0,t=4,n=0;do{t===this.numrows&&0===n&&this.corner1(e++),t===this.numrows-2&&0===n&&this.numcols%4!==0&&this.corner2(e++),t===this.numrows-2&&0===n&&this.numcols%8===4&&this.corner3(e++),t===this.numrows+4&&2===n&&this.numcols%8===0&&this.corner4(e++);do{t<this.numrows&&n>=0&&this.noBit(n,t)&&this.utah(t,n,e++),t-=2,n+=2}while(t>=0&&n<this.numcols);t++,n+=3;do{t>=0&&n<this.numcols&&this.noBit(n,t)&&this.utah(t,n,e++),t+=2,n-=2}while(t<this.numrows&&n>=0);t+=3,n++}while(t<this.numrows||n<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},e.prototype.module=function(e,t,n,r){e<0&&(e+=this.numrows,t+=4-(this.numrows+4)%8),t<0&&(t+=this.numcols,e+=4-(this.numcols+4)%8);var o=this.codewords.charCodeAt(n);o&=1<<8-r,this.setBit(t,e,0!==o)},e.prototype.utah=function(e,t,n){this.module(e-2,t-2,n,1),this.module(e-2,t-1,n,2),this.module(e-1,t-2,n,3),this.module(e-1,t-1,n,4),this.module(e-1,t,n,5),this.module(e,t-2,n,6),this.module(e,t-1,n,7),this.module(e,t,n,8)},e.prototype.corner1=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,1,e,2),this.module(this.numrows-1,2,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},e.prototype.corner2=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-4,e,4),this.module(0,this.numcols-3,e,5),this.module(0,this.numcols-2,e,6),this.module(0,this.numcols-1,e,7),this.module(1,this.numcols-1,e,8)},e.prototype.corner3=function(e){this.module(this.numrows-3,0,e,1),this.module(this.numrows-2,0,e,2),this.module(this.numrows-1,0,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-1,e,6),this.module(2,this.numcols-1,e,7),this.module(3,this.numcols-1,e,8)},e.prototype.corner4=function(e){this.module(this.numrows-1,0,e,1),this.module(this.numrows-1,this.numcols-1,e,2),this.module(0,this.numcols-3,e,3),this.module(0,this.numcols-2,e,4),this.module(0,this.numcols-1,e,5),this.module(1,this.numcols-3,e,6),this.module(1,this.numcols-2,e,7),this.module(1,this.numcols-1,e,8)},e}();var nD,rD,oD=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],iD=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],aD=(nD=function(e,t){for(var n=1,r=0;r<255;r++)t[r]=n,e[n]=r,(n*=2)>=256&&(n^=301);return{LOG:e,ALOG:t}}([],[]),nD.LOG),sD=nD.ALOG;!function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"}(rD||(rD={}));var cD="[)>\x1e05\x1d",lD="[)>\x1e06\x1d",uD="\x1e\x04",hD=function(){function e(){}return e.encodeECC200=function(e,t){if(e.length!==t.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var n=new VI;n.append(e);var r=t.getInterleavedBlockCount();if(1===r){var o=this.createECCBlock(e,t.getErrorCodewords());n.append(o)}else{for(var i=[],a=[],s=0;s<r;s++)i[s]=t.getDataLengthForInterleavedBlock(s+1),a[s]=t.getErrorLengthForInterleavedBlock(s+1);for(var c=0;c<r;c++){for(var l=new VI,u=c;u<t.getDataCapacity();u+=r)l.append(e.charAt(u));o=this.createECCBlock(l.toString(),a[c]);for(var h=0,d=c;d<a[c]*r;d+=r)n.setCharAt(t.getDataCapacity()+d,o.charAt(h++))}}return n.toString()},e.createECCBlock=function(e,t){for(var n=-1,r=0;r<oD.length;r++)if(oD[r]===t){n=r;break}if(n<0)throw new Error("Illegal number of error correction codewords specified: "+t);var o=iD[n],i=[];for(r=0;r<t;r++)i[r]=0;for(r=0;r<e.length;r++){for(var a=i[t-1]^e.charAt(r).charCodeAt(0),s=t-1;s>0;s--)0!==a&&0!==o[s]?i[s]=i[s-1]^sD[(aD[a]+aD[o[s]])%255]:i[s]=i[s-1];0!==a&&0!==o[0]?i[0]=sD[(aD[a]+aD[o[0]])%255]:i[0]=0}var c=[];for(r=0;r<t;r++)c[r]=i[t-r-1];return c.map(function(e){return String.fromCharCode(e)}).join("")},e}();const dD=hD;var fD=function(){function e(){}return e.prototype.getEncodingMode=function(){return 0},e.prototype.encode=function(e){if(OD.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var t=e.getCurrentChar(),n=OD.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(n!==this.getEncodingMode())switch(n){case 5:return e.writeCodeword(231),void e.signalEncoderChange(5);case 1:return e.writeCodeword(230),void e.signalEncoderChange(1);case 3:e.writeCodeword(238),e.signalEncoderChange(3);break;case 2:e.writeCodeword(239),e.signalEncoderChange(2);break;case 4:e.writeCodeword(240),e.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+n)}else OD.isExtendedASCII(t)?(e.writeCodeword(235),e.writeCodeword(t-128+1),e.pos++):(e.writeCodeword(t+1),e.pos++)}},e.prototype.encodeASCIIDigits=function(e,t){if(OD.isDigit(e)&&OD.isDigit(t))return 10*(e-48)+(t-48)+130;throw new Error("not digits: "+e+t)},e}(),pD=function(){function e(){}return e.prototype.getEncodingMode=function(){return 5},e.prototype.encode=function(e){var t=new VI;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();if(t.append(n),e.pos++,OD.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}var r=t.length()-1,o=e.getCodewordCount()+r+1;e.updateSymbolInfo(o);var i=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||i)if(r<=249)t.setCharAt(0,jI.getCharAt(r));else{if(!(r<=1555))throw new Error("Message length not in valid ranges: "+r);t.setCharAt(0,jI.getCharAt(Math.floor(r/250)+249)),t.insert(1,jI.getCharAt(r%250))}var a=0;for(n=t.length();a<n;a++)e.writeCodeword(this.randomize255State(t.charAt(a).charCodeAt(0),e.getCodewordCount()+1))},e.prototype.randomize255State=function(e,t){var n=e+(149*t%255+1);return n<=255?n:n-256},e}(),gD=function(){function e(){}return e.prototype.getEncodingMode=function(){return 1},e.prototype.encodeMaximal=function(e){for(var t=new VI,n=0,r=e.pos,o=0;e.hasMoreCharacters();){var i=e.getCurrentChar();e.pos++,n=this.encodeChar(i,t),t.length()%3===0&&(r=e.pos,o=t.length())}if(o!==t.length()){var a=Math.floor(t.length()/3*2),s=Math.floor(e.getCodewordCount()+a+1);e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s,l=Math.floor(t.length()%3);(2===l&&2!==c||1===l&&(n>3||1!==c))&&(e.pos=r)}t.length()>0&&e.writeCodeword(230),this.handleEOD(e,t)},e.prototype.encode=function(e){for(var t=new VI;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var r=this.encodeChar(n,t),o=2*Math.floor(t.length()/3),i=e.getCodewordCount()+o;e.updateSymbolInfo(i);var a=e.getSymbolInfo().getDataCapacity()-i;if(!e.hasMoreCharacters()){var s=new VI;for(t.length()%3===2&&2!==a&&(r=this.backtrackOneCharacter(e,t,s,r));t.length()%3===1&&(r>3||1!==a);)r=this.backtrackOneCharacter(e,t,s,r);break}if(t.length()%3===0)if(OD.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},e.prototype.backtrackOneCharacter=function(e,t,n,r){var o=t.length(),i=t.toString().substring(0,o-r);t.setLengthToZero(),t.append(i),e.pos--;var a=e.getCurrentChar();return r=this.encodeChar(a,n),e.resetSymbolInfo(),r},e.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},e.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),r=t.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var i=e.getSymbolInfo().getDataCapacity()-o;if(2===r){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254)}else if(1===i&&1===r){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254),e.pos--}else{if(0!==r)throw new Error("Unexpected case. Please report!");for(;t.length()>=3;)this.writeNextTriplet(e,t);(i>0||e.hasMoreCharacters())&&e.writeCodeword(254)}e.signalEncoderChange(0)},e.prototype.encodeChar=function(e,t){if(e===" ".charCodeAt(0))return t.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return t.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return t.append(e-65+14),1;if(e<" ".charCodeAt(0))return t.append(0),t.append(e),2;if(e<="/".charCodeAt(0))return t.append(1),t.append(e-33),2;if(e<="@".charCodeAt(0))return t.append(1),t.append(e-58+15),2;if(e<="_".charCodeAt(0))return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1\x1e");var n=2;return n+=this.encodeChar(e-128,t)},e.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,r=t%256,o=new VI;return o.append(n),o.append(r),o.toString()},e}(),mD=function(){function e(){}return e.prototype.getEncodingMode=function(){return 4},e.prototype.encode=function(e){for(var t=new VI;e.hasMoreCharacters();){var n=e.getCurrentChar();if(this.encodeChar(n,t),e.pos++,t.length()>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(4);if(t.setLengthToZero(),t.append(r),OD.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}}t.append(jI.getCharAt(31)),this.handleEOD(e,t)},e.prototype.handleEOD=function(e,t){try{var n=t.length();if(0===n)return;if(1===n){e.updateSymbolInfo();var r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>r&&(e.updateSymbolInfo(e.getCodewordCount()+1),r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=r&&r<=2)return}if(n>4)throw new Error("Count must not exceed 4");var i=n-1,a=this.encodeToCodewords(t.toString()),s=!e.hasMoreCharacters()&&i<=2;if(i<=2)e.updateSymbolInfo(e.getCodewordCount()+i),(r=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount())>=3&&(s=!1,e.updateSymbolInfo(e.getCodewordCount()+a.length));s?(e.resetSymbolInfo(),e.pos-=i):e.writeCodewords(a)}finally{e.signalEncoderChange(0)}},e.prototype.encodeChar=function(e,t){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?t.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?t.append(jI.getCharAt(e-64)):OD.illegalCharacter(jI.getCharAt(e))},e.prototype.encodeToCodewords=function(e){var t=e.length;if(0===t)throw new Error("StringBuilder must not be empty");var n=(e.charAt(0).charCodeAt(0)<<18)+((t>=2?e.charAt(1).charCodeAt(0):0)<<12)+((t>=3?e.charAt(2).charCodeAt(0):0)<<6)+(t>=4?e.charAt(3).charCodeAt(0):0),r=n>>16&255,o=n>>8&255,i=255&n,a=new VI;return a.append(r),t>=2&&a.append(o),t>=3&&a.append(i),a.toString()},e}(),yD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vD=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wD=function(){function e(e,t,n,r,o,i,a,s){void 0===a&&(a=0),void 0===s&&(s=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=r,this.matrixHeight=o,this.dataRegions=i,this.rsBlockData=a,this.rsBlockError=s}return e.lookup=function(e,t,n,r,o){var i,a;void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!0);try{for(var s=vD(_D),c=s.next();!c.done;c=s.next()){var l=c.value;if((1!==t||!l.rectangular)&&((2!==t||l.rectangular)&&(null==n||!(l.getSymbolWidth()<n.getWidth()||l.getSymbolHeight()<n.getHeight()))&&(null==r||!(l.getSymbolWidth()>r.getWidth()||l.getSymbolHeight()>r.getHeight()))&&e<=l.dataCapacity))return l}}catch(u){i={error:u}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},e}();const bD=wD;var ED=function(e){function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return yD(t,e),t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(e){return e<=8?156:155},t}(wD),_D=[new wD(!1,3,5,8,8,1),new wD(!1,5,7,10,10,1),new wD(!0,5,7,16,6,1),new wD(!1,8,10,12,12,1),new wD(!0,10,11,14,6,2),new wD(!1,12,12,14,14,1),new wD(!0,16,14,24,10,1),new wD(!1,18,14,16,16,1),new wD(!1,22,18,18,18,1),new wD(!0,22,18,16,10,2),new wD(!1,30,20,20,20,1),new wD(!0,32,24,16,14,2),new wD(!1,36,24,22,22,1),new wD(!1,44,28,24,24,1),new wD(!0,49,28,22,14,2),new wD(!1,62,36,14,14,4),new wD(!1,86,42,16,16,4),new wD(!1,114,48,18,18,4),new wD(!1,144,56,20,20,4),new wD(!1,174,68,22,22,4),new wD(!1,204,84,24,24,4,102,42),new wD(!1,280,112,14,14,16,140,56),new wD(!1,368,144,16,16,16,92,36),new wD(!1,456,192,18,18,16,114,48),new wD(!1,576,224,20,20,16,144,56),new wD(!1,696,272,22,22,16,174,68),new wD(!1,816,336,24,24,16,136,56),new wD(!1,1050,408,18,18,36,175,68),new wD(!1,1304,496,20,20,36,163,62),new ED],CD=function(){function e(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(e){return e.charCodeAt(0)}),n=new VI,r=0,o=t.length;r<o;r++){var i=String.fromCharCode(255&t[r]);if("?"===i&&"?"!==e.charAt(r))throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(i)}this.msg=n.toString(),this.shape=0,this.codewords=new VI,this.newEncoding=-1}return e.prototype.setSymbolShape=function(e){this.shape=e},e.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(e){this.codewords.append(e)},e.prototype.writeCodeword=function(e){this.codewords.append(e)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(e){this.newEncoding=e},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(e){void 0===e&&(e=this.getCodewordCount()),(null==this.symbolInfo||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=bD.lookup(e,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),SD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return SD(t,e),t.prototype.getEncodingMode=function(){return 3},t.prototype.encode=function(e){for(var t=new VI;e.hasMoreCharacters();){var n=e.getCurrentChar();if(e.pos++,this.encodeChar(n,t),t.length()%3===0)if(this.writeNextTriplet(e,t),OD.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},t.prototype.encodeChar=function(e,t){switch(e){case 13:t.append(0);break;case"*".charCodeAt(0):t.append(1);break;case">".charCodeAt(0):t.append(2);break;case" ".charCodeAt(0):t.append(3);break;default:e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?t.append(e-48+4):e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?t.append(e-65+14):OD.illegalCharacter(jI.getCharAt(e))}return 1},t.prototype.handleEOD=function(e,t){e.updateSymbolInfo();var n=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),r=t.length();e.pos-=r,(e.getRemainingCharacters()>1||n>1||e.getRemainingCharacters()!==n)&&e.writeCodeword(254),e.getNewEncoding()<0&&e.signalEncoderChange(0)},t}(gD),ID=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ID(t,e),t.prototype.getEncodingMode=function(){return 2},t.prototype.encodeChar=function(e,t){if(e===" ".charCodeAt(0))return t.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return t.append(e-48+4),1;if(e>="a".charCodeAt(0)&&e<="z".charCodeAt(0))return t.append(e-97+14),1;if(e<" ".charCodeAt(0))return t.append(0),t.append(e),2;if(e<="/".charCodeAt(0))return t.append(1),t.append(e-33),2;if(e<="@".charCodeAt(0))return t.append(1),t.append(e-58+15),2;if(e>="[".charCodeAt(0)&&e<="_".charCodeAt(0))return t.append(1),t.append(e-91+22),2;if(e==="`".charCodeAt(0))return t.append(2),t.append(0),2;if(e<="Z".charCodeAt(0))return t.append(2),t.append(e-65+1),2;if(e<=127)return t.append(2),t.append(e-123+27),2;t.append("1\x1e");var n=2;return n+=this.encodeChar(e-128,t)},t}(gD),ND=function(){function e(){}return e.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},e.encodeHighLevel=function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1);var i=new gD,a=[new fD,i,new TD,new AD,new mD,new pD],s=new CD(e);s.setSymbolShape(t),s.setSizeConstraints(n,r),e.startsWith(cD)&&e.endsWith(uD)?(s.writeCodeword(236),s.setSkipAtEnd(2),s.pos+=7):e.startsWith(lD)&&e.endsWith(uD)&&(s.writeCodeword(237),s.setSkipAtEnd(2),s.pos+=7);var c=0;for(o&&(i.encodeMaximal(s),c=s.getNewEncoding(),s.resetEncoderSignal());s.hasMoreCharacters();)a[c].encode(s),s.getNewEncoding()>=0&&(c=s.getNewEncoding(),s.resetEncoderSignal());var l=s.getCodewordCount();s.updateSymbolInfo();var u=s.getSymbolInfo().getDataCapacity();l<u&&0!==c&&5!==c&&4!==c&&s.writeCodeword("\xfe");var h=s.getCodewords();for(h.length()<u&&h.append(129);h.length()<u;)h.append(this.randomize253State(h.length()+1));return s.getCodewords().toString()},e.lookAheadTest=function(e,t,n){var r=this.lookAheadTestIntern(e,t,n);if(3===n&&3===r){for(var o=Math.min(t+3,e.length),i=t;i<o;i++)if(!this.isNativeX12(e.charCodeAt(i)))return 0}else if(4===n&&4===r)for(o=Math.min(t+4,e.length),i=t;i<o;i++)if(!this.isNativeEDIFACT(e.charCodeAt(i)))return 0;return r},e.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var r;0===n?r=[0,1,1,1,1,1.25]:(r=[1,2,2,2,2,2.25])[n]=0;for(var o=0,i=new Uint8Array(6),a=[];;){if(t+o===e.length){CI.fill(i,0),CI.fill(a,0);var s=this.findMinimums(r,a,AI.MAX_VALUE,i),c=this.getMinimumCount(i);if(a[0]===s)return 0;if(1===c){if(i[5]>0)return 5;if(i[4]>0)return 4;if(i[2]>0)return 2;if(i[3]>0)return 3}return 1}var l=e.charCodeAt(t+o);if(o++,this.isDigit(l)?r[0]+=.5:this.isExtendedASCII(l)?(r[0]=Math.ceil(r[0]),r[0]+=2):(r[0]=Math.ceil(r[0]),r[0]++),this.isNativeC40(l)?r[1]+=2/3:this.isExtendedASCII(l)?r[1]+=8/3:r[1]+=4/3,this.isNativeText(l)?r[2]+=2/3:this.isExtendedASCII(l)?r[2]+=8/3:r[2]+=4/3,this.isNativeX12(l)?r[3]+=2/3:this.isExtendedASCII(l)?r[3]+=13/3:r[3]+=10/3,this.isNativeEDIFACT(l)?r[4]+=3/4:this.isExtendedASCII(l)?r[4]+=4.25:r[4]+=3.25,this.isSpecialB256(l)?r[5]+=4:r[5]++,o>=4){if(CI.fill(i,0),CI.fill(a,0),this.findMinimums(r,a,AI.MAX_VALUE,i),a[0]<this.min(a[5],a[1],a[2],a[3],a[4]))return 0;if(a[5]<a[0]||a[5]+1<this.min(a[1],a[2],a[3],a[4]))return 5;if(a[4]+1<this.min(a[5],a[1],a[2],a[3],a[0]))return 4;if(a[2]+1<this.min(a[5],a[1],a[4],a[3],a[0]))return 2;if(a[3]+1<this.min(a[5],a[1],a[4],a[2],a[0]))return 3;if(a[1]+1<this.min(a[0],a[5],a[4],a[2])){if(a[1]<a[3])return 1;if(a[1]===a[3]){for(var u=t+o+1;u<e.length;){var h=e.charCodeAt(u);if(this.isX12TermSep(h))return 3;if(!this.isNativeX12(h))break;u++}return 1}}}}},e.min=function(e,t,n,r,o){var i=Math.min(e,Math.min(t,Math.min(n,r)));return void 0===o?i:Math.min(i,o)},e.findMinimums=function(e,t,n,r){for(var o=0;o<6;o++){var i=t[o]=Math.ceil(e[o]);n>i&&(n=i,CI.fill(r,0)),n===i&&(r[o]=r[o]+1)}return n},e.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},e.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},e.isExtendedASCII=function(e){return e>=128&&e<=255},e.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},e.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},e.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},e.isX12TermSep=function(e){return 13===e||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},e.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},e.isSpecialB256=function(e){return!1},e.determineConsecutiveDigitCount=function(e,t){void 0===t&&(t=0);for(var n=e.length,r=t;r<n&&this.isDigit(e.charCodeAt(r));)r++;return r-t},e.illegalCharacter=function(e){var t=AI.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},e}();const OD=ND;var RD,kD=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xD=function(){function e(e){this.charset=e,this.name=e.name}return e.prototype.canEncode=function(e){try{return null!=FI.encode(e,this.charset)}catch(t){return!1}},e}(),DD=function(){function e(e,t,n){var r,o,i,a,s,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(e){return new xD($x.forName(e))}),this.encoders=[];var l=[];l.push(new xD(eD.ISO_8859_1));for(var u=null!=t&&t.name.startsWith("UTF"),h=0;h<e.length;h++){var d=!1;try{for(var f=(r=void 0,kD(l)),p=f.next();!p.done;p=f.next()){var g=p.value,m=e.charAt(h);if(m.charCodeAt(0)===n||g.canEncode(m)){d=!0;break}}}catch(C){r={error:C}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}if(!d)try{for(var y=(i=void 0,kD(this.ENCODERS)),v=y.next();!v.done;v=y.next()){if((g=v.value).canEncode(e.charAt(h))){l.push(g),d=!0;break}}}catch(S){i={error:S}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}d||(u=!0)}if(1!==l.length||u){this.encoders=[];var w=0;try{for(var b=kD(l),E=b.next();!E.done;E=b.next()){g=E.value;this.encoders[w++]=g}}catch(A){s={error:A}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}}else this.encoders=[l[0]];var _=-1;if(null!=t)for(h=0;h<this.encoders.length;h++)if(null!=this.encoders[h]&&t.name===this.encoders[h].name){_=h;break}this.priorityEncoderIndex=_}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},e.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},e.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return FI.encode(jI.getCharAt(e),this.encoders[t].name)},e}(),PD=function(){function e(e,t,n){this.fnc1=n;var r=new DD(e,t,n);if(1===r.length())for(var o=0;o<this.bytes.length;o++){var i=e.charAt(o).charCodeAt(0);this.bytes[o]=i===n?1e3:i}else this.bytes=this.encodeMinimally(e,r,n)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},e.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},e.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new VI,r=e;r<t;r++){if(this.isECI(r))throw new Error("value at "+r+" is not a character but an ECI");n.append(this.charAt(r))}return n.toString()},e.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},e.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return 1e3===this.bytes[e]},e.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},e.prototype.addEdge=function(e,t,n){(null==e[t][n.encoderIndex]||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},e.prototype.addEdges=function(e,t,n,r,o,i){var a=e.charAt(r).charCodeAt(0),s=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(a===i||t.canEncode(a,t.getPriorityEncoderIndex()))&&(c=(s=t.getPriorityEncoderIndex())+1);for(var l=s;l<c;l++)(a===i||t.canEncode(a,l))&&this.addEdge(n,r+1,new MD(a,t,l,o,i))},e.prototype.encodeMinimally=function(e,t,n){var r=e.length,o=new(MD[r+1][t.length()]);this.addEdges(e,t,o,0,null,n);for(var i=1;i<=r;i++){for(var a=0;a<t.length();a++)null!=o[i][a]&&i<r&&this.addEdges(e,t,o,i,o[i][a],n);for(a=0;a<t.length();a++)o[i-1][a]=null}var s=-1,c=AI.MAX_VALUE;for(a=0;a<t.length();a++)if(null!=o[r][a]){var l=o[r][a];l.cachedTotalSize<c&&(c=l.cachedTotalSize,s=a)}if(s<0)throw new Error('Failed to encode "'+e+'"');for(var u=[],h=o[r][s];null!=h;){if(h.isFNC1())u.unshift(1e3);else{var d=t.encode(h.c,h.encoderIndex);for(i=d.length-1;i>=0;i--)u.unshift(255&d[i])}(null===h.previous?0:h.previous.encoderIndex)!==h.encoderIndex&&u.unshift(256+t.getECIValue(h.encoderIndex)),h=h.previous}var f=[];for(i=0;i<f.length;i++)f[i]=u[i];return f},e}(),MD=function(){function e(e,t,n,r,o){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=r,this.fnc1=o,this.c=e===o?1e3:e;var i=this.isFNC1()?1:t.encode(e,n).length;(null===r?0:r.encoderIndex)!==n&&(i+=3),null!=r&&(i+=r.cachedTotalSize),this.cachedTotalSize=i}return e.prototype.isFNC1=function(){return 1e3===this.c},e}(),LD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BD=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FD=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},jD=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(FD(arguments[t]));return e};!function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"}(RD||(RD={}));var UD=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],VD=function(){function e(){}return e.isExtendedASCII=function(e,t){return e!==t&&e>=128&&e<=255},e.isInC40Shift1Set=function(e){return e<=31},e.isInC40Shift2Set=function(e,t){var n,r;try{for(var o=BD(UD),i=o.next();!i.done;i=o.next()){if(i.value.charCodeAt(0)===e)return!0}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e===t},e.isInTextShift1Set=function(e){return this.isInC40Shift1Set(e)},e.isInTextShift2Set=function(e,t){return this.isInC40Shift2Set(e,t)},e.encodeHighLevel=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=-1),void 0===r&&(r=0);var o=0;return e.startsWith(cD)&&e.endsWith(uD)?(o=5,e=e.substring(7,e.length-2)):e.startsWith(lD)&&e.endsWith(uD)&&(o=6,e=e.substring(7,e.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,jD(this.encode(e,t,n,r,o)))))},e.encode=function(e,t,n,r,o){return this.encodeMinimally(new WD(e,t,n,r,o)).getBytes()},e.addEdge=function(e,t){var n=t.fromPosition+t.characterLength;(null===e[n][t.getEndMode()]||e[n][t.getEndMode()].cachedTotalSize>t.cachedTotalSize)&&(e[n][t.getEndMode()]=t)},e.getNumberOfC40Words=function(t,n,r,o){for(var i=0,a=n;a<t.length();a++){if(t.isECI(a))return o[0]=0,0;var s=t.charAt(a);if(r&&OD.isNativeC40(s)||!r&&OD.isNativeText(s))i++;else if(e.isExtendedASCII(s,t.getFNC1Character())){var c=255&s;c>=128&&(r&&OD.isNativeC40(c-128)||!r&&OD.isNativeText(c-128))?i+=3:i+=4}else i+=2;if(i%3===0||(i-2)%3===0&&a+1===t.length())return o[0]=a-n+1,Math.ceil(i/3)}return o[0]=0,0},e.addEdges=function(t,n,r,o){var i,a;if(t.isECI(r))this.addEdge(n,new HD(t,RD.ASCII,r,1,o));else{var s,c=t.charAt(r);if(null===o||o.getEndMode()!==RD.EDF){OD.isDigit(c)&&t.haveNCharacters(r,2)&&OD.isDigit(t.charAt(r+1))?this.addEdge(n,new HD(t,RD.ASCII,r,2,o)):this.addEdge(n,new HD(t,RD.ASCII,r,1,o));var l=[RD.C40,RD.TEXT];try{for(var u=BD(l),h=u.next();!h.done;h=u.next()){var d=h.value,f=[];e.getNumberOfC40Words(t,r,d===RD.C40,f)>0&&this.addEdge(n,new HD(t,d,r,f[0],o))}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}t.haveNCharacters(r,3)&&OD.isNativeX12(t.charAt(r))&&OD.isNativeX12(t.charAt(r+1))&&OD.isNativeX12(t.charAt(r+2))&&this.addEdge(n,new HD(t,RD.X12,r,3,o)),this.addEdge(n,new HD(t,RD.B256,r,1,o))}for(s=0;s<3;s++){var p=r+s;if(!t.haveNCharacters(p,1)||!OD.isNativeEDIFACT(t.charAt(p)))break;this.addEdge(n,new HD(t,RD.EDF,r,s+1,o))}3===s&&t.haveNCharacters(r,4)&&OD.isNativeEDIFACT(t.charAt(r+3))&&this.addEdge(n,new HD(t,RD.EDF,r,4,o))}},e.encodeMinimally=function(e){var t=e.length(),n=Array(t+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(e,n,0,null);for(var r=1;r<=t;r++){for(var o=0;o<6;o++)null!==n[r][o]&&r<t&&this.addEdges(e,n,r,n[r][o]);for(o=0;o<6;o++)n[r-1][o]=null}var i=-1,a=AI.MAX_VALUE;for(o=0;o<6;o++)if(null!==n[t][o]){var s=n[t][o],c=o>=1&&o<=3?s.cachedTotalSize+1:s.cachedTotalSize;c<a&&(a=c,i=o)}if(i<0)throw new Error('Failed to encode "'+e+'"');return new zD(n[t][i])},e}(),zD=function(){function e(e){var t=e.input,n=0,r=[],o=[],i=[];e.mode!==RD.C40&&e.mode!==RD.TEXT&&e.mode!==RD.X12||e.getEndMode()===RD.ASCII||(n+=this.prepend(HD.getBytes(254),r));for(var a=e;null!==a;)n+=this.prepend(a.getDataBytes(),r),null!==a.previous&&a.getPreviousStartMode()===a.getMode()||(a.getMode()===RD.B256&&(n<=249?(r.unshift(n),n++):(r.unshift(n%250),r.unshift(n/250+249),n+=2),o.push(r.length),i.push(n)),this.prepend(a.getLatchBytes(),r),n=0),a=a.previous;5===t.getMacroId()?n+=this.prepend(HD.getBytes(236),r):6===t.getMacroId()&&(n+=this.prepend(HD.getBytes(237),r)),t.getFNC1Character()>0&&(n+=this.prepend(HD.getBytes(232),r));for(var s=0;s<o.length;s++)this.applyRandomPattern(r,r.length-o[s],i[s]);var c=e.getMinSymbolSize(r.length);for(r.length<c&&r.push(129);r.length<c;)r.push(this.randomize253State(r.length+1));this.bytes=new Uint8Array(r.length);for(s=0;s<this.bytes.length;s++)this.bytes[s]=r[s]}return e.prototype.prepend=function(e,t){for(var n=e.length-1;n>=0;n--)t.unshift(e[n]);return e.length},e.prototype.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},e.prototype.applyRandomPattern=function(e,t,n){for(var r=0;r<n;r++){var o=t+r,i=(255&e[o])+(149*(o+1)%255+1);e[o]=i<=255?i:i-256}},e.prototype.getBytes=function(){return this.bytes},e}(),HD=function(){function e(e,t,n,r,o){if(this.input=e,this.mode=t,this.fromPosition=n,this.characterLength=r,this.previous=o,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(n+r<=e.length()))throw new Error("Invalid edge");var i=null!==o?o.cachedTotalSize:0,a=this.getPreviousMode();switch(t){case RD.ASCII:i++,(e.isECI(n)||VD.isExtendedASCII(e.charAt(n),e.getFNC1Character()))&&i++,a!==RD.C40&&a!==RD.TEXT&&a!==RD.X12||i++;break;case RD.B256:i++,(a!==RD.B256||250===this.getB256Size())&&i++,a===RD.ASCII?i++:a!==RD.C40&&a!==RD.TEXT&&a!==RD.X12||(i+=2);break;case RD.C40:case RD.TEXT:case RD.X12:if(t===RD.X12)i+=2;else{i+=2*VD.getNumberOfC40Words(e,n,t===RD.C40,[])}a===RD.ASCII||a===RD.B256?i++:a===t||a!==RD.C40&&a!==RD.TEXT&&a!==RD.X12||(i+=2);break;case RD.EDF:i+=3,a===RD.ASCII||a===RD.B256?i++:a!==RD.C40&&a!==RD.TEXT&&a!==RD.X12||(i+=2)}this.cachedTotalSize=i}return e.prototype.getB256Size=function(){for(var e=0,t=this;null!==t&&t.mode===RD.B256&&e<=250;)e++,t=t.previous;return e},e.prototype.getPreviousStartMode=function(){return null===this.previous?RD.ASCII:this.previous.mode},e.prototype.getPreviousMode=function(){return null===this.previous?RD.ASCII:this.previous.getEndMode()},e.prototype.getEndMode=function(){if(this.mode===RD.EDF){if(this.characterLength<4)return RD.ASCII;if((e=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+e)<=2-e)return RD.ASCII}if(this.mode===RD.C40||this.mode===RD.TEXT||this.mode===RD.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return RD.ASCII;var e;if(1===(e=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return RD.ASCII}return this.mode},e.prototype.getMode=function(){return this.mode},e.prototype.getLastASCII=function(){var e=this.input.length(),t=this.fromPosition+this.characterLength;return e-t>4||t>=e?0:e-t===1?VD.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?0:1:e-t===2?VD.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())||VD.isExtendedASCII(this.input.charAt(t+1),this.input.getFNC1Character())?0:OD.isDigit(this.input.charAt(t))&&OD.isDigit(this.input.charAt(t+1))?1:2:e-t===3?OD.isDigit(this.input.charAt(t))&&OD.isDigit(this.input.charAt(t+1))&&!VD.isExtendedASCII(this.input.charAt(t+2),this.input.getFNC1Character())||OD.isDigit(this.input.charAt(t+1))&&OD.isDigit(this.input.charAt(t+2))&&!VD.isExtendedASCII(this.input.charAt(t),this.input.getFNC1Character())?2:0:OD.isDigit(this.input.charAt(t))&&OD.isDigit(this.input.charAt(t+1))&&OD.isDigit(this.input.charAt(t+2))&&OD.isDigit(this.input.charAt(t+3))?2:0},e.prototype.getMinSymbolSize=function(e){var t,n,r,o,i,a;switch(this.input.getShapeHint()){case 1:try{for(var s=BD(this.squareCodewordCapacities),c=s.next();!c.done;c=s.next()){if((f=c.value)>=e)return f}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}break;case 2:try{for(var l=BD(this.rectangularCodewordCapacities),u=l.next();!u.done;u=l.next()){if((f=u.value)>=e)return f}}catch(g){r={error:g}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}try{for(var h=BD(this.allCodewordCapacities),d=h.next();!d.done;d=h.next()){var f;if((f=d.value)>=e)return f}}catch(m){i={error:m}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},e.prototype.getCodewordsRemaining=function(e){return this.getMinSymbolSize(e)-e},e.getBytes=function(e,t){var n=new Uint8Array(t?2:1);return n[0]=e,t&&(n[1]=t),n},e.prototype.setC40Word=function(e,t,n,r,o){var i=1600*(255&n)+40*(255&r)+(255&o)+1;e[t]=i/256,e[t+1]=i%256},e.prototype.getX12Value=function(e){return 13===e?0:42===e?1:62===e?2:32===e?3:e>=48&&e<=57?e-44:e>=65&&e<=90?e-51:e},e.prototype.getX12Words=function(){if(this.characterLength%3!==0)throw new Error("X12 words must be a multiple of 3");for(var e=new Uint8Array(this.characterLength/3*2),t=0;t<e.length;t+=2)this.setC40Word(e,t,this.getX12Value(this.input.charAt(this.fromPosition+t/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+t/2*3+2)));return e},e.prototype.getShiftValue=function(e,t,n){return t&&VD.isInC40Shift1Set(e)||!t&&VD.isInTextShift1Set(e)?0:t&&VD.isInC40Shift2Set(e,n)||!t&&VD.isInTextShift2Set(e,n)?1:2},e.prototype.getC40Value=function(e,t,n,r){if(n===r){if(2!==t)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return e?n<=31?n:32===n?3:n<=47?n-33:n<=57?n-44:n<=64?n-43:n<=90?n-51:n<=95?n-69:n<=127?n-96:n:0===n?0:0===t&&n<=3?n-1:1===t&&n<=31?n:32===n?3:n>=33&&n<=47?n-33:n>=48&&n<=57?n-44:n>=58&&n<=64?n-43:n>=65&&n<=90?n-64:n>=91&&n<=95?n-69:96===n?0:n>=97&&n<=122?n-83:n>=123&&n<=127?n-96:n},e.prototype.getC40Words=function(e,t){for(var n=[],r=0;r<this.characterLength;r++){var o=this.input.charAt(this.fromPosition+r);if(e&&OD.isNativeC40(o)||!e&&OD.isNativeText(o))n.push(this.getC40Value(e,0,o,t));else if(VD.isExtendedASCII(o,t)){var i=(255&o)-128;if(e&&OD.isNativeC40(i)||!e&&OD.isNativeText(i))n.push(1),n.push(30),n.push(this.getC40Value(e,0,i,t));else{n.push(1),n.push(30);a=this.getShiftValue(i,e,t);n.push(a),n.push(this.getC40Value(e,a,i,t))}}else{var a=this.getShiftValue(o,e,t);n.push(a),n.push(this.getC40Value(e,a,o,t))}}if(n.length%3!==0){if((n.length-2)%3!==0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");n.push(0)}var s=new Uint8Array(n.length/3*2),c=0;for(r=0;r<n.length;r+=3)this.setC40Word(s,c,255&n[r],255&n[r+1],255&n[r+2]),c+=2;return s},e.prototype.getEDFBytes=function(){for(var e=Math.ceil(this.characterLength/4),t=new Uint8Array(3*e),n=this.fromPosition,r=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),o=0;o<e;o+=3){for(var i=[],a=0;a<4;a++)i[a]=n<=r?63&this.input.charAt(n++):n===r+1?31:0;var s=i[0]<<18;s|=i[1]<<12,s|=i[2]<<6,s|=i[3],t[o]=s>>16&255,t[o+1]=s>>8&255,t[o+2]=255&s}return t},e.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case RD.ASCII:case RD.B256:switch(this.mode){case RD.B256:return e.getBytes(231);case RD.C40:return e.getBytes(230);case RD.TEXT:return e.getBytes(239);case RD.X12:return e.getBytes(238);case RD.EDF:return e.getBytes(240)}break;case RD.C40:case RD.TEXT:case RD.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case RD.ASCII:return e.getBytes(254);case RD.B256:return e.getBytes(254,231);case RD.C40:return e.getBytes(254,230);case RD.TEXT:return e.getBytes(254,239);case RD.X12:return e.getBytes(254,238);case RD.EDF:return e.getBytes(254,240)}break;case RD.EDF:if(this.mode!==RD.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},e.prototype.getDataBytes=function(){switch(this.mode){case RD.ASCII:return this.input.isECI(this.fromPosition)?e.getBytes(241,this.input.getECIValue(this.fromPosition)+1):VD.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?e.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?e.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?e.getBytes(232):e.getBytes(this.input.charAt(this.fromPosition)+1);case RD.B256:return e.getBytes(this.input.charAt(this.fromPosition));case RD.C40:return this.getC40Words(!0,this.input.getFNC1Character());case RD.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case RD.X12:return this.getX12Words();case RD.EDF:return this.getEDFBytes()}},e}(),WD=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.shape=o,a.macroId=i,a}return LD(t,e),t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t}(PD);!function(){function e(){}e.prototype.encode=function(e,t,n,r,o){if(void 0===o&&(o=null),""===e.trim())throw new Error("Found empty contents");if(t!==hT.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+t);if(n<0||r<0)throw new Error("Requested dimensions can't be negative: "+n+"x"+r);var i,a=0,s=null,c=null;if(null!=o){var l=o.get(xx.DATA_MATRIX_SHAPE);null!=l&&(a=l);var u=o.get(xx.MIN_SIZE);null!=u&&(s=u);var h=o.get(xx.MAX_SIZE);null!=h&&(c=h)}if(null!=o&&o.has(xx.DATA_MATRIX_COMPACT)&&Boolean(o.get(xx.DATA_MATRIX_COMPACT).toString())){var d=o.has(xx.GS1_FORMAT)&&Boolean(o.get(xx.GS1_FORMAT).toString()),f=null;o.has(xx.CHARACTER_SET)&&(f=$x.forName(o.get(xx.CHARACTER_SET).toString())),i=VD.encodeHighLevel(e,f,d?29:-1,a)}else{var p=null!=o&&o.has(xx.FORCE_C40)&&Boolean(o.get(xx.FORCE_C40).toString());i=OD.encodeHighLevel(e,a,s,c,p)}var g=bD.lookup(i.length,a,s,c,!0),m=dD.encodeECC200(i,g),y=new tD(m,g.getSymbolDataWidth(),g.getSymbolDataHeight());return y.place(),this.encodeLowLevel(y,g,n,r)},e.prototype.encodeLowLevel=function(e,t,n,r){for(var o=t.getSymbolDataWidth(),i=t.getSymbolDataHeight(),a=new Fx(t.getSymbolWidth(),t.getSymbolHeight()),s=0,c=0;c<i;c++){var l=void 0;if(c%t.matrixHeight===0){l=0;for(var u=0;u<t.getSymbolWidth();u++)a.setBoolean(l,s,u%2===0),l++;s++}l=0;for(u=0;u<o;u++)u%t.matrixWidth===0&&(a.setBoolean(l,s,!0),l++),a.setBoolean(l,s,e.getBit(u,c)),l++,u%t.matrixWidth===t.matrixWidth-1&&(a.setBoolean(l,s,c%2===0),l++);if(s++,c%t.matrixHeight===t.matrixHeight-1){l=0;for(u=0;u<t.getSymbolWidth();u++)a.setBoolean(l,s,!0),l++;s++}}return this.convertByteMatrixToBitMatrix(a,n,r)},e.prototype.convertByteMatrixToBitMatrix=function(e,t,n){var r,o=e.getWidth(),i=e.getHeight(),a=Math.max(t,o),s=Math.max(n,i),c=Math.min(a/o,s/i),l=(a-o*c)/2,u=(s-i*c)/2;n<i||t<o?(l=0,u=0,r=new HI(o,i)):r=new HI(t,n),r.clear();for(var h=0,d=u;h<i;h++,d+=c)for(var f=0,p=l;f<o;f++,p+=c)1===e.get(f,h)&&r.setRegion(p,d,c,c);return r}}();const GD=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(e){this.compact=e},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(e){this.size=e},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(e){this.layers=e},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(e){this.codeWords=e},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(e){this.matrix=e},e}();const qD=function(){function e(){}return e.singletonList=function(e){return[e]},e.min=function(e,t){return e.sort(t)[0]},e}();const XD=function(){function e(e){this.previous=e}return e.prototype.getPrevious=function(){return this.previous},e}();var KD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YD=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.value=n,o.bitCount=r,o}return KD(t,e),t.prototype.appendTo=function(e,t){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,n){return new t(this,e,n)},t.prototype.addBinaryShift=function(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,n)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+AI.toBinaryString(e|1<<this.bitCount).substring(1)+">"},t}(XD);const QD=YD;var ZD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JD=function(e){function t(t,n,r){var o=e.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=r,o}return ZD(t,e),t.prototype.appendTo=function(e,t){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)},t.prototype.addBinaryShift=function(e,n){return new t(this,e,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(QD);const $D=JD;function eP(e,t,n){return new QD(e,t,n)}var tP=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],nP=new QD(null,0,0),rP=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],oP=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var iP=function(e){var t,n;try{for(var r=oP(e),o=r.next();!o.done;o=r.next()){var i=o.value;CI.fill(i,-1)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e[0][4]=0,e[1][4]=0,e[1][0]=28,e[3][4]=0,e[2][4]=0,e[2][0]=15,e}(CI.createInt32Array(6,6)),aP=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sP=function(){function e(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,n){var r=this.bitCount,o=this.token;if(t!==this.mode){var i=rP[this.mode][t];o=eP(o,65535&i,i>>16),r+=i>>16}var a=2===t?4:5;return new e(o=eP(o,n,a),t,0,r+a)},e.prototype.shiftAndAppend=function(t,n){var r=this.token,o=2===this.mode?4:5;return r=eP(r,iP[this.mode][t],o),new e(r=eP(r,n,5),this.mode,0,this.bitCount+o+5)},e.prototype.addBinaryShiftChar=function(t){var n=this.token,r=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){var i=rP[r][0];n=eP(n,65535&i,i>>16),o+=i>>16,r=0}var a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,s=new e(n,r,this.binaryShiftByteCount+1,o+a);return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(t+1)),s},e.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var n=this.token;return n=function(e,t,n){return new $D(e,t,n)}(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(n,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(rP[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},e.prototype.toBitArray=function(e){for(var t,n,r=[],o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())r.unshift(o);var i=new TI;try{for(var a=aP(r),s=a.next();!s.done;s=a.next()){s.value.appendTo(i,e)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e.prototype.toString=function(){return jI.format("%s bits=%d bytes=%d",tP[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(nP,0,0,0),e}();const cP=sP;var lP=function(e){var t=jI.getCharCode(" "),n=jI.getCharCode("."),r=jI.getCharCode(",");e[0][t]=1;for(var o=jI.getCharCode("Z"),i=jI.getCharCode("A"),a=i;a<=o;a++)e[0][a]=a-i+2;e[1][t]=1;var s=jI.getCharCode("z"),c=jI.getCharCode("a");for(a=c;a<=s;a++)e[1][a]=a-c+2;e[2][t]=1;var l=jI.getCharCode("9"),u=jI.getCharCode("0");for(a=u;a<=l;a++)e[2][a]=a-u+2;e[2][r]=12,e[2][n]=13;for(var h=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],d=0;d<h.length;d++)e[3][jI.getCharCode(h[d])]=d;var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(d=0;d<f.length;d++)jI.getCharCode(f[d])>0&&(e[4][jI.getCharCode(f[d])]=d);return e}(CI.createInt32Array(5,256)),uP=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hP=function(){function e(e){this.text=e}return e.prototype.encode=function(){for(var t=jI.getCharCode(" "),n=jI.getCharCode("\n"),r=qD.singletonList(cP.INITIAL_STATE),o=0;o<this.text.length;o++){var i=void 0,a=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case jI.getCharCode("\r"):i=a===n?2:0;break;case jI.getCharCode("."):i=a===t?3:0;break;case jI.getCharCode(","):i=a===t?4:0;break;case jI.getCharCode(":"):i=a===t?5:0;break;default:i=0}i>0?(r=e.updateStateListForPair(r,o,i),o++):r=this.updateStateListForChar(r,o)}return qD.min(r,function(e,t){return e.getBitCount()-t.getBitCount()}).toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,n){var r,o,i=[];try{for(var a=uP(t),s=a.next();!s.done;s=a.next()){var c=s.value;this.updateStateForChar(c,n,i)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(e,t,n){for(var r=255&this.text[t],o=lP[e.getMode()][r]>0,i=null,a=0;a<=4;a++){var s=lP[a][r];if(s>0){if(null==i&&(i=e.endBinaryShift(t)),!o||a===e.getMode()||2===a){var c=i.latchAndAppend(a,s);n.push(c)}if(!o&&iP[e.getMode()][a]>=0){var l=i.shiftAndAppend(a,s);n.push(l)}}}if(e.getBinaryShiftByteCount()>0||0===lP[e.getMode()][r]){var u=e.addBinaryShiftChar(t);n.push(u)}},e.updateStateListForPair=function(e,t,n){var r,o,i=[];try{for(var a=uP(e),s=a.next();!s.done;s=a.next()){var c=s.value;this.updateStateForPair(c,t,n,i)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this.simplifyStates(i)},e.updateStateForPair=function(e,t,n,r){var o=e.endBinaryShift(t);if(r.push(o.latchAndAppend(4,n)),4!==e.getMode()&&r.push(o.shiftAndAppend(4,n)),3===n||4===n){var i=o.latchAndAppend(2,16-n).latchAndAppend(2,1);r.push(i)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(a)}},e.simplifyStates=function(e){var t,n,r,o,i=[];try{for(var a=uP(e),s=a.next();!s.done;s=a.next()){var c=s.value,l=!0,u=function(e){if(e.isBetterThanOrEqualTo(c))return l=!1,"break";c.isBetterThanOrEqualTo(e)&&(i=i.filter(function(t){return t!==e}))};try{for(var h=(r=void 0,uP(i)),d=h.next();!d.done;d=h.next()){if("break"===u(d.value))break}}catch(f){r={error:f}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}l&&i.push(c)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e}();const dP=hP;var fP=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pP=function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,n,r){var o,i,a,s,c,l=new dP(t).encode(),u=AI.truncDivision(l.getSize()*n,100)+11,h=l.getSize()+u;if(r!==e.DEFAULT_AZTEC_LAYERS){if(o=r<0,(i=Math.abs(r))>(o?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new uI(jI.format("Illegal value %s for layers",r));var d=(a=e.totalBitsInLayer(i,o))-a%(s=e.WORD_SIZE[i]);if((c=e.stuffBits(l,s)).getSize()+u>d)throw new uI("Data to large for user specified layer");if(o&&c.getSize()>64*s)throw new uI("Data to large for user specified layer")}else{s=0,c=null;for(var f=0;;f++){if(f>e.MAX_NB_BITS)throw new uI("Data too large for an Aztec code");if(i=(o=f<=3)?f+1:f,!(h>(a=e.totalBitsInLayer(i,o)))){null!=c&&s===e.WORD_SIZE[i]||(s=e.WORD_SIZE[i],c=e.stuffBits(l,s));d=a-a%s;if(!(o&&c.getSize()>64*s)&&c.getSize()+u<=d)break}}}var p,g=e.generateCheckWords(c,a,s),m=c.getSize()/s,y=e.generateModeMessage(o,i,m),v=(o?11:14)+4*i,w=new Int32Array(v);if(o){p=v;for(f=0;f<w.length;f++)w[f]=f}else{p=v+1+2*AI.truncDivision(AI.truncDivision(v,2)-1,15);var b=AI.truncDivision(v,2),E=AI.truncDivision(p,2);for(f=0;f<b;f++){var _=f+AI.truncDivision(f,15);w[b-f-1]=E-_-1,w[b+f]=E+_+1}}for(var C=new HI(p),S=(f=0,0);f<i;f++){for(var A=4*(i-f)+(o?9:12),I=0;I<A;I++)for(var T=2*I,N=0;N<2;N++)g.get(S+T+N)&&C.set(w[2*f+N],w[2*f+I]),g.get(S+2*A+T+N)&&C.set(w[2*f+I],w[v-1-2*f-N]),g.get(S+4*A+T+N)&&C.set(w[v-1-2*f-N],w[v-1-2*f-I]),g.get(S+6*A+T+N)&&C.set(w[v-1-2*f-I],w[2*f+N]);S+=8*A}if(e.drawModeMessage(C,o,p,y),o)e.drawBullsEye(C,AI.truncDivision(p,2),5);else{e.drawBullsEye(C,AI.truncDivision(p,2),7);for(f=0,I=0;f<AI.truncDivision(v,2)-1;f+=15,I+=16)for(N=1&AI.truncDivision(p,2);N<p;N+=2)C.set(AI.truncDivision(p,2)-I,N),C.set(AI.truncDivision(p,2)+I,N),C.set(N,AI.truncDivision(p,2)-I),C.set(N,AI.truncDivision(p,2)+I)}var O=new GD;return O.setCompact(o),O.setSize(p),O.setLayers(i),O.setCodeWords(m),O.setMatrix(C),O},e.drawBullsEye=function(e,t,n){for(var r=0;r<n;r+=2)for(var o=t-r;o<=t+r;o++)e.set(o,t-r),e.set(o,t+r),e.set(t-r,o),e.set(t+r,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},e.generateModeMessage=function(t,n,r){var o=new TI;return t?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=e.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=e.generateCheckWords(o,40,4)),o},e.drawModeMessage=function(e,t,n,r){var o=AI.truncDivision(n,2);if(t)for(var i=0;i<7;i++){var a=o-3+i;r.get(i)&&e.set(a,o-5),r.get(i+7)&&e.set(o+5,a),r.get(20-i)&&e.set(a,o+5),r.get(27-i)&&e.set(o-5,a)}else for(i=0;i<10;i++){a=o-5+i+AI.truncDivision(i,5);r.get(i)&&e.set(a,o-7),r.get(i+10)&&e.set(o+7,a),r.get(29-i)&&e.set(a,o+7),r.get(39-i)&&e.set(o-7,a)}},e.generateCheckWords=function(t,n,r){var o,i,a=t.getSize()/r,s=new Dx(e.getGF(r)),c=AI.truncDivision(n,r),l=e.bitsToWords(t,r,c);s.encode(l,c-a);var u=n%r,h=new TI;h.appendBits(0,u);try{for(var d=fP(Array.from(l)),f=d.next();!f.done;f=d.next()){var p=f.value;h.appendBits(p,r)}}catch(g){o={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}return h},e.bitsToWords=function(e,t,n){var r,o,i=new Int32Array(n);for(r=0,o=e.getSize()/t;r<o;r++){for(var a=0,s=0;s<t;s++)a|=e.get(r*t+s)?1<<t-s-1:0;i[r]=a}return i},e.getGF=function(e){switch(e){case 4:return _T.AZTEC_PARAM;case 6:return _T.AZTEC_DATA_6;case 8:return _T.AZTEC_DATA_8;case 10:return _T.AZTEC_DATA_10;case 12:return _T.AZTEC_DATA_12;default:throw new uI("Unsupported word size "+e)}},e.stuffBits=function(e,t){for(var n=new TI,r=e.getSize(),o=(1<<t)-2,i=0;i<r;i+=t){for(var a=0,s=0;s<t;s++)(i+s>=r||e.get(i+s))&&(a|=1<<t-1-s);(a&o)===o?(n.appendBits(a&o,t),i--):0===(a&o)?(n.appendBits(1|a,t),i--):n.appendBits(a,t)}return n},e.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e}();const gP=pP;!function(){function e(){}e.prototype.encode=function(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)},e.prototype.encodeWithHints=function(t,n,r,o,i){var a=eD.ISO_8859_1,s=gP.DEFAULT_EC_PERCENT,c=gP.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(xx.CHARACTER_SET)&&(a=$x.forName(i.get(xx.CHARACTER_SET).toString())),i.has(xx.ERROR_CORRECTION)&&(s=AI.parseInt(i.get(xx.ERROR_CORRECTION).toString())),i.has(xx.AZTEC_LAYERS)&&(c=AI.parseInt(i.get(xx.AZTEC_LAYERS).toString()))),e.encodeLayers(t,n,r,o,a,s,c)},e.encodeLayers=function(t,n,r,o,i,a,s){if(n!==hT.AZTEC)throw new uI("Can only encode AZTEC, but got "+n);var c=gP.encode(jI.getBytes(t,i),a,s);return e.renderResult(c,r,o)},e.renderResult=function(e,t,n){var r=e.getMatrix();if(null==r)throw new IT;for(var o=r.getWidth(),i=r.getHeight(),a=Math.max(t,o),s=Math.max(n,i),c=Math.min(a/o,s/i),l=(a-o*c)/2,u=(s-i*c)/2,h=new HI(a,s),d=0,f=u;d<i;d++,f+=c)for(var p=0,g=l;p<o;p++,g+=c)r.get(p,d)&&h.setRegion(g,f,c,c);return h}}();var mP=n(29);const yP=t=>{let{onUpdate:n,onError:r,width:o="100%",height:i="100%",facingMode:a="environment",torch:s,delay:c=500,videoConstraints:l,stopStream:u,formats:h}=t;const d=(0,e.useRef)(null),f=(0,e.useCallback)(()=>{var e;const t=new Ox(new Map([[OI.POSSIBLE_FORMATS,null===h||void 0===h?void 0:h.map(e=>"string"===typeof e?hT[e]:e)]])),r=null===d||void 0===d||null===(e=d.current)||void 0===e?void 0:e.getScreenshot();r&&t.decodeFromImage(void 0,r).then(e=>{n(null,e)}).catch(e=>{n(e)})},[n,h]);return(0,e.useEffect)(()=>{var e;if("boolean"===typeof s&&(null===(e=navigator)||void 0===e||null===(e=e.mediaDevices)||void 0===e?void 0:e.getSupportedConstraints()).torch){var t;const e=null===d||void 0===d||null===(t=d.current)||void 0===t||null===(t=t.video)||void 0===t?void 0:t.srcObject,r=null===e||void 0===e?void 0:e.getVideoTracks()[0];r&&r.getCapabilities().torch&&r.applyConstraints({advanced:[{torch:s}]}).catch(e=>n(e))}},[s,n]),(0,e.useEffect)(()=>{if(u){var e;let t=null===d||void 0===d||null===(e=d.current)||void 0===e||null===(e=e.video)||void 0===e?void 0:e.srcObject;t&&(t.getTracks().forEach(e=>{var n;null===(n=t)||void 0===n||n.removeTrack(e),e.stop()}),t=null)}},[u]),(0,e.useEffect)(()=>{const e=setInterval(f,c);return()=>{clearInterval(e)}},[f,c]),(0,Lt.jsx)(mP,{width:o,height:i,ref:d,screenshotFormat:"image/jpeg",videoConstraints:l||{facingMode:a},audio:!1,onUserMediaError:r,"data-testid":"video"})};var vP;!function(e){e.AZTEC="AZTEC",e.CODABAR="CODABAR",e.CODE_39="CODE_39",e.CODE_93="CODE_93",e.CODE_128="CODE_128",e.DATA_MATRIX="DATA_MATRIX",e.EAN_8="EAN_8",e.EAN_13="EAN_13",e.ITF="ITF",e.MAXICODE="MAXICODE",e.PDF_417="PDF_417",e.QR_CODE="QR_CODE",e.RSS_14="RSS_14",e.RSS_EXPANDED="RSS_EXPANDED",e.UPC_A="UPC_A",e.UPC_E="UPC_E",e.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"}(vP||(vP={}));const wP=yP;async function bP(e,t,n,r){try{const o=Vd(pS,"estabelecimentos",e,"historicoEstoque");return await Yf(o,{estabelecimentoId:e,acao:t,produto:n,usuario:{uid:(null===r||void 0===r?void 0:r.uid)||null,nome:(null===r||void 0===r?void 0:r.nome)||"Sistema",email:(null===r||void 0===r?void 0:r.email)||null,tipo:(null===r||void 0===r?void 0:r.tipo)||null},createdAt:Jf()}),{ok:!0}}catch(o){return console.error("Erro ao registrar hist\xf3rico:",o),{ok:!1,error:o}}}const EP=function(){const{userData:t}=vS(),n=null===t||void 0===t?void 0:t.tipo,r=null===t||void 0===t?void 0:t.estabelecimentoId,[o,i]=(0,e.useState)([]),[a,s]=(0,e.useState)([]),[c,l]=(0,e.useState)("N/D"),[h,d]=(0,e.useState)({nome:"",validade:"",quantidade:"",categoria:"",codigoBarras:""}),[f,p]=(0,e.useState)(null),[g,m]=(0,e.useState)({nome:"",validade:"",quantidade:"",categoria:"",codigoBarras:""}),[y,v]=(0,e.useState)(!1),w=(0,e.useCallback)(async()=>{if(r)try{const e=zd(pS,"estabelecimentos",r),t=await Wf(e);t.exists()&&l(t.data().nome||"N/D")}catch(PP){console.error("Erro ao carregar empresa:",PP)}},[r]),b=(0,e.useCallback)(async()=>{if(r)try{const e=await JA(r);s(e)}catch(PP){console.error("Erro ao carregar categorias:",PP)}},[r]),E=(0,e.useCallback)(async()=>{if(r)try{const e=await async function(e){try{const t=Of(Vd(pS,"estoque"),kf("estabelecimentoId","==",e));return(await qf(t)).docs.map(e=>u({id:e.id},e.data()))}catch(t){return console.error("Erro ao listar estoque:",t),[]}}(r),t=e.map(e=>{var t;return u(u({},e),{},{categoria:"string"===typeof e.categoria?e.categoria:(null===(t=e.categoria)||void 0===t?void 0:t.nome)||""})});i(t)}catch(PP){console.error("Erro ao carregar produtos:",PP)}},[r]);(0,e.useEffect)(()=>{r&&(w(),b(),E())},[r,w,b,E]);const _=async()=>{try{const e=o.find(e=>e.id===f);await async function(e,t){try{const n=zd(pS,"estoque",e);return await Xf(n,u(u({},t),{},{atualizado_em:Jf()})),{ok:!0}}catch(n){return console.error("Erro ao editar item do estoque:",n),{ok:!1,error:n}}}(f,u(u({},g),{},{quantidade:Number(g.quantidade),categoria:String(g.categoria)})),await bP(r,"editado",{antes:e,depois:g},t),p(null),E(),alert("Produto atualizado com sucesso!")}catch(e){console.error("Erro ao editar produto:",e),alert("Erro ao atualizar produto.")}},C=async e=>{if(window.confirm("Deseja realmente excluir este produto?"))try{await async function(e){try{const t=zd(pS,"estoque",e);return await Kf(t),{ok:!0}}catch(t){return console.error("Erro ao excluir item do estoque:",t),{ok:!1,error:t}}}(e.id),await bP(r,"deletado",e,t),E(),alert("Produto exclu\xeddo com sucesso!")}catch(n){console.error("Erro ao excluir produto:",n),alert("Erro ao excluir produto.")}},S=()=>p(null);return(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsxs)("div",{className:"mb-4",children:[(0,Lt.jsx)("h1",{children:"Estoque"}),(0,Lt.jsxs)("p",{children:["Empresa: ",(0,Lt.jsx)("strong",{children:c})]}),(0,Lt.jsxs)("p",{children:["Usu\xe1rio: ",(0,Lt.jsx)("strong",{children:(null===t||void 0===t?void 0:t.nome)||"N/D"})]})]}),(0,Lt.jsx)("div",{className:"mb-4",children:(0,Lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!h.nome||!h.quantidade||!h.validade||!h.categoria)return alert("Preencha todos os campos!");try{const e=u(u({},h),{},{quantidade:Number(h.quantidade),criadoPor:t});await async function(e,t){try{const n=Vd(pS,"estoque");return await Yf(n,u(u({},t),{},{estabelecimentoId:e,criado_em:Jf()})),{ok:!0}}catch(n){return console.error("Erro ao adicionar item ao estoque:",n),{ok:!1,error:n}}}(r,e),await bP(r,"adicionado",e,t),d({nome:"",validade:"",quantidade:"",categoria:"",codigoBarras:""}),v(!1),E(),alert("Produto adicionado com sucesso!")}catch(n){console.error("Erro ao adicionar produto:",n),alert("Erro ao adicionar produto.")}},children:[(0,Lt.jsx)("div",{className:"mb-2",children:(0,Lt.jsx)("input",{type:"text",placeholder:"Nome",className:"form-control",value:h.nome,onChange:e=>d(u(u({},h),{},{nome:e.target.value})),required:!0})}),(0,Lt.jsx)("div",{className:"mb-2",children:(0,Lt.jsx)("input",{type:"date",className:"form-control",value:h.validade,onChange:e=>d(u(u({},h),{},{validade:e.target.value})),required:!0})}),(0,Lt.jsx)("div",{className:"mb-2",children:(0,Lt.jsx)("input",{type:"number",placeholder:"Quantidade",className:"form-control",value:h.quantidade,onChange:e=>d(u(u({},h),{},{quantidade:e.target.value})),required:!0})}),(0,Lt.jsx)("div",{className:"mb-2",children:(0,Lt.jsxs)("select",{className:"form-control",value:h.categoria,onChange:e=>d(u(u({},h),{},{categoria:e.target.value})),required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Selecione a categoria"}),a.map(e=>(0,Lt.jsx)("option",{value:e.nome,children:e.nome},e.id))]})}),(0,Lt.jsxs)("div",{className:"mb-2",children:[(0,Lt.jsx)("input",{type:"text",placeholder:"C\xf3digo de Barras",className:"form-control",value:h.codigoBarras,onChange:e=>d(u(u({},h),{},{codigoBarras:e.target.value}))}),(0,Lt.jsx)("button",{type:"button",className:"btn btn-outline-secondary w-100 mt-1",onClick:()=>v(!y),children:y?"Fechar Scanner":"Escanear C\xf3digo de Barras"})]}),y&&(0,Lt.jsx)("div",{className:"mb-2",children:(0,Lt.jsx)(wP,{width:300,height:200,onUpdate:(e,t)=>{t&&(e=>{e&&(d(u(u({},h),{},{codigoBarras:e.text})),v(!1))})(t),e&&(e=>{console.error("Erro no scanner:",e)})(e)}})}),(0,Lt.jsx)("button",{type:"submit",className:"btn btn-success w-100 mt-2",children:"Adicionar Produto"}),f&&(0,Lt.jsx)("button",{type:"button",className:"btn btn-secondary w-100 mt-1",onClick:S,children:"Cancelar Edi\xe7\xe3o"})]})}),0===o.length?(0,Lt.jsx)("p",{children:"Nenhum produto cadastrado."}):(0,Lt.jsxs)("table",{className:"table table-striped",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Nome"}),(0,Lt.jsx)("th",{children:"Validade"}),(0,Lt.jsx)("th",{children:"Qtde"}),(0,Lt.jsx)("th",{children:"Categoria"}),(0,Lt.jsx)("th",{children:"C\xf3digo de Barras"}),(0,Lt.jsx)("th",{children:"Criado Por"}),(0,Lt.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,Lt.jsx)("tbody",{children:o.map(e=>{var t,r;return(0,Lt.jsx)("tr",{children:f===e.id?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("td",{children:(0,Lt.jsx)("input",{className:"form-control",value:g.nome,onChange:e=>m(u(u({},g),{},{nome:e.target.value}))})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("input",{type:"date",className:"form-control",value:g.validade,onChange:e=>m(u(u({},g),{},{validade:e.target.value}))})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("input",{type:"number",className:"form-control",value:g.quantidade,onChange:e=>m(u(u({},g),{},{quantidade:e.target.value}))})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("select",{className:"form-control",value:g.categoria,onChange:e=>m(u(u({},g),{},{categoria:e.target.value})),children:a.map(e=>(0,Lt.jsx)("option",{value:e.nome,children:e.nome},e.id))})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("input",{type:"text",className:"form-control",value:g.codigoBarras||"",onChange:e=>m(u(u({},g),{},{codigoBarras:e.target.value}))})}),(0,Lt.jsx)("td",{children:(null===(t=e.criadoPor)||void 0===t?void 0:t.nome)||"Sistema"}),(0,Lt.jsxs)("td",{className:"d-flex gap-2",children:[(0,Lt.jsx)("button",{className:"btn btn-success btn-sm",onClick:_,children:"Salvar"}),(0,Lt.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:S,children:"Cancelar"})]})]}):(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("td",{children:e.nome}),(0,Lt.jsx)("td",{children:e.validade}),(0,Lt.jsx)("td",{children:e.quantidade}),(0,Lt.jsx)("td",{children:e.categoria}),(0,Lt.jsx)("td",{children:e.codigoBarras||"-"}),(0,Lt.jsx)("td",{children:(null===(r=e.criadoPor)||void 0===r?void 0:r.nome)||"Sistema"}),(0,Lt.jsxs)("td",{className:"d-flex gap-2",children:[(0,Lt.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{return p((t=e).id),void m(u({},t));var t},children:"Editar"}),"admin"===n&&(0,Lt.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>C(e),children:"Excluir"})]})]})},e.id)})})]})]})};const _P=function(){const{id:t}=Ae(),[n,r]=(0,e.useState)([]),[o,i]=(0,e.useState)({nome:"",email:"",telefone:"",cnpj:""}),[a,s]=(0,e.useState)(null);(0,e.useEffect)(()=>{c()},[t]);const c=async()=>{try{const e=await async function(e){const t=Of(Vd(pS,"fornecedores"),kf("estabelecimentoId","==",e));return(await qf(t)).docs.map(e=>u({id:e.id},e.data()))}(t);r(e)}catch(e){console.error("Erro ao carregar fornecedores:",e)}},l=async e=>{if(window.confirm("Deseja realmente excluir este fornecedor?"))try{await async function(e){const t=zd(pS,"fornecedores",e);await Kf(t)}(e),c()}catch(t){console.error("Erro ao excluir fornecedor:",t),alert("Erro ao excluir fornecedor.")}};return(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsx)("h3",{children:"Fornecedores"}),(0,Lt.jsxs)("form",{onSubmit:a?async e=>{e.preventDefault();try{await async function(e,t){const n=zd(pS,"fornecedores",e);await Xf(n,t)}(a.id,o),s(null),i({nome:"",email:"",telefone:"",cnpj:""}),c()}catch(t){console.error("Erro ao editar fornecedor:",t),alert("Erro ao atualizar fornecedor.")}}:async e=>{if(e.preventDefault(),!o.nome)return alert("Informe o nome do fornecedor!");try{await async function(e,t){const n=Vd(pS,"fornecedores");await Yf(n,u(u({},t),{},{estabelecimentoId:e,criado_em:new Date}))}(t,o),i({nome:"",email:"",telefone:"",cnpj:""}),c()}catch(n){console.error("Erro ao adicionar fornecedor:",n),alert("Erro ao adicionar fornecedor.")}},className:"mb-3",children:[(0,Lt.jsx)("input",{placeholder:"Nome do fornecedor",className:"form-control mb-2",value:o.nome,onChange:e=>i(u(u({},o),{},{nome:e.target.value})),required:!0}),(0,Lt.jsx)("input",{placeholder:"E-mail",className:"form-control mb-2",type:"email",value:o.email,onChange:e=>i(u(u({},o),{},{email:e.target.value}))}),(0,Lt.jsx)("input",{placeholder:"Telefone",className:"form-control mb-2",value:o.telefone,onChange:e=>i(u(u({},o),{},{telefone:e.target.value}))}),(0,Lt.jsx)("input",{placeholder:"CNPJ",className:"form-control mb-2",value:o.cnpj,onChange:e=>i(u(u({},o),{},{cnpj:e.target.value}))}),(0,Lt.jsx)("button",{className:"btn btn-success w-100",children:a?"Salvar Altera\xe7\xf5es":"Adicionar Fornecedor"}),a&&(0,Lt.jsx)("button",{type:"button",className:"btn btn-secondary w-100 mt-2",onClick:()=>{s(null),i({nome:"",email:"",telefone:"",cnpj:""})},children:"Cancelar Edi\xe7\xe3o"})]}),0===n.length?(0,Lt.jsx)("p",{children:"Nenhum fornecedor cadastrado."}):(0,Lt.jsx)("ul",{className:"list-group",children:n.map(e=>(0,Lt.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("strong",{children:e.nome}),(0,Lt.jsx)("br",{}),(0,Lt.jsxs)("small",{children:[e.email||"Sem e-mail"," | ",e.telefone||"Sem telefone"]}),(0,Lt.jsx)("br",{}),(0,Lt.jsxs)("small",{children:["CNPJ: ",e.cnpj||"N\xe3o informado"]})]}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>(e=>{s(e),i({nome:e.nome,email:e.email,telefone:e.telefone,cnpj:e.cnpj})})(e),children:"Editar"}),(0,Lt.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>l(e.id),children:"Excluir"})]})]},e.id))})]})},CP=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],SP=e.forwardRef((e,t)=>{let{bsPrefix:n,className:r,striped:o,bordered:a,borderless:s,hover:c,size:l,variant:h,responsive:d}=e,f=i(e,CP);const p=gp(n,"table"),g=ep()(r,p,h&&"".concat(p,"-").concat(h),l&&"".concat(p,"-").concat(l),o&&"".concat(p,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),a&&"".concat(p,"-bordered"),s&&"".concat(p,"-borderless"),c&&"".concat(p,"-hover")),m=(0,Lt.jsx)("table",u(u({},f),{},{className:g,ref:t}));if(d){let e="".concat(p,"-responsive");return"string"===typeof d&&(e="".concat(e,"-").concat(d)),(0,Lt.jsx)("div",{className:e,children:m})}return m});SP.displayName="Table";const AP=SP;function IP(){const{userData:t}=vS(),n=null===t||void 0===t?void 0:t.estabelecimentoId,[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{n&&async function(){a(!0);try{const e=Of(Vd(pS,"estabelecimentos",n,"historicoEstoque"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Af("orderBy",e);return Df._create(n,t)}("createdAt","desc")),t=(await qf(e)).docs.map(e=>u({id:e.id},e.data()));o(t)}catch(e){console.error("Erro ao carregar hist\xf3rico:",e)}finally{a(!1)}}()},[n]),(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsx)("h3",{children:"Hist\xf3rico do Estoque"}),i?(0,Lt.jsx)("p",{children:"Carregando..."}):(0,Lt.jsxs)(AP,{striped:!0,bordered:!0,hover:!0,children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Data"}),(0,Lt.jsx)("th",{children:"A\xe7\xe3o"}),(0,Lt.jsx)("th",{children:"Produto"}),(0,Lt.jsx)("th",{children:"Usu\xe1rio"}),(0,Lt.jsx)("th",{children:"Detalhes"})]})}),(0,Lt.jsx)("tbody",{children:r.map(e=>{var t,n,r,o,i,a,s,c,l,u;return(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:null!==(t=e.createdAt)&&void 0!==t&&t.toDate?e.createdAt.toDate().toLocaleString():"\u2014"}),(0,Lt.jsx)("td",{children:e.acao}),(0,Lt.jsx)("td",{children:(null===(n=e.produto)||void 0===n?void 0:n.nome)||(null!==(r=null===(o=e.produto)||void 0===o||null===(i=o.antes)||void 0===i?void 0:i.nome)&&void 0!==r?r:null===(a=e.produto)||void 0===a||null===(s=a.depois)||void 0===s?void 0:s.nome)||"\u2014"}),(0,Lt.jsx)("td",{children:(null===(c=e.usuario)||void 0===c?void 0:c.nome)||"\u2014"}),(0,Lt.jsx)("td",{style:{maxWidth:400,wordBreak:"break-word"},children:"editado"===e.acao?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("strong",{children:"Antes:"})," ",null!==(l=e.produto)&&void 0!==l&&l.antes?JSON.stringify(e.produto.antes):"\u2014",(0,Lt.jsx)("br",{}),(0,Lt.jsx)("strong",{children:"Depois:"})," ",null!==(u=e.produto)&&void 0!==u&&u.depois?JSON.stringify(e.produto.depois):"\u2014"]}):JSON.stringify(e.produto)})]},e.id)})})]})]})}const TP=function(){const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)(null),[i,a]=(0,e.useState)(!1),[s,c]=(0,e.useState)(null),[l,h]=(0,e.useState)(null),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(!1);function m(e,r){n(u(u({},t),{},{[e]:r}))}return(0,e.useEffect)(()=>{!async function(){var e;const t=null===(e=fS.currentUser)||void 0===e?void 0:e.uid;if(!t)return;const r=zd(pS,"usuarios",t),i=await Wf(r);if(i.exists()){const e=i.data();if(n(e),!1===e.senhaAlterada&&g(!0),e.estabelecimentoId){const t=zd(pS,"estabelecimentos",e.estabelecimentoId),n=await Wf(t);n.exists()&&o(n.data())}}}()},[]),(0,Lt.jsxs)("div",{className:"container mt-5",children:[(0,Lt.jsx)("h2",{children:"\ud83d\udc64 Perfil do Colaborador"}),t?(0,Lt.jsxs)("div",{className:"card p-4 shadow",children:[(0,Lt.jsxs)("div",{className:"text-center mb-4",children:[(0,Lt.jsx)("img",{src:s||t.fotoURL||"https://via.placeholder.com/140",alt:"Perfil",className:"rounded-circle shadow",width:"140",height:"140"}),i&&(0,Lt.jsx)("div",{className:"mt-2",children:(0,Lt.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){const t=e.target.files[0];t&&(h(t),c(URL.createObjectURL(t)))}})})]}),p&&(0,Lt.jsxs)("div",{className:"alert alert-warning",children:["\u26a0\ufe0f Sua senha foi resetada para ",(0,Lt.jsx)("strong",{children:"123456"}),". Clique ",(0,Lt.jsx)("button",{className:"btn btn-sm btn-outline-primary ms-2",onClick:async function(){const e=prompt("Digite sua nova senha:");if(!e)return alert("Senha n\xe3o alterada.");try{var t;await(n=fS.currentUser,r=e,Bw(bn(n),null,r));const o=null===(t=fS.currentUser)||void 0===t?void 0:t.uid,i=zd(pS,"usuarios",o);await Xf(i,{senhaAlterada:!0}),g(!1),alert("\u2705 Senha alterada com sucesso!")}catch(o){console.error("Erro ao alterar senha:",o),alert("\u274c Erro ao alterar senha. Tente novamente.")}var n,r},children:"aqui"})," para alterar."]}),(0,Lt.jsxs)("div",{className:"row",children:[(0,Lt.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Lt.jsx)("label",{children:"Nome"}),(0,Lt.jsx)("input",{className:"form-control",disabled:!i,value:t.nome||"",onChange:e=>m("nome",e.target.value)})]}),(0,Lt.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Lt.jsx)("label",{children:"Email"}),(0,Lt.jsx)("input",{className:"form-control",disabled:!0,value:t.email||""})]}),(0,Lt.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Lt.jsx)("label",{children:"Telefone"}),(0,Lt.jsx)("input",{className:"form-control",disabled:!i,value:t.telefone||"",onChange:e=>m("telefone",e.target.value)})]}),(0,Lt.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Lt.jsx)("label",{children:"CPF"}),(0,Lt.jsx)("input",{className:"form-control",disabled:!i,value:t.cpf||"",onChange:e=>m("cpf",e.target.value)})]}),(0,Lt.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,Lt.jsx)("label",{children:"Endere\xe7o"}),(0,Lt.jsx)("input",{className:"form-control",disabled:!i,value:t.endereco||"",onChange:e=>m("endereco",e.target.value)})]})]}),r&&(0,Lt.jsxs)("div",{className:"alert alert-info mt-3",children:[(0,Lt.jsx)("strong",{children:"Empresa:"})," ",r.nome]}),(0,Lt.jsx)("div",{className:"mt-3 d-flex gap-2",children:i?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("button",{className:"btn btn-success",onClick:async function(){var e,r;if(t.nome&&t.telefone&&t.endereco&&t.cpf)if(function(e){if(11!==(e=e.replace(/\D/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t,n=0;for(let r=1;r<=9;r++)n+=parseInt(e.substring(r-1,r))*(11-r);if(t=10*n%11,10!==t&&11!==t||(t=0),t!==parseInt(e.substring(9,10)))return!1;n=0;for(let r=1;r<=10;r++)n+=parseInt(e.substring(r-1,r))*(12-r);return t=10*n%11,10!==t&&11!==t||(t=0),t===parseInt(e.substring(10,11))}(t.cpf))try{var o;f(!0);const i=null===(o=fS.currentUser)||void 0===o?void 0:o.uid;if(!i)return void alert("Usu\xe1rio n\xe3o autenticado.");const s=zd(pS,"usuarios",i);let d=t.fotoURL||null;if(l){const t=(e=gS,r="perfil/".concat(i,"/perfil.jpg"),iS(e=bn(e),r));await function(e,t,n){return tS(e=bn(e),t,n)}(t,l),d=await function(e){return nS(e=bn(e))}(t)}const p={nome:t.nome,telefone:t.telefone,endereco:t.endereco,cpf:t.cpf,dadosConfirmados:!0,atualizadoEm:new Date};d&&(p.fotoURL=d),await Xf(s,p),n(e=>u(u(u({},e),p),{},{fotoURL:d||e.fotoURL})),alert("\u2705 Dados atualizados com sucesso!"),a(!1),h(null),c(null)}catch(i){console.error("ERRO AO SALVAR:",i),alert("\u274c Erro ao salvar os dados.")}finally{f(!1)}else alert("CPF inv\xe1lido!");else alert("Preencha todos os campos obrigat\xf3rios.")},disabled:d,children:"\ud83d\udcbe Salvar"}),(0,Lt.jsx)("button",{className:"btn btn-secondary",onClick:()=>a(!1),children:"\u274c Cancelar"})]}):(0,Lt.jsx)("button",{className:"btn btn-primary",onClick:()=>a(!0),children:"\u270f\ufe0f Editar"})})]}):(0,Lt.jsx)("p",{children:"Carregando informa\xe7\xf5es..."})]})};function NP(){const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(""),i=Se();return(0,Lt.jsx)("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:(0,Lt.jsxs)("div",{className:"card shadow p-4",style:{width:"400px"},children:[(0,Lt.jsx)("h3",{className:"text-center mb-3",children:"Acessar Sistema"}),(0,Lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await function(e,t,n){return Dr(e.app)?Promise.reject(Wy(e)):Mw(bn(e),bw.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Lw(e),t})}(fS,t,r),n=await Wf(zd(pS,"usuarios",e.user.uid));if(!n.exists())return void alert("Usu\xe1rio n\xe3o encontrado no sistema.");"admin"===n.data().tipo?i("/admin"):i("/painel-colaborador")}catch(n){alert("Erro ao fazer login: "+n.message)}},children:[(0,Lt.jsx)("input",{className:"form-control mb-2",type:"email",placeholder:"Email",value:t,onChange:e=>n(e.target.value),required:!0}),(0,Lt.jsx)("input",{className:"form-control mb-3",type:"password",placeholder:"Senha",value:r,onChange:e=>o(e.target.value),required:!0}),(0,Lt.jsx)("button",{className:"btn btn-primary w-100 mb-2",children:"Entrar"})]}),(0,Lt.jsx)("div",{className:"text-center mt-2",children:(0,Lt.jsxs)("small",{children:["N\xe3o tem uma conta? ",(0,Lt.jsx)(Nt,{to:"/cadastro-usuario",children:"Cadastre-se"})]})})]})})}function OP(){const t=Se(),{userData:n,loading:r}=vS();(0,e.useEffect)(()=>{r||"admin"===(null===n||void 0===n?void 0:n.tipo)||t("/login")},[r,n,t]);const o=(null===n||void 0===n?void 0:n.estabelecimentoId)||null,i=(null===n||void 0===n?void 0:n.nome)||"Administrador";return r?(0,Lt.jsx)("p",{children:"Carregando..."}):(0,Lt.jsxs)("div",{className:"container mt-5",children:[(0,Lt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Lt.jsxs)("h2",{children:["\ud83d\udc4b Bem-vindo, ",i]}),(0,Lt.jsx)("button",{onClick:async()=>{await jw(fS),t("/login")},className:"btn btn-outline-danger btn-sm",children:"Sair"})]}),(0,Lt.jsxs)("div",{className:"row g-4",children:[(0,Lt.jsx)("div",{className:"col-md-3",children:(0,Lt.jsxs)("div",{className:"card text-center shadow p-3",children:[(0,Lt.jsx)("h5",{children:"\ud83d\udc65 Colaboradores"}),(0,Lt.jsx)("p",{className:"text-muted small",children:"Gerencie sua equipe"}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>t("/colaboradores"),children:"Acessar"})]})}),(0,Lt.jsx)("div",{className:"col-md-3",children:(0,Lt.jsxs)("div",{className:"card text-center shadow p-3",children:[(0,Lt.jsx)("h5",{children:"\ud83d\udce6 Estoque Entradas"}),(0,Lt.jsx)("p",{className:"text-muted small",children:"Controle e monitoramento"}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>t("/estoque"),children:"Acessar"})]})}),(0,Lt.jsx)("div",{className:"col-md-3",children:(0,Lt.jsxs)("div",{className:"card text-center shadow p-3",children:[(0,Lt.jsx)("h5",{children:"\ud83d\udce6 Estoque Sa\xeddas"}),(0,Lt.jsx)("p",{className:"text-muted small",children:"Controle e monitoramento"}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>t("/registrar-saidas"),children:"Acessar"})]})}),(0,Lt.jsx)("div",{className:"col-md-3",children:(0,Lt.jsxs)("div",{className:"card text-center shadow p-3",children:[(0,Lt.jsx)("h5",{children:"\ud83d\udd52 Hist\xf3rico Estoque"}),(0,Lt.jsx)("p",{className:"text-muted small",children:"Veja altera\xe7\xf5es e movimenta\xe7\xf5es"}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm",disabled:!o,onClick:()=>t("/admin/estabelecimento/".concat(o,"/historico-estoque")),children:"Acessar"}),!o&&(0,Lt.jsx)("small",{className:"text-danger d-block mt-2",children:"Nenhum estabelecimento vinculado."})]})}),(0,Lt.jsx)("div",{className:"col-md-3",children:(0,Lt.jsxs)("div",{className:"card text-center shadow p-3",children:[(0,Lt.jsx)("h5",{children:"\ud83d\uddc2\ufe0f Categorias"}),(0,Lt.jsx)("p",{className:"text-muted small",children:"Gerencie produtos"}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm",disabled:!o,onClick:()=>t("/admin/estabelecimento/".concat(o,"/categorias")),children:"Acessar"}),!o&&(0,Lt.jsx)("small",{className:"text-danger d-block mt-2",children:"Nenhum estabelecimento vinculado."})]})}),(0,Lt.jsx)("div",{className:"col-md-3",children:(0,Lt.jsxs)("div",{className:"card text-center shadow p-3",children:[(0,Lt.jsx)("h5",{children:"\ud83d\ude9a Fornecedores"}),(0,Lt.jsx)("p",{className:"text-muted small",children:"Controle de compras"}),(0,Lt.jsx)("button",{className:"btn btn-primary btn-sm",disabled:!o,onClick:()=>t("/admin/estabelecimento/".concat(o,"/fornecedores")),children:"Acessar"})]})})]})]})}const RP=function(){const t=Se(),{userData:n}=vS(),r=(null===n||void 0===n?void 0:n.nome)||"",[o,i]=(0,e.useState)("Carregando...");return(0,e.useEffect)(()=>{(async()=>{if(!n)return;const e=n.estabelecimentoId;if(e)try{const t=zd(pS,"estabelecimentos",e),n=await Wf(t);n.exists()?i(n.data().nome||"Sem nome cadastrado"):i("Estabelecimento n\xe3o encontrado")}catch(t){console.error("Erro ao carregar estabelecimento:",t),i("Erro ao carregar")}else i("ID n\xe3o encontrado")})()},[n]),(0,Lt.jsxs)(JS,{className:"p-4 shadow-lg",children:[(0,Lt.jsx)("h3",{className:"text-primary text-center mb-3",children:"Painel do Colaborador"}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Estabelecimento:"})," ",o]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Colaborador:"})," ",r]}),(0,Lt.jsxs)("div",{className:"text-center mt-3",children:[(0,Lt.jsx)(xy,{variant:"warning",className:"me-2",onClick:()=>t("/home-colaborador"),children:"Dados do coloborador"}),(0,Lt.jsx)(xy,{variant:"warning",className:"me-2",onClick:()=>t("/estoque"),children:"Registrar Entrada"}),(0,Lt.jsx)(xy,{variant:"danger",className:"me-2",onClick:()=>t("/registrar-saidas"),children:"Registrar Sa\xedda"}),(0,Lt.jsx)(xy,{variant:"secondary",onClick:()=>t("/controle-estoque/".concat(null===n||void 0===n?void 0:n.estabelecimentoId)),children:"Consultar Estoque"})]})]})};function kP(){const{userData:t}=vS(),n=null===t||void 0===t?void 0:t.estabelecimentoId,[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(null),[s,c]=(0,e.useState)(""),[l,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)("");(0,e.useEffect)(()=>{n&&async function(){const e=Of(Vd(pS,"estoque"),kf("estabelecimentoId","==",n)),t=await qf(e);o(t.docs.map(e=>u({id:e.id},e.data())))}()},[n]);const m=e=>{if(!e)return;const t=e.toLowerCase(),n=r.find(n=>n.codigoBarras===e||n.nome.toLowerCase().includes(t));n?(a(n),c(""),g("Produto selecionado: ".concat(n.nome)),f(!1)):g("\u274c Produto n\xe3o encontrado")};return(0,Lt.jsxs)("div",{className:"container mt-4",children:[(0,Lt.jsx)("h3",{children:"\ud83d\udce4 Registrar Sa\xedda"}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Colaborador:"})," ",null===t||void 0===t?void 0:t.nome]}),(0,Lt.jsx)("input",{className:"form-control mb-2",placeholder:"Buscar por nome ou c\xf3digo de barras",value:l,onChange:e=>h(e.target.value)}),(0,Lt.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>m(l),children:"Buscar"}),(0,Lt.jsx)("button",{className:"btn btn-secondary",onClick:()=>f(!d),children:d?"Fechar Scanner":"Escanear C\xf3digo"}),d&&(0,Lt.jsx)("div",{className:"mt-3",children:(0,Lt.jsx)(wP,{width:300,height:200,onUpdate:(e,t)=>{t&&m(t.text)}})}),i&&(0,Lt.jsxs)("div",{className:"mt-4",children:[(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Produto:"})," ",i.nome]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"C\xf3digo de Barras:"})," ",i.codigoBarras||"\u2014"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Estoque Atual:"})," ",i.quantidade]}),(0,Lt.jsx)("input",{type:"number",className:"form-control mb-2",placeholder:"Quantidade (padr\xe3o = 1)",value:s,onChange:e=>c(e.target.value),min:"1",max:i.quantidade}),(0,Lt.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(!i)return;const e=s?Number(s):1;if(e>i.quantidade)return void alert("Quantidade maior que o estoque dispon\xedvel");const r=i.quantidade-e;await Xf(zd(pS,"estoque",i.id),{quantidade:r}),await bP(n,"saida",{nome:i.nome,codigoBarras:i.codigoBarras||"\u2014",quantidade:e,antes:i.quantidade,depois:r},t),a(null),c(""),h(""),g("\u2705 Sa\xedda registrada com sucesso");const l=Of(Vd(pS,"estoque"),kf("estabelecimentoId","==",n)),d=await qf(l);o(d.docs.map(e=>u({id:e.id},e.data())))},children:"Registrar Sa\xedda"})]}),p&&(0,Lt.jsx)("p",{className:"mt-3",children:p}),(0,Lt.jsx)("hr",{}),(0,Lt.jsx)("h5",{children:"Produtos em Estoque"}),(0,Lt.jsxs)("table",{className:"table table-striped",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Produto"}),(0,Lt.jsx)("th",{children:"C\xf3digo de Barras"}),(0,Lt.jsx)("th",{children:"Categoria"}),(0,Lt.jsx)("th",{children:"Quantidade"})]})}),(0,Lt.jsx)("tbody",{children:r.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.nome}),(0,Lt.jsx)("td",{children:e.codigoBarras||"\u2014"}),(0,Lt.jsx)("td",{children:e.categoria}),(0,Lt.jsx)("td",{children:e.quantidade})]},e.id))})]})]})}const xP=function(){return(0,Lt.jsx)(yS,{children:(0,Lt.jsx)(It,{children:(0,Lt.jsxs)("div",{className:"d-flex flex-column min-vh-100 bg-light",children:[(0,Lt.jsx)(wS,{}),(0,Lt.jsx)("main",{className:"flex-grow-1 container py-4",children:(0,Lt.jsxs)(Xe,{children:[(0,Lt.jsx)(Ge,{path:"/",element:(0,Lt.jsx)(We,{to:"/login",replace:!0})}),(0,Lt.jsx)(Ge,{path:"/login",element:(0,Lt.jsx)(NP,{})}),(0,Lt.jsx)(Ge,{path:"/admin/estabelecimento/:id/historico-estoque",element:(0,Lt.jsx)(IP,{})}),(0,Lt.jsx)(Ge,{path:"/admin",element:(0,Lt.jsx)(bS,{element:(0,Lt.jsx)(OP,{})})}),(0,Lt.jsx)(Ge,{path:"/cadastro-usuario",element:(0,Lt.jsx)(YA,{})}),(0,Lt.jsx)(Ge,{path:"/cadastro-estabelecimento",element:(0,Lt.jsx)(KA,{})}),(0,Lt.jsx)(Ge,{path:"/painel-colaborador",element:(0,Lt.jsx)(RP,{})}),(0,Lt.jsx)(Ge,{path:"/colaboradores",element:(0,Lt.jsx)(eI,{})}),(0,Lt.jsx)(Ge,{path:"/controle-estoque/:estabelecimentoId",element:(0,Lt.jsx)(tI,{})}),(0,Lt.jsx)(Ge,{path:"/estoque",element:(0,Lt.jsx)(EP,{})}),(0,Lt.jsx)(Ge,{path:"/registrar-saidas",element:(0,Lt.jsx)(kP,{})}),(0,Lt.jsx)(Ge,{path:"/home-colaborador",element:(0,Lt.jsx)(TP,{})}),(0,Lt.jsx)(Ge,{path:"/admin/estabelecimento/:id/categorias",element:(0,Lt.jsx)(bS,{element:(0,Lt.jsx)($A,{})})}),(0,Lt.jsx)(Ge,{path:"/admin/estabelecimento/:id/fornecedores",element:(0,Lt.jsx)(_P,{})}),(0,Lt.jsx)(Ge,{path:"/categoria-detalhes",element:(0,Lt.jsx)(ZA,{})})]})}),(0,Lt.jsx)(Bt,{})]})})})},DP=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)})};r.createRoot(document.getElementById("root")).render((0,Lt.jsx)(e.StrictMode,{children:(0,Lt.jsx)(xP,{})})),DP()})()})();
//# sourceMappingURL=main.335acb18.js.map